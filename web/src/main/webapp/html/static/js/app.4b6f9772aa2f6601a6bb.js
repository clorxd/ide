webpackJsonp([1],{"+X4o":function(e,t){},"+oLu":function(e,t){},"+vPR":function(e,t){},"/4qP":function(e,t){},"/HBw":function(e,t){},"/tCD":function(e,t,o){"use strict";(function(e){var s=o("bOdI"),r=o.n(s),n=function(e){e=e||{},this.options=e,this.file=e.file,this.editor=e.editor,this.readyonly=e.readyonly,this.init()};n.prototype.init=function(){this.text="代码",this.key="CODE-EDITOR"},n.prototype.getCode=function(){return this.lastText},n.prototype.setCode=function(e){return this.lastText=e,this.codeMirror.setValue(e)},n.prototype.setCacheData=function(e){this.setCode(e)},n.prototype.loadLastContent=function(e){e&&e(this.getCode())},n.prototype.callChange=function(){var e=this.getCode();e==this.file.content?this.editor.onChange(!1,e,this):this.editor.onChange(!0,e,this)},n.prototype.show=function(){var e=this;this.editor.loadLastContent(function(t){e.getCode()!=t&&e.setCode(t)})},n.prototype.build=function(t){var o,s=this,n=this.file;t.empty();var a=e("<textarea></textarea>");a.val(n.content),a.css("width","100%"),a.css("height","100%"),t.append(a);var i="htmlmixed";i="css"==n.type?"css":"js"==n.type?"javascript":"html"==n.type?"htmlmixed":"xml"==n.type?"xml":"java"==n.type?"text/x-java":"properties"==n.type?"properties":"md"==n.type?"markdown":"vue"==n.type?"vue":"gitignore"==n.type?"markdown":"go"==n.type?"text/x-go":"cmd"==n.type?"powershell":"sh"==n.type||"shell"==n.type?"shell":"python"==n.type?"python":"php"==n.type?"php":this.editor.isYaml?"yaml":"htmlmixed",this.codeMirror=CodeMirror.fromTextArea(a[0],(o={mode:i,theme:"lesser-dark",keyMap:"sublime",lineNumbers:!0,smartIndent:!0,indentUnit:4,indentWithTabs:!0,styleActiveLine:!0,lineWrapping:!1,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],foldGutter:!0,autofocus:!0,matchBrackets:!0,autoCloseBrackets:!0},r()(o,"styleActiveLine",!0),r()(o,"readOnly",this.readyonly),r()(o,"extraKeys",{"Alt-/":"autocomplete","Alt-Q":function(){s.codeMirror.showHint()},"Ctrl-S":function(){s.editor.save(s.getCode(),function(e){e&&s.callChange()})}}),r()(o,"hintOptions",{hint:function(e,t){var o=CodeMirror.hint.anyword(e,t);return o}}),o)),this.codeMirror.on("change",function(){s.lastText=s.codeMirror.getValue(),s.callChange()}),this.lastText=n.content},t.a=n}).call(t,o("7t+N"))},"/uKL":function(e,t,o){"use strict";(function(e){o("IcnI");t.a={name:"Res",components:{},data:function(){return{loading:!1,form:{name:"",email:"",loginname:"",password:""},rules:{name:[{required:!0,message:"请输入用户名称！",trigger:"blur"}],loginname:[{required:!0,message:"请输入登录账号！",trigger:"blur"},{pattern:/^(?!_)(?!.*?_$)(?!\.)(?!.*?\.$)(?!-)(?!.*?-$)[a-zA-Z0-9_\.\-]{1,20}$/,message:"请输入正确的账号格式！"}],email:[{required:!0,message:"请输入邮箱！",trigger:"blur"},{pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,message:"请输入正确的邮箱格式！"}],password:[{required:!0,message:"请输入登录密码！",trigger:"blur"}]}}},methods:{toLogin:function(){source.toLogin()},doRegister:function(){var e=this,t=this;this.$refs["register-form"].validate(function(o){if(!o)return!1;var s=e.form;e.loading=!0,source.do("REGISTER",s).then(function(o){0==o.errcode?(coos.success("注册成功，正在跳转到登录页."),window.setTimeout(function(){this.loading=!1,t.toLogin()},500)):(e.loading=!1,coos.error(o.errmsg))})})},init:function(){var t=this;e(".register-page").on("keydown",function(e){var o=window.event||e;13==(o.keyCode||o.which)&&t.doRegister()})}},mounted:function(){this.init();e(this.$el).click(function(t){e(t.target).closest(".register-box").length>0||(source.show_register=!1)})},beforeCreate:function(){}}}).call(t,o("7t+N"))},"014V":function(e,t){},"2QHr":function(e,t){},"4u5q":function(e,t){},"5XyP":function(e,t){},"5o2C":function(e,t){},"6bOp":function(e,t){},"6nY4":function(e,t){},"6pu+":function(e,t,o){"use strict";(function(e){var s=o("DuqN");t.a={components:{ContextmenuMenus:s.a},props:["contextmenu"],data:function(){return{showbottom:!1,source:source}},beforeMount:function(){},watch:{"contextmenu.show":function(e){if(1==e){this.showbottom=!1;var t=window.event;if(t)t.pageY}}},methods:{callShow:function(t){var o=this,s=(t=t||window.event).pageX,r=t.pageY;this.contextmenu.show=!0,this.contextmenu.left=s+"px",this.contextmenu.top=r+"px",this.showbottom=!1,this.$nextTick(function(){var t=e(window).height()-r,s=e(o.$el).outerHeight();t<s+30&&(o.showbottom=!0,o.contextmenu.top=r-s+"px")})}},mounted:function(){var t=this,o=e(this.$el);e(document).on("click","html",function(s){e(s.target).closest(".contextmenu-box")[0]!=o[0]&&(t.contextmenu.show=!1)})}}}).call(t,o("7t+N"))},"6tEo":function(e,t){},"765r":function(e,t){},BIJG:function(e,t,o){"use strict";var s={name:"Header",data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{doLogout:function(){source.doLogout()}},computed:{},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-header"},[o("div",{staticClass:"app-header-left"},[o("ul",{staticClass:"coos-nav coos-nav-ul app-header-nav"},[o("li",[o("a",{attrs:{href:e._ROOT_URL}},[o("img",{attrs:{src:e._SERVER_URL+"/resources/images/coos-30.jpg"}})])]),e._v(" "),o("li",[o("a",{attrs:{href:e._ROOT_URL}},[o("h2",{},[e._v("TeamIDE")])])]),e._v(" "),e._m(0)])]),e._v(" "),o("div",{staticClass:"app-header-center"},[o("ul",{staticClass:"coos-nav coos-nav-ul app-header-nav"},[o("li",[o("a",{attrs:{target:"_blank",href:e._SERVER_URL+"/resources/font/demo_index.html"}},[e._v("IconFont")])]),e._v(" "),e.source.isManager?o("li",{staticClass:"coos-nav-left"},[o("a",[e._v("系统管理")]),e._v(" "),o("ul",{staticClass:"coos-nav-ul"},[o("li",{},[o("router-link",{attrs:{to:"/manage/configure"}},[e._v("系统设置")])],1),e._v(" "),o("li",{},[o("router-link",{attrs:{to:"/manage/environment"}},[e._v("TeamIDE环境配置")])],1),e._v(" "),o("li",{},[o("router-link",{attrs:{to:"/manage/remote"}},[e._v("远程服务器配置")])],1),e._v(" "),o("li",{},[o("router-link",{attrs:{to:"/manage/plugin"}},[e._v("插件管理")])],1)])]):e._e()])]),e._v(" "),o("div",{staticClass:"app-header-right"},[o("ul",{staticClass:"coos-nav coos-nav-ul app-header-nav"},[null!=e.source.LOGIN_USER?o("li",{staticClass:"coos-nav-left"},[o("a",[o("img",{attrs:{src:e._SERVER_URL+"/resources/images/coos-30.jpg"}}),e._v("\n          "+e._s(e.source.LOGIN_USER.name)+"\n        ")]),e._v(" "),o("ul",{staticClass:"coos-nav-ul"},[o("li",{},[o("a",{attrs:{href:e.app.getSpaceUrl(e.source.LOGIN_USER.space)}},[e._v("我的仓库")])]),e._v(" "),o("li",{},[o("router-link",{attrs:{to:"/user/center"}},[e._v("个人中心")])],1),e._v(" "),o("li",{},[o("a",{on:{click:function(t){return e.doLogout()}}},[e._v("退出")])])])]):e._e(),e._v(" "),null!=e.source.LOGIN_USER?o("li",{staticClass:"coos-nav-left"},[o("a",{on:{click:function(t){return e.source.toPreference()}}},[e._v("偏好设置")])]):e._e(),e._v(" "),null==e.source.LOGIN_USER?o("li",{staticClass:"coos-nav-left"},[o("a",{on:{click:function(t){return e.source.toLogin()}}},[e._v("登录")])]):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",[t("input",{staticClass:"coos-search-input coos-bd-no",attrs:{placeholder:"搜索"}})])])}]};var n=o("VU/8")(s,r,!1,function(e){o("/HBw")},"data-v-449d5eae",null);t.a=n.exports},Bxcx:function(e,t){},"CO+v":function(e,t){},Cefs:function(e,t){},DuqN:function(e,t,o){"use strict";var s={name:"ContextmenuMenus",components:{ContextmenuMenus:a},props:["contextmenu","menus","isSub"],data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{onClick:function(e){if(e&&e.onClick){if(e.disabled)return;e.onClick(),this.contextmenu.show=!1}}},mounted:function(){}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{class:{"contextmenu-submenu":e.isSub,contextmenu:!e.isSub}},[null!=e.menus?[e._l(e.menus,function(t,s){return[t.divider?o("li",{key:s,staticClass:"divider"}):null!=t.header?o("li",{key:s,staticClass:"header"},[e._v(e._s(t.header))]):o("li",{key:s,class:{"has-sub":null!=t.menus&&t.menus.length>0,disabled:t.disabled},on:{click:function(o){return e.onClick(t)}}},[o("a",{attrs:{target:t.target,href:t.href}},[e._v(e._s(t.text))]),e._v(" "),null!=t.menus?[o("ContextmenuMenus",{attrs:{menus:t.menus,contextmenu:e.contextmenu,isSub:!0}})]:e._e()],2)]})]:e._e()],2)},staticRenderFns:[]};var n=o("VU/8")(s,r,!1,function(e){o("j5ew")},"data-v-9b04ba5e",null),a=t.a=n.exports},EvAD:function(e,t,o){"use strict";(function(e){o("IcnI");t.a={name:"Login",components:{},data:function(){var e="",t="",o="";return window.localStorage&&(o=localStorage.getItem("rememberpassword"),coos.isTrue(o)&&(e=localStorage.getItem("loginname"),t=localStorage.getItem("password"))),{source:source,loading:!1,form:{loginname:e,password:t,rememberpassword:coos.isTrue(o)},rules:{loginname:[{required:!0,message:"请输入登录名称！",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码！",trigger:"blur"}]}}},methods:{toRegister:function(){source.toRegister()},doLogin:function(){var e=this;this.$refs["login-form"].validate(function(t){if(!t)return!1;var o=e.form;e.loading=!0,source.do("LOGIN",o).then(function(t){if(0==t.errcode){coos.success("登录成功.");try{window.localStorage&&(coos.isTrue(o.rememberpassword)?(localStorage.setItem("loginname",o.loginname),localStorage.setItem("password",o.password),localStorage.setItem("rememberpassword","true")):(localStorage.removeItem("loginname"),localStorage.removeItem("password"),localStorage.removeItem("rememberpassword")))}catch(e){}window.setTimeout(function(){e.loading=!1,window.location.reload()},300)}else coos.error(t.errmsg),e.loading=!1})})},init:function(){var t=this;e(".login-page").on("keydown",function(e){var o=window.event||e;13==(o.keyCode||o.which)&&t.doLogin()})}},mounted:function(){this.init();e(this.$el).click(function(t){e(t.target).closest(".login-box").length>0||(source.show_login=!1)})},beforeCreate:function(){}}}).call(t,o("7t+N"))},Ffh7:function(e,t,o){"use strict";(function(e){var o=window.source=new Object;o.isLogin=!1,o.LOGIN_USER=null,o.isManager=!1,o.roles=[],o.SPACE_TYPE=null,o.branch=null,o.UPGRADE_STATUS=null,o.UPGRADE_DOWNLOAD={count:0,downloaded_count:0,downloading_path:""},o.cache={},o.repository={loading:!1,branchs:[],branch:null,projects:[],git:null,terminals:[],runners:[],opens:[],open_files:[],open_folders:[],activeTab:null,tabs:[],change_files:[],contextmenu:{show:!1,menus:[]}},o.toPreference=function(){o.preferenceForm.show()},o.changePreference=function(){o.initPreferenceStyle()},o.initPreferenceStyle=function(){var t=e("#preference-style");0==t.length&&(t=e('<style type="text/css" id="preference-style"></style>'),e("head").append(t)),t.empty();var s=o.preference;s&&t.append(".editor-designer-box .CodeMirror{font-size: "+s.fontsize+"px !important; }")},window.source=o,t.a=o}).call(t,o("7t+N"))},G2al:function(e,t,o){"use strict";var s={name:"IndexIndex",data:function(){return{source:source}},methods:{toLogin:function(){source.toLogin()}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coos-jumbotron"},[o("h1",{staticClass:"color-lime pdb-20"},[e._v("TeamIDE 团队在线开发平台")]),e._v(" "),o("p",[e._v("开发者可以在线建库、建表、可视化编辑页面、编辑服务、在线预览、导出工程的")]),e._v(" "),o("p",[e._v("TeamIDE开发平台，致力于项目在线开发，可视化开发，最大程度减少开发者编码，提高应用开发效率")]),e._v(" "),e.source.isLogin?e._e():o("p",[e._v("\n    现在\n    "),o("a",{staticClass:"coos-link color-green pdlr-10",on:{click:function(t){return e.toLogin()}}},[e._v("登录")]),e._v("\n    开发者平台，在线开发您的应用吧！\n  ")]),e._v(" "),e.source.isLogin?o("p",[null==e.source.LOGIN_USER.space?[e._v("暂无仓库数据，请联系管理员。")]:[e._v("\n      您可以点击\n      "),o("a",{staticClass:"coos-link color-green pdlr-10",attrs:{href:e.app.getSpaceUrl(e.source.LOGIN_USER.space)}},[e._v("我的仓库")]),e._v("管理您的项目。\n    ")]],2):e._e()])},staticRenderFns:[]};var n=o("VU/8")(s,r,!1,function(e){o("Ono/")},"data-v-8aba21fc",null);t.a=n.exports},GIid:function(e,t){},GU9F:function(e,t,o){"use strict";var s=o("EvAD"),r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-page",class:{"show-login-page":e.source.show_login}},[o("div",{staticClass:"login-box"},[o("div",{staticClass:"login-content"},[o("h3",{staticClass:"text-center pd-10 color-white mgb-10"},[e._v("用户登录")]),e._v(" "),o("el-form",{ref:"login-form",attrs:{model:e.form,"status-icon":"",rules:e.rules}},[o("el-form-item",{attrs:{label:"",prop:"loginname"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.loginname,callback:function(t){e.$set(e.form,"loginname",t)},expression:"form.loginname"}},[o("i",{staticClass:"el-input__icon coos-icon coos-icon-user ft-20",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),o("el-form-item",{staticClass:"mgb-10",attrs:{label:"",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[o("i",{staticClass:"el-input__icon coos-icon coos-icon-lock ft-20",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),o("el-form-item",{staticClass:"aaaaa"},[o("el-checkbox",{staticClass:"rememberpassword",model:{value:e.form.rememberpassword,callback:function(t){e.$set(e.form,"rememberpassword",t)},expression:"form.rememberpassword"}},[e._v("记住密码")])],1),e._v(" "),e.loading?o("a",{staticClass:"coos-btn bg-green coos-btn-block coos-disabled"},[e._v("登录中")]):e._e(),e._v(" "),e.loading?e._e():o("a",{staticClass:"coos-btn bg-green coos-btn-block",on:{click:function(t){return e.doLogin()}}},[e._v("登录")])],1),e._v(" "),e.source.CONFIGURE.openregister?o("div",{staticClass:"mgt-10 pdb-20"},[o("div",{staticClass:"float-right"},[e._v("\n          暂无账号？\n          "),o("a",{staticClass:"coos-link color-white",on:{click:function(t){return e.toRegister()}}},[e._v("注册账号")])])]):e._e()],1)])])},staticRenderFns:[]};var n=function(e){o("Cefs")},a=o("VU/8")(s.a,r,!1,n,null,null);t.a=a.exports},GiY0:function(e,t){},HQoY:function(e,t){},I3Yi:function(e,t,o){"use strict";var s=o("fZjL"),r=o.n(s),n=(o("IcnI"),{name:"Install",components:{},data:function(){return{installError:!1,message:"平台初始化中...",show:"database",database:{form:{driver:"com.mysql.jdbc.Driver",url:"jdbc:mysql://127.0.0.1:3306/COOS?useUnicode=true&characterEncoding=utf8&serverTimezone=GMT",username:"root",password:"123456"},rules:{driver:[{required:!0,message:"请输入驱动！",trigger:"blur"}],url:[{required:!0,message:"请输入连接！",trigger:"blur"}],username:[{required:!0,message:"请输入用户名！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"}]}},admin:{form:{loginname:"admin",password:"123456",repassword:"123456",email:"admin@admin.com"},rules:{loginname:[{required:!0,message:"请输入登录名称！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"}],repassword:[{required:!0,message:"请确认密码！",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱！",trigger:"blur"}]}},configure:{form:{openregister:!0,defaultpassword:"123456"},rules:{defaultpassword:[{required:!0,message:"请输入默认密码！",trigger:"blur"}]}}}},methods:{back:function(){"admin"==this.show?this.show="database":"configure"==this.show?this.show="admin":"install"==this.show&&(this.show="configure")},submitDatabase:function(){var e=this;this.$refs["database-form"].validate(function(t){if(!t)return!1;e.show="admin"})},submitAdmin:function(){var e=this;this.$refs["admin-form"].validate(function(t){if(!t)return!1;e.show="configure"})},submitConfigure:function(){var e=this;this.$refs["configure-form"].validate(function(t){if(!t)return!1;e.show="install",e.doInstall()})},doInstall:function(){var e=this,t={};t.database=this.database.form,t.admin=this.admin.form,t.configure=this.configure.form,source.do("INSTALL",t).then(function(t){0==(t=t||{}).errcode?(coos.success("安装成功，即将刷新页面！"),window.setTimeout(function(){window.location.reload()},500)):(coos.error(t.errmsg),e.show="database")})},init:function(){var e=this;source.load("JDBC",{}).then(function(t){var o=(t=t||{}).value||{};if(o&&r()(o).length>0)for(var s in e.database.form)e.database.form[s]=o[s]})}},mounted:function(){this.init()},beforeCreate:function(){}}),a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"install-page"},[o("div",{staticClass:"coos-row mgt-100"},[o("div",{staticClass:"install-form-box coos-row"},[o("div",{staticClass:"coos-row install-form-one install-form-database",class:{show:"database"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("配置平台数据库")]),e._v(" "),o("el-form",{ref:"database-form",attrs:{model:e.database.form,"status-icon":"",rules:e.database.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"驱动",prop:"driver"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.driver,callback:function(t){e.$set(e.database.form,"driver",t)},expression:"database.form.driver"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"连接",prop:"url"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.url,callback:function(t){e.$set(e.database.form,"url",t)},expression:"database.form.url"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.username,callback:function(t){e.$set(e.database.form,"username",t)},expression:"database.form.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.password,callback:function(t){e.$set(e.database.form,"password",t)},expression:"database.form.password"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-right coos-btn bg-green",on:{click:function(t){return e.submitDatabase()}}},[e._v("确认，下一步")])])],1),e._v(" "),o("div",{staticClass:"coos-row install-form-one install-form-admin",class:{show:"admin"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("配置平台管理员")]),e._v(" "),o("el-form",{ref:"admin-form",attrs:{model:e.admin.form,"status-icon":"",rules:e.admin.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"登录账号",prop:"loginname"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.loginname,callback:function(t){e.$set(e.admin.form,"loginname",t)},expression:"admin.form.loginname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.password,callback:function(t){e.$set(e.admin.form,"password",t)},expression:"admin.form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.repassword,callback:function(t){e.$set(e.admin.form,"repassword",t)},expression:"admin.form.repassword"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.email,callback:function(t){e.$set(e.admin.form,"email",t)},expression:"admin.form.email"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-left coos-btn bg-orange",on:{click:function(t){return e.back()}}},[e._v("上一步")]),e._v(" "),o("a",{staticClass:"float-right coos-btn bg-green",on:{click:function(t){return e.submitAdmin()}}},[e._v("确认，下一步")])])],1),e._v(" "),o("div",{staticClass:"coos-row install-form-one install-form-configure",class:{show:"configure"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("系统设置")]),e._v(" "),o("el-form",{ref:"configure-form",attrs:{model:e.configure.form,"status-icon":"",rules:e.configure.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"开启注册",prop:"openregister"}},[o("el-switch",{model:{value:e.configure.form.openregister,callback:function(t){e.$set(e.configure.form,"openregister",t)},expression:"configure.form.openregister"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"默认密码",prop:"defaultpassword"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.configure.form.defaultpassword,callback:function(t){e.$set(e.configure.form,"defaultpassword",t)},expression:"configure.form.defaultpassword"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-left coos-btn bg-orange",on:{click:function(t){return e.back()}}},[e._v("上一步")]),e._v(" "),o("a",{staticClass:"float-right coos-btn bg-green",on:{click:function(t){return e.submitConfigure()}}},[e._v("安装")])])],1),e._v(" "),o("div",{staticClass:"coos-row install-form-one",class:{show:"install"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("平台初始化")]),e._v(" "),o("div",{staticClass:"coos-form coos-input-md pd-20"},[o("div",{staticClass:"ft-30 pd-20 text-center color-orange install-message"},[e._v(e._s(e.message))])]),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-left coos-btn bg-orange",attrs:{show:e.installError},on:{click:function(t){return e.back()}}},[e._v("上一步")])])])])])])},staticRenderFns:[]};var i=o("VU/8")(n,a,!1,function(e){o("jD92")},null,null);t.a=i.exports},IcnI:function(e,t,o){"use strict";var s=o("7+uW"),r=o("NYxO");s.default.use(r.a),t.a=new r.a.Store({plugins:[],state:{},getters:{},mutations:{session:function(e,t){}},actions:{},modules:{}})},JOhC:function(e,t){},KaJi:function(e,t,o){"use strict";var s=o("/uKL"),r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"register-page",class:{"show-register-page":e.source.show_register}},[o("div",{staticClass:"register-box"},[o("div",{staticClass:"register-content"},[o("h3",{staticClass:"text-center pd-10 color-white mgb-10"},[e._v("账号注册")]),e._v(" "),o("el-form",{ref:"register-form",staticClass:"coos-row",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"登录账号",prop:"loginname"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.loginname,callback:function(t){e.$set(e.form,"loginname",t)},expression:"form.loginname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),e.loading?o("a",{staticClass:"coos-btn bg-orange coos-btn-block coos-disabled"},[e._v("注册中")]):e._e(),e._v(" "),e.loading?e._e():o("a",{staticClass:"coos-btn bg-orange coos-btn-block",on:{click:function(t){return e.doRegister()}}},[e._v("注册")]),e._v(" "),o("div",{staticClass:"mgt-10 pdb-20"},[o("div",{staticClass:"float-right"},[e._v("\n          已有账号？\n          "),o("a",{staticClass:"coos-link color-white",on:{click:function(t){return e.toLogin()}}},[e._v("现在登录")])])])],1)])])},staticRenderFns:[]};var n=function(e){o("bjk6")},a=o("VU/8")(s.a,r,!1,n,null,null);t.a=a.exports},M93x:function(e,t,o){"use strict";var s=o("xJD8"),r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app"},[o("Header"),e._v(" "),e.source.installed?[null==e.source.space?[null==e.source.SPACE_TYPE?[o("router-view")]:[null!=e.source.space?[o("Toolbar")]:e._e(),e._v(" "),o("router-view")]]:[null!=e.source.space?[o("Toolbar")]:e._e(),e._v(" "),o("router-view"),e._v(" "),"REPOSITORYS"==e.source.SPACE_TYPE?[null==e.source.NOT_FOUND_REPOSITORY_BRANCH?[o("Rpository",{ref:"repository",attrs:{repository:e.source.repository}})]:e._e()]:e._e()]]:[o("Install")],e._v(" "),o("PreferenceForm",{ref:"preference-form"}),e._v(" "),o("Login"),e._v(" "),o("Register")],2)},staticRenderFns:[]};var n=function(e){o("GiY0")},a=o("VU/8")(s.a,r,!1,n,null,null);t.a=a.exports},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=o("7+uW"),s=o("zL8q"),r=o.n(s),n=o("tvR6"),a=(o.n(n),o("Z30y")),i=o("Qno7"),c=o("M93x"),l=o("YaEn"),u=o("IcnI");t.default.use(r.a),t.default.config.productionTip=!1,window.ide_main=function(){coos.startZIndex=2e3,t.default.prototype.coos=coos,t.default.prototype.app=a.a,t.default.prototype.source=i.a,t.default.prototype._SERVER_URL=window._SERVER_URL,t.default.prototype._ROOT_URL=window._ROOT_URL,i.a.ready().then(function(){new t.default({el:"#main",router:l.a,store:u.a,components:{App:c.a},mounted:function(){},template:"<App/>"}),e(".app-loading-box").addClass("hide"),window.setTimeout(function(){e(".app-loading-box").remove()},310)})},document.writeln('<script type="text/javascript" src="'+_SERVER_URL+'/resources/ide.resources.js"><\/script>'),document.writeln('<script type="text/javascript" src="'+_SERVER_URL+'/resources/ide.main.js"><\/script>')}.call(t,o("7t+N"))},NnnX:function(e,t){},"Ono/":function(e,t){},"PE4+":function(e,t){},Qno7:function(e,t,o){"use strict";var s=o("Ffh7"),r=(o("cqsX"),o("tcCa"),o("jks3"),o("fZjL")),n=o.n(r),a=o("woOf"),i=o.n(a),c=o("//Fk"),l=o.n(c);!function(){source.getModel=function(e){var t=null;return source.ENUM_MAP.MODEL_TYPE.forEach(function(o){o.value==e&&(t=o)}),t},source.get=function(e,o){return new l.a(function(s,r){if(coos.isEmpty(e))s&&s(null);else{source.cache[e]=source.cache[e]||{};var n=source.cache[e];null!=n[o]?s&&s(n[o]):t(e,o).then(function(e){n[o]=i()({},e),s&&s(n[o])})}})};var e={},t=function(t,o){return new l.a(function(s,r){if(coos.isEmpty(t))s&&s(null);else{var n=t+"-"+o;e[n]?e[n].push(s):(e[n]=[],e[n].push(s),source.load("ONE",{type:t,id:o}).then(function(t){var o=e[n];delete e[n],o.forEach(function(e){e&&e(t.value)})}))}})};source.do=function(e,t,o){return new l.a(function(s,r){if(("FILE_RENAME"==e||"FILE_MOVE"==e)&&o){var a=source.getProjectApp(o);if(a&&a.path_model_type){var i=null;n()(a.path_model_type).forEach(function(e){t.path&&t.path.startsWith(e)&&((i=a.path_model_type[e]).apppath=a.path,i.path=e)}),t.model=i}}source.server.do(e,t,o).then(function(r){if(s&&s(r),0==r.errcode){if(("FILE_CREATE"==e||"FILE_SAVE"==e||"FILE_RENAME"==e||"FILE_DELETE"==e||"FILE_MOVE"==e)&&(source.loadGitStatus(),null!=o)){var a=!1,i=source.getProjectApp(o);i&&i.path_model_type&&n()(i.path_model_type).forEach(function(e){t.path&&t.path.startsWith(e)&&(a=!0),t.parentPath&&t.parentPath.startsWith(e)&&(a=!0)}),a&&source.loadApp(o)}}else"10001000"==r.errcode&&source.toLogin()})})},source.load=function(e,t,o){t=t||{};var s=source.getModel(e);return s&&"PAGE"==s.type&&(coos.isEmpty(t.pageindex)&&source.data[e]&&(t.pageindex=Number(source.data[e].pageindex)+1),coos.isEmpty(t.pagesize)&&source.data[e]&&(t.pagesize=Number(source.data[e].pagesize))),source.server.load(e,t,o)},source.onData=function(e,t){var o=(t=t||{}).value;if("SESSION"==e)return o=o||{},source.LOGIN_USER=o.LOGIN_USER,source.isLogin=null!=source.LOGIN_USER,source.isManager=o.isManager,source.preference=o.preference||{},source.LOGIN_USER_TOKEN=o.LOGIN_USER_TOKEN,coos.trimList(source.roles),o.roles&&o.roles.forEach(function(e){source.roles.push(e)}),coos.isEmpty(source.spaceid)||source.load("SPACE"),void source.initPreferenceStyle();if("CONFIGURE"==e)return o=o||{},void i()(source.CONFIGURE,o);if("UPGRADE_DOWNLOAD"==e)return o=o||{},void i()(source.UPGRADE_DOWNLOAD,o);if("UPGRADE_STATUS"!=e)if("SPACE"!=e)if("REPOSITORY"!=e)if("PROJECT"!=e)if("FILE"!=e)if("FILES"!=e)if("GIT"!=e)if("GIT_WORK_STATUS"!=e)if("STARTER_OPTIONS"!=e)if("STARTERS"!=e)if("STARTER_LOG"!=e)if("STARTER_STATUS"!=e)if("RUNNER_OPTIONS"!=e)if("REPOSITORY_PERMISSIONS"!=e)if("PROJECT_PERMISSIONS"!=e)if("SPACE_PERMISSIONS"!=e){"PARENTS"==e?((o=o||[]).push(source.space),o.forEach(function(e,t){t+1<o.length&&(o[t+1].levels=e.childs)})):"REPOSITORY_STATUS"==e?source.onRepositoryStatus(o):"SPACE_TEAMS"==e?t.value&&t.value.forEach(function(e){e.data=null,"USERS"==e.type&&source.get("USER",e.recordid).then(function(t){e.data={name:t.name}})}):"SPACE_EVENTS"==e?t.value&&t.value.forEach(function(e){e.user=null,e.datetime=coos.formatDate(e.createtime),e.date=e.datetime.split(" ")[0];var t={};coos.isEmpty(e.data)||(t=JSON.parse(e.data)),e.data=t,e.user=null,source.get("USER",e.createuserid).then(function(t){t&&(e.user={name:t.name})})}):"DEPLOY_SERVERS"==e&&t.value&&t.value.forEach(function(e){});var s=source.getModel(e);null!=s&&("ONE"==s.type?null==source.data[e]?source.data[e]=o:coos.isObject(o)?i()(source.data[e],o):source.data[e]=o:"LIST"==s.type?(null==source.data[e]&&(source.data[e]=[]),source.data[e].splice(0,source.data[e].length),(o=o||[]).forEach(function(t){source.data[e].push(t)})):"PAGE"==s.type&&(null==source.data[e]&&(source.data[e]={pageindex:1,totalpages:0,totalcount:0,pagesize:10,uppage:1,nextpage:1,hasNext:!1,value:[],list:[]}),source.data[e].pageindex=t.pageindex,source.data[e].totalpages=t.totalpages,source.data[e].totalcount=t.totalcount,source.data[e].pagesize=t.pagesize,source.data[e].uppage=t.uppage,source.data[e].nextpage=t.nextpage,source.data[e].hasNext=t.pageindex<t.totalpages,source.data[e].value.splice(0,source.data[e].value.length),1==t.pageindex&&source.data[e].list.splice(0,source.data[e].list.length),t.value=t.value||[],t.value.forEach(function(t){source.data[e].value.push(t),source.data[e].list.push(t)})))}else source.onSpacePermissions(o);else source.onProjectPermissions(o);else source.onRepositoryPermissions(o);else source.onRunnerOptions(o);else source.onStarterStatus(o);else source.onStarterLog(o);else source.onStarters(o);else source.onStarterOptions(o);else source.onLoadGitWorkStatus(o);else source.onLoadGit(o);else source.onLoadFiles(o);else source.onLoadFile(o);else source.onLoadProject(o);else source.onLoadRepository(o);else source.onLoadSpace(o);else source.UPGRADE_STATUS=o}}();var u=source;source.space=null,source.NOT_PERMISSION=null,source.onLoadSpace=function(e){if(null!=e){if(coos.isEmpty(e.permission)||"NO"==e.permission)return source.NOT_PERMISSION="NOT_PERMISSION",void(source.space=null);e.SPACE_PERMISSIONS=[],e.levels=null,source.space=e,source.load("SPACE_PERMISSIONS"),source.load("PARENTS"),"REPOSITORYS"==source.space.type&&(source.loadRepository(),source.load("BRANCHS"))}else source.space=null},source.onSpacePermissions=function(e){e=e||[],coos.trimList(source.space.SPACE_PERMISSIONS),e.forEach(function(e){source.space.SPACE_PERMISSIONS.push(e)})},source.onRepositoryPermissions=function(e){e=e||[],coos.trimList(source.repository.REPOSITORY_PERMISSIONS),e.forEach(function(e){source.repository.REPOSITORY_PERMISSIONS.push(e)})},source.onProjectPermissions=function(e){e=e||[],coos.trimList(source.repository.PROJECT_PERMISSIONS),e.forEach(function(e){source.repository.PROJECT_PERMISSIONS.push(e)})},source.hasPermission=function(e){var t=!1;return!t&&source.repository&&source.repository.REPOSITORY_PERMISSIONS&&(t=source.repository.REPOSITORY_PERMISSIONS.indexOf(e)>=0),!t&&source.repository&&source.repository.PROJECT_PERMISSIONS&&(t=source.repository.PROJECT_PERMISSIONS.indexOf(e)>=0),!t&&source.space&&source.space.SPACE_PERMISSIONS&&(t=source.space.SPACE_PERMISSIONS.indexOf(e)>=0),t};source;source.repository.tabs=[],source.repository.activeTab=null,source.changeTab=function(){var e=source.getTab(source.repository.activeTab);null!=e&&(source.repository.tabs.forEach(function(t){t!=e&&(t.show_editor=!1)}),e.show_editor=!0)},source.callLoadChanged=function(e){if(e.isLoadChanged&&e.changed){var t=e.file_date;delete e.isLoadChanged,delete e.file_date,coos.confirm("文件["+e.path+"]内容发生更改，是否显示最新内容？").then(function(){e.changed=!1,e.$editor.empty(),delete e.editor,source.buildFileEditor(t)}).catch(function(){e.changed=e.oldChanged})}},source.getTab=function(e){var t=null;return source.repository.tabs.forEach(function(o,s){o.name==e&&(t=o)}),t},source.getTabIndex=function(e){var t=source.getTab(e);return null!=t?source.repository.tabs.indexOf(t):-1},source.closeOtherTab=function(e){var t=source.getTabIndex(e),o=source.getTab(e),s=[];source.repository.tabs.forEach(function(e,t){s.push(e)}),s.forEach(function(e,t){e!=o&&source.removeTab(e)}),source.openTabByIndex(t)},source.closeRightTab=function(e){var t=source.getTabIndex(e),o=source.getTabIndex(source.repository.activeTab),s=[];source.repository.tabs.forEach(function(e,t){s.push(e)});for(var r=t+1;r<s.length;r++){var n=s[r];null!=n&&source.removeTab(n)}o>t&&source.openTabByIndex(source.repository.tabs.length-1)},source.closeLeftTab=function(e){var t=source.getTabIndex(e),o=source.getTabIndex(source.repository.activeTab),s=[];source.repository.tabs.forEach(function(e,t){s.push(e)});for(var r=0;r<t;r++){var n=s[r];null!=n&&source.removeTab(n)}o<t&&source.openTabByIndex(0)},source.closeAllTab=function(e){var t=[];source.repository.tabs.forEach(function(e,o){t.push(e)});for(var o=0;o<t.length;o++){var s=t[o];null!=s&&source.removeTab(s)}source.openTabByIndex(0)},source.closeTab=function(e){var t=source.getTab(e);if(null!=t){var o=source.getTabIndex(source.repository.activeTab);source.removeTab(t),source.openTabByIndex(o)}},source.removeTab=function(e){if(null!=e){e.editor&&(e.editor.destroy(),delete e.editor);var t=source.repository.tabs.indexOf(e);source.repository.tabs.splice(t,1),e.isFile&&source.closeFileByPath(e.path)}},source.openTabByIndex=function(e){(coos.isEmpty(e)||e<0)&&(e=0),e>=source.repository.tabs.length&&(e=source.repository.tabs.length-1),e>-1&&(source.repository.activeTab=source.repository.tabs[e].name),0==source.repository.tabs.length&&(source.repository.activeTab=null)},source.createTabByPath=function(e,t){if(null!=e){var o=source.getTab(e);if(null==o){o={};var s=e;s.lastIndexOf("/")>=0&&(s=s.substring(s.lastIndexOf("/")+1)),o.name=e,o.title=e,o.path=e,o.text=s,o.isFile=!0,o.changed=!1,o.show_editor=!1,o.loading=!1,source.repository.tabs.push(o)}t&&(source.repository.activeTab=e)}},source.reloadTab=function(e){var t=source.getTab(e);null!=t&&null!=t.editor&&t.editor.callReload()};source;source.repository.tabs=[],source.repository.activeTab=null,source.repository.navs=[],source.getProjectApp=function(e){return null==e?null:null==e.attribute?null:e.attribute.app},source.setProjectApp=function(e,t){null!=e&&(e.attribute=e.attribute||{},e.attribute.app=t)},source.formatPublicFolder=function(e,t,o){null!=o&&null!=o.length&&((e=e||[]).forEach(function(e){var s={name:e.name,path:e.path,directory:!0,files:[],isFormatFolder:!0},r=source.getFileFromFiles(s.path,o);null!=r&&(null!=r.parent&&r.parent.files.splice(r.parent.files.indexOf(r),1),null!=r.files&&(r.files.forEach(function(e){source.formatFile(e,s),s.files.push(e)}),coos.trimList(r.files))),source.formatFile(s,t),t.files.push(s)}),o.forEach(function(e){t.files.push(e)}))},source.appendAllFolders=function(e,t){return t=t||[],null==e||0==e.length?t:(e.forEach(function(e){e.isDirectory&&(t.push(e.path),source.appendAllFolders(e.files,t))}),t)},source.getPublickPathByFiles=function(e){if(null==e||0==e.length)return null;var t=source.appendAllFolders(e);if(0==t.length)return null;for(var o=null,s=0;s<t.length;s++){for(var r=t[s],n=!0,a=0;a<t.length;a++){var i=t[a];i==r||i.startsWith(r+"/")||r.startsWith(i+"/")||(n=!1)}if(!n)break;o=r}return o},source.onLoadProject=function(e){if(null!=e){var t=source.getProjectByPath(e.path);if(null!=t){if(source.setProjectApp(t,e.attribute.app),t.files=t.files||[],coos.trimList(t.files),e.files=e.files||[],source.formatFiles(e.files,t),t.format_folders&&t.format_folders.length>0){var o="";t.root||(o=t.path+"/");var s=[];t.format_folders.forEach(function(e){var t={name:e,path:o+e};s.push(t)}),source.formatPublicFolder(s,t,e.files),t.files.forEach(function(e){if("src/main/java"==e.name){var o=source.getPublickPathByFiles(e.files),s=t.path+"/src/main/java/";if(coos.isEmpty(t.path)&&(s="src/main/java/"),o&&!coos.isEmpty(o)&&o.startsWith(s)){var r=o.substring(s.length);if(r.length>0){var n=coos.replaceAll(r,"/","."),a=[];e.files.forEach(function(e){a.push(e)}),coos.trimList(e.files);var i=[],c={name:n,path:e.path+"/"+r};i.push(c),source.formatPublicFolder(i,e,a)}}}})}else e.files.forEach(function(e){t.files.push(e)});t.loading=!1,source.refreshProjectFileStatus(t),source.refreshTabFiles(t)}}},source.refreshTabFiles=function(e){source.repository.tabs.forEach(function(t){source.getProjectByPath(t.path)==e&&source.reloadTab(t.path)})},source.getProjectByPath=function(e){var t=null;return source.repository&&source.repository.projects&&(source.repository.projects.forEach(function(o){if(!o.root){var s=o.path;e==s?t=o:(s.endsWith("/")||(s+="/"),e.startsWith(s)&&(t=o))}}),null==t&&source.repository.projects.forEach(function(e){e.root&&(t=e)})),t},source.reloadProject=function(e){return e.loading=!0,source.load("PROJECT",{path:e.path},e)};source;source.repository.file_data_map={},source.openFolder=function(e){source.repository.open_folders.indexOf(e)<0&&source.repository.open_folders.push(e)},source.closeFolder=function(e){var t=[];source.repository.open_folders.forEach(function(o){(o.startsWith(e+"/")||o==e)&&t.push(o)}),t.forEach(function(e){var t=source.repository.open_folders.indexOf(e);t>=0&&source.repository.open_folders.splice(t,1)})},source.openFileByPath=function(e,t){if(!coos.isEmpty(e)){var o="";if(e.lastIndexOf("/")>0&&(o=e.substring(0,e.lastIndexOf("/"))),source.openFolder(o),source.isLogin){var s=source.getProjectByPath(e);source.do("FILE_OPEN",{path:e},s)}source.createTabByPath(e,t)}},source.closeFileByPath=function(e){if(!coos.isEmpty(e)&&source.isLogin){var t=source.getProjectByPath(e);source.do("FILE_CLOSE",{path:e},t)}},source.downloadFile=function(e){if(!coos.isEmpty(e)){var t=source.getProjectByPath(e);source.server.download({path:e},t)}},source.uploadRepository=function(e){source.uploadForm.show(e)},source.downloadRepository=function(){var e=source.getProjectByPath("");source.server.download({type:"REPOSITORY"},e)},source.getFileFromFiles=function(e,t){if(coos.isEmpty(e),null==t||0==t.length)return null;var o=null;return t.forEach(function(t){null==o&&(t.path==e&&(o=t),null==o&&null!=t.files&&(o=source.getFileFromFiles(e,t.files)))}),o},source.formatFiles=function(e,t){null!=e&&e.forEach(function(e){source.formatFile(e,t),e.files&&source.formatFiles(e.files,e)})},source.fileMove=function(e,t){source.formatFiles([e],t),source.sortFolderFiles(t)},source.formatFile=function(e,t){null!=e&&(e.formated||(e.modified=!1,e.untracked=!1,e.conflicting=!1,e.isProject=!1,e.isRoot=!1,e.isMaven=!1,e.isDirectory=!1,e.isFile=!1,e.changed=!1,e.saveing=!1,e.loading=!1,e.toRename=!1,e.formated=!0),e.parent=t,e.isProject=e.isProject,e.isDirectory=e.directory,e.isFile=e.file,e.isRoot=e.root,e.isMaven=e.maven,t&&!e.isNew&&(t.isFormatFolder||e.isFormatFolder||(""==t.path?e.path=e.name:e.path=t.path+"/"+e.name)))},source.sortFolderFiles=function(e){if(null!=e&&null!=e.files){var t=[];e.files.forEach(function(e){t.push(i()({},e))}),t.sort(function(e,t){return e.isDirectory&&t.isFile?-1:e.isFile&&t.isDirectory?1:e.name.localeCompare(t.name)}),t.forEach(function(e,t){e.sequence=t}),source.formatFiles(t,e),coos.trimList(e.files),t.forEach(function(t,o){e.files.push(t)})}},source.updateFileName=function(e,t){var o=e.path,s="";e.path.lastIndexOf("/")>0&&(s=e.path.substring(0,e.path.lastIndexOf("/")+1));var r=s+t;e.name=t,e.path=r,source.updateFilesPath(e.files,o,r)},source.updateFilesPath=function(e,t,o){null!=e&&e.forEach(function(e){e.path=e.path.replace(t,o),source.updateFilesPath(e.files)})},source.parentFile=function(e){if(null==e)return null;var t=e;e.indexOf("/")>0&&(t=e.substring(0,e.indexOf("/"))),source.getProjectByPath(t).files.forEach(function(e){})},source.onLoadFile=function(e){null==e||coos.isEmpty(e.path)||(source.repository.file_data_map[e.path]=e)},source.onLoadFiles=function(e){console.log(e)},source.loadFiles=function(e){var t=source.getProjectByPath(e);source.load("FILES",{path:e},t)},source.loadFile=function(e){var t=source.getProjectByPath(e);return source.load("FILE",{path:e},t)},source.saveFile=function(e,t,o){var s=source.getProjectByPath(e);source.do("FILE_SAVE",{path:e,content:t},s).then(function(e){0==e.errcode?(coos.success("保存成功！"),o&&o(!0)):(coos.error(e.errmsg),o&&o(!1))})},source.refreshProjectsFileStatus=function(){source.repository.projects.forEach(function(e){source.refreshProjectFileStatus(e)})},source.refreshProjectFileStatus=function(e){source.refreshFileStatus(e)},source.refreshFileStatus=function(e){e.modified=!1,e.untracked=!1,e.conflicting=!1,source.repository.change_files.forEach(function(t){e.isProject?t.key.startsWith(e.path)&&(e.modified="modified"==t.status,e.untracked="untracked"==t.status,e.conflicting="conflicting"==t.status):e.isDirectory?t.key.startsWith(e.path)&&(e.modified="modified"==t.status,e.untracked="untracked"==t.status,e.conflicting="conflicting"==t.status):e.isFile&&t.key==e.path&&(e.modified="modified"==t.status,e.untracked="untracked"==t.status,e.conflicting="conflicting"==t.status)}),e.files&&e.files.length>0&&e.files.forEach(function(e){source.refreshFileStatus(e)})};source;source.repository.tabs=[],source.repository.activeTab=null;var f={title:"Git",icon:"coos-icon-git",value:0,disabled:!0,dot:!0,type:"success",onClick:function(){source.gitRemoteForm.show()},permission:"GIT_REMOTE_ADD"};source.repository.navs.push(f);var d={title:"Git还原",icon:"coos-icon-undo",value:0,disabled:!0,dot:!1,type:"success",onClick:function(){source.gitRevertForm.show()},permission:"GIT_REVERT"};source.repository.navs.push(d);var m={title:"Git推送",icon:"coos-icon-git-push",value:0,disabled:!0,dot:!1,type:"success",onClick:function(){source.gitPushForm.show()},permission:"GIT_PUSH"};source.repository.navs.push(m);var p={title:"Git拉取",icon:"coos-icon-git-pull",value:0,disabled:!0,dot:!1,type:"success",onClick:function(){source.gitPull()},permission:"GIT_PULL"};source.repository.navs.push(p);var h={title:"Git分支",icon:"coos-icon-branches",value:0,disabled:!0,dot:!1,type:"success",permission:"GIT_BRANCHES"};source.repository.navs.push(h),source.onLoadGit=function(e){if(null!=e){f.disabled=!1,e.findGit?(f.type="success",d.disabled=!1,m.disabled=!1,p.disabled=!1,h.disabled=!1):(f.type="warning",d.disabled=!0,m.disabled=!0,p.disabled=!0,h.disabled=!0),source.repository.git=e,coos.trimList(source.repository.change_files);var t=source.repository.change_files,o=e.status;source.repository.projects.forEach(function(e){coos.trimArray(e.deletes)}),o&&(o.missing.forEach(function(e){var t=source.getProjectByPath(e);t&&t.deletes.push(e)}),o.modified.forEach(function(e){t.push({key:e,status:"modified",label:e+"(更改)"})}),o.untracked.forEach(function(e){t.push({key:e,status:"untracked",label:e+"(添加)"})}),o.missing.forEach(function(e){t.push({key:e,status:"missing",label:e+"(移除)"})}),o.conflicting.forEach(function(e){t.push({key:e,status:"conflicting",label:e+"(冲突)"})}),m.value=o.added.length+o.changed.length+o.removed.length,m.dot=m.value>0),d.value=t.length,d.dot=d.value>0,source.refreshProjectsFileStatus()}},source.onLoadGitWorkStatus=function(e){var t="";"PUSHING"==(e=e||{}).status?t="Git推送中...":"PULLING"==e.status?t="Git拉取中...":"CHECKOUTING"==e.status?t="Git检出中...":("PUSHED"==e.status?coos.success("Git推送成功！"):"PULLED"==e.status?coos.success("Git拉取成功！"):"CHECKOUTED"==e.status?coos.success("Git检出成功！"):coos.isEmpty(e.message)||coos.error(e.message),source.loadGitStatus()),coos.isEmpty(t)?(source.repository.loading=!1,source.repository.loading_msg=""):(source.repository.loading=!0,source.repository.loading_msg=t,window.setTimeout(function(){source.loadGitWorkStatus()},100))},source.formatHeadBranchName=function(e){return e.name.substring("refs/heads/".length)},source.isHeadBranchName=function(e){return e.name.startsWith("refs/heads/")},source.formatRemoteBranchName=function(e,t){return t.name.substring(("refs/remotes/"+e+"/").length)},source.isRemoteBranchName=function(e,t){return t.name.startsWith("refs/remotes/"+e+"/")},source.loadGitStatus=function(){source.load("GIT")},source.loadGitWorkStatus=function(){source.load("GIT_WORK_STATUS")},source.gitPull=function(){var e={};e.gitRemoteName=source.repository.git.option.gitRemoteName,e.gitRemoteBranch=source.repository.git.option.gitRemoteBranch,source.gitCertificateForm.show().then(function(t){e.certificate=t,source.do("GIT_PULL",e).then(function(e){0==e.errcode?source.loadGitWorkStatus():coos.error(e.errmsg)})})},source.gitRevert=function(e,t){if(e=e||[],t=t||[],0!=e.length||0!=t.length){e.length>0&&coos.isEmpty(e[0])&&(e[0]=".");var o="";o+='<div class="coos-row">',o+='<div class="coos-row ft-14 pdb-10">确定还原以下路径？</div>',o+='<div class="coos-row" style="max-height: 500px;overflow:auto;">',e.forEach(function(e){o+='<div class="coos-row color-grey ft-13 mgb-5" style="word-wrap: break-word;word-break: normal;">'+e+"（还原）</div>"}),t.forEach(function(e){o+='<div class="coos-row color-grey ft-13 mgb-5" style="word-wrap: break-word;word-break: normal;">'+e+"（删除）</div>"}),o+="</div>",o+="</div>",coos.confirm(o,{width:"700px"}).then(function(o){var s={};s.paths=e,s.deletes=t,source.do("GIT_REVERT",s).then(function(o){if(0==o.errcode){coos.success("还原成功！");var s=null;s=e.length>0?e[0]:t[0];var r=source.getProjectByPath(s);null!=r&&source.reloadProject(r),source.loadGitStatus()}else coos.error(o.errmsg)})},function(){})}};source;source.mavenClean=function(e){coos.info("Maven Clean Start"),source.do("MAVEN_CLEAN",{path:e.path},e).then(function(e){0==e.errcode?coos.success("Maven Clean End"):coos.error(e.errmsg)})},source.mavenCompile=function(e){coos.info("Maven Compile Start"),source.do("MAVEN_COMPILE",{path:e.path},e).then(function(e){0==e.errcode?coos.success("Maven Compile End"):coos.error(e.errmsg)})},source.mavenPackage=function(e){coos.info("Maven Package Start"),source.do("MAVEN_PACKAGE",{path:e.path},e).then(function(e){0==e.errcode?coos.success("Maven Package End"):coos.error(e.errmsg)})},source.mavenInstall=function(e){coos.info("Maven Install Start"),source.do("MAVEN_INSTALL",{path:e.path},e).then(function(e){0==e.errcode?coos.success("Maven Install End"):coos.error(e.errmsg)})},source.mavenDeploy=function(e){coos.info("Maven Deploy Start"),source.do("MAVEN_DEPLOY",{path:e.path},e).then(function(e){0==e.errcode?coos.success("Maven Deploy End"):coos.error(e.errmsg)})};source;source.repository.starter_options=[],source.repository.starter_show=!1,source.repository.starters=[],source.repository.starterActive="0",function(){source.starterDeploy=function(e,t){source.do("STARTER_DEPLOY",{path:e,option:t}).then(function(e){0==e.errcode?(coos.success("部署命令提交成功，正在部署！"),source.load("STARTERS")):coos.error(e.errmsg)})},source.deployStarter=function(e){"0"!=e.token&&source.do("STARTER_DEPLOY",{token:e.token}).then(function(e){0==e.errcode?coos.success("部署命令提交成功，正在部署！"):coos.error(e.errmsg)})},source.startStarter=function(e){"0"!=e.token&&source.do("STARTER_START",{token:e.token}).then(function(e){0==e.errcode?coos.success("启动命令提交成功，正在启动！"):coos.error(e.errmsg)})},source.stopStarter=function(e){"0"!=e.token&&source.do("STARTER_STOP",{token:e.token}).then(function(e){0==e.errcode?coos.success("停止成功！"):coos.error(e.errmsg)})},source.removeStarter=function(e){"0"!=e.token&&source.do("STARTER_REMOVE",{token:e.token}).then(function(e){0==e.errcode?coos.success("移除命令已提交，正在移除！"):coos.error(e.errmsg)})};var e=!1;source.loadStarterStatus=function(){if(!e)if(e=!0,source.repository.starter_show){var t=source.getStarter(source.repository.starterActive);null!=t&&"0"!=t.token?(source.load("STARTER_STATUS",{token:t.token}),e=!1):window.setTimeout(function(){e=!1,source.loadStarterStatus()},1e3)}else window.setTimeout(function(){e=!1,source.loadStarterStatus()},1e3)};var t=!1;source.loadStarterLog=function(){if(!t)if(t=!0,source.repository.starter_show){var e=source.getStarter(source.repository.starterActive);if(null!=e){var s=e.logStart,r=e.logEnd,n=e.logTimestamp;if(s=s||0,r=r||0,s>0){var a={token:e.token,start:0};s>o&&(a.start=s-o),a.end=s-1,a.timestamp=n,a.isloadold=!0,source.load("STARTER_LOG",a)}if(0==s&&0==r){var i={token:e.token};source.load("STARTER_LOG",i)}else{var c={token:e.token};c.start=r+1,c.end=r+o,c.timestamp=n,source.load("STARTER_LOG",c)}t=!1}else window.setTimeout(function(){t=!1,source.loadStarterLog()},1e3)}else window.setTimeout(function(){t=!1,source.loadStarterLog()},1e3)},source.loadStarterStatus(),source.loadStarterLog(),source.openStarterBox=function(){source.repository.starter_show=!0},source.closeStarterBox=function(){source.repository.starter_show=!1},source.onStarterOptions=function(e){e=e||[],coos.trimList(source.repository.starter_options),e.forEach(function(e){source.repository.starter_options.push(e)})},source.onStarters=function(e){e=e||[],0==source.repository.starters.length&&source.repository.starters.push({text:"库控制台信息",token:"0",logs:[],status:null,option:null}),e.forEach(function(e){var t=source.getStarter(e.token);null==t?(e.logs=[],e.text=""+e.token,e.removed=!1,e.name?e.text=""+e.name:e.option&&(e.text=""+e.option.name),source.repository.starters.push(e)):i()(t,e)});var t=[];source.repository.starters.forEach(function(o){if("0"!=o.token){var s=null;e.forEach(function(e){o.token==e.token&&(s=e)}),null==s&&t.push(o)}}),t.forEach(function(e){source.repository.starters.splice(source.repository.starters.indexOf(e),1)}),null==source.getStarter(source.repository.starterActive)&&(source.repository.starters.length>0?source.repository.starterActive=source.repository.starters[0].token:source.repository.starterActive=null)},source.getStarter=function(e){var t=null;return source.repository.starters.forEach(function(o){o.token==e&&(t=o)}),t},source.cleanStarterLog=function(e){source.do("STARTER_LOG_CLEAN",{token:e.token}).then(function(t){source.reloadStarterLog(e)})},source.reloadStarterLog=function(e){delete e.logStart,delete e.logEnd,delete e.logTimestamp,coos.trimArray(e.logs),source.loadStarterLog()};var o=50;source.onStarterLog=function(e){e=e||{};var t=source.getStarter(e.token);if(null!=e.timestamp){var s=1e3;if(null!=t){if(null==t.logTimestamp&&(t.logTimestamp=e.timestamp),t.logTimestamp!=e.timestamp)return void coos.confirm("日志文件已被清理，是否重新读取？").then(function(e){source.reloadStarterLog(t)});var r=e.logs||[];if(s=r.length<o?1e3:200,r.length>0&&(coos.isEmpty(t.logStart)?t.logStart=r[0].index:t.logStart>r[0].index&&(t.logStart=r[0].index),coos.isEmpty(t.logEnd)?t.logEnd=r[r.length-1].index:t.logEnd<r[r.length-1].index&&(t.logEnd=r[r.length-1].index),0==t.logs.length))for(var n=0;n<t.logStart;n++)t.logs.push({line:null,index:n,show:!1});r.forEach(function(e,o){t.logs[e.index]?(t.logs[e.index].show=!0,t.logs[e.index].line=e.line,e.line&&(e.line.indexOf(" ERROR ")>=0||e.line.indexOf(":ERROR:")>=0?t.logs[e.index].level="ERROR":(e.line.indexOf(" WARN ")>=0||e.line.indexOf(":WARN:")>=0||e.line.indexOf(":WARN :")>=0)&&(t.logs[e.index].level="WARN"))):(e.show=!0,t.logs.push(e))})}e.isloadold||window.setTimeout(function(){source.loadStarterLog()},s)}},source.onStarterStatus=function(e){e=e||{};var t=source.getStarter(e.token);null!=t&&(e.removed?(t.removed=!0,source.load("STARTERS")):(t.status=e.status,t.deploy_status=e.deploy_status,t.install_status=e.install_status)),window.setTimeout(function(){source.loadStarterStatus()},1e3)}}();source;source.repository.branchs=[],source.repository.projects=[],source.repository.fullscreen=!1,source.repository.fullscreencenter=!1,source.repository.REPOSITORY_PERMISSIONS=[],source.repository.PROJECT_PERMISSIONS=[],source.NOT_FOUND_REPOSITORY_BRANCH=null,function(){source.fullScreenCenter=function(){source.repository.fullscreencenter=!0},source.fullScreenExitCenter=function(){source.repository.fullscreencenter=!1},source.fullScreen=function(){source.repository.fullscreen=!0},source.fullScreenExit=function(){source.repository.fullscreen=!1};var e=["src/main/java","src/main/resources","src/main/webapp"];source.loadRepository=function(){source.repository.loading=!0,source.load("REPOSITORY")},source.onRepositoryStatus=function(e){coos.isEmpty(e)?(source.repository.loading=!1,source.repository.loading_msg=""):(source.repository.loading=!0,source.repository.loading_msg=e)},source.onRunnerOptions=function(e){e=e||[],coos.trimList(source.repository.runner_options),e.forEach(function(e){source.repository.runner_options.push(e)})},source.onLoadRepository=function(t){source.repository.loading=!1,null!=t?(coos.trimList(source.repository.branchs),coos.trimList(source.repository.projects),coos.trimList(source.repository.starters),coos.trimList(source.repository.runners),coos.trimList(source.repository.opens),coos.trimList(source.repository.open_files),coos.trimList(source.repository.REPOSITORY_PERMISSIONS),coos.trimList(source.repository.PROJECT_PERMISSIONS),source.load("ENVIRONMENTS"),source.load("REMOTES"),source.load("STARTER_OPTIONS"),source.load("STARTERS"),source.load("REPOSITORY_PERMISSIONS"),source.load("PROJECT_PERMISSIONS"),t.branchs&&t.branchs.forEach(function(e){source.repository.branchs.push(e)}),t.projects&&t.projects.forEach(function(t){source.formatFile(t),t.isProject=!0,t.loading=!0,t.root&&(t.name=source.space.name),t.deletes=[],t.files=[],t.maven&&"pom"!=t.packaging&&(t.format_folders=e),source.repository.projects.push(t),source.reloadProject(t)}),t.starters&&t.starters.forEach(function(e){source.repository.starters.push(e)}),t.runners&&t.runners.forEach(function(e){source.repository.runners.push(e)}),t.opens&&t.opens.forEach(function(e,o){source.repository.opens.push(e);var s=!1;o>=t.opens.length-1&&(s=!0),source.openFileByPath(e.path,s)}),source.onLoadGit(t.git)):source.NOT_FOUND_REPOSITORY_BRANCH="NOT_FOUND_REPOSITORY_BRANCH"}}();source;u.loadSession=function(){return u.load("SESSION")},u.ready=function(){return new l.a(function(e,t){u.readyed?e&&e():u.server.session().then(function(){u.websocket.open(),u.loadSession().then(function(t){u.readyed=!0,e&&e()})})})},u.validate=function(){u.do("VALIDATE",{})},u.onValidate=function(){window.setTimeout(function(){u.validate()},1e4)},u.doLogout=function(){u.do("LOGOUT").then(function(e){0==e.errcode?(coos.info("退出成功！"),window.setTimeout(function(){window.location.reload()},300)):coos.error(e.errmsg)})},u.show_login=!1,u.show_register=!1,u.toRegister=function(){u.show_register=!0,u.show_login=!1},u.toLogin=function(){u.show_register=!1,u.show_login=!0};o("yd+Q"),t.a=s.a},TsJo:function(e,t,o){"use strict";var s=o("woOf"),r=o.n(s),n=o("//Fk"),a=o.n(n),i={components:{},data:function(){return{title:"用户偏好设置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{fontsize:13},form_rules:{}}},methods:{show:function(){var e=source.preference||{};return this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in this.form.fontsize=13,e)this.form[o]=e[o];return new a.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),source.do("PREFERENCE",{id:source.LOGIN_USER.id,option:o}).then(function(e){0==e.errcode?(coos.success("修改成功！"),r()(source.preference,o),source.changePreference()):coos.error(e.errmsg)}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"编辑器字体大小",prop:"fontsize"}},[o("el-input-number",{attrs:{min:1,max:50},model:{value:e.form.fontsize,callback:function(t){e.$set(e.form,"fontsize",t)},expression:"form.fontsize"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(i,c,!1,function(e){o("765r")},"data-v-09b9583a",null);t.a=l.exports},UlJ7:function(e,t,o){"use strict";var s=o("g/p1"),r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"show",rawName:"v-show",value:e.tab.show_editor,expression:"tab.show_editor"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tab-editor",attrs:{"element-loading-text":e.loading_text}},[[o("div",{staticClass:"text-center ft-20 color-red pdtb-60"},[e._v(e._s(e.errmsg))])],e._v(" "),[o("div",{staticClass:"editor-designer-box"},[e._l(e.designers,function(t){return[o("div",{key:t.key,staticClass:"editor-designer",class:{active:t.active},attrs:{designer:t.key}},[t.navs&&t.navs.length>0?o("div",{staticClass:"editor-designer-toolbar"},[o("div",{staticClass:"coos-nav coos-nav-full bg-blue-grey coos-nav-full coos-nav-vertical coos-nav-xs"},[e._l(t.navs,function(t,s){return[t.line?o("li",{key:s}):o("li",{key:s,attrs:{title:t.text},on:{click:function(e){return t.onClick()}}},[o("a",{staticClass:"active-color-white active-bg-blue-grey-8",class:{"coos-disabled":t.disabled}},[o("i",{directives:[{name:"show",rawName:"v-show",value:!e.coos.isEmpty(t.fonticon),expression:"!coos.isEmpty(nav.fonticon)"}],class:"coos-icon coos-icon-"+t.fonticon}),e._v("\n                    "+e._s(t.text)+"\n                  ")])])]})],2)]):e._e(),e._v(" "),o("div",{staticClass:"editor-designer-content",style:{top:t.navs&&t.navs.length>0?"40px":"0px"}})])]})],2),e._v(" "),o("div",{staticClass:"editor-designer-tab-box"},[e._l(e.designers,function(t){return[o("div",{key:t.key,staticClass:"editor-designer-tab",class:{active:t.active},on:{click:function(o){return e.clickDesigner(t)}}},[e._v(e._s(t.text))])]})],2)]],2)},staticRenderFns:[]};var n=function(e){o("GIid"),o("unbO")},a=o("VU/8")(s.a,r,!1,n,"data-v-096ee4c1",null);t.a=a.exports},V43N:function(e,t){},X6jh:function(e,t){},YaEn:function(e,t,o){"use strict";var s=o("7+uW"),r=o("/ocq"),n=o("G2al"),a={name:"Header",data:function(){return{source:source}},props:["list"],beforeMount:function(){},watch:{},methods:{star:function(e){source.isLogin?source.do("SPACE_STAR_INSERT",{spaceid:e.id,userid:source.LOGIN_USER.id}).then(function(t){e.login_user_star=!0}):source.toLogin()},unstar:function(e){source.isLogin?source.do("SPACE_STAR_DELETE",{spaceid:e.id,userid:source.LOGIN_USER.id}).then(function(t){e.login_user_star=!1}):source.toLogin()}},computed:{},mounted:function(){}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"coos-list pdtb-20"},[null!=e.list?[0==e.list.length?o("li",[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("暂无仓库数据")])]):e._e(),e._v(" "),e._l(e.list,function(t,s){return o("li",{key:s,staticStyle:{"border-bottom":"1px solid #ddd"}},[o("div",{staticClass:"coos-item"},[o("div",{staticClass:"coos-index"},[e._v(e._s(t.name.substring(0,1).toUpperCase()))]),e._v(" "),o("div",{staticClass:"coos-content"},[o("div",{},[o("a",{staticClass:"coos-link color-green ft-16",attrs:{href:e.app.getSpaceUrl(t)}},[e._v(e._s(t.name))]),e._v(" "),o("a",{staticClass:"color-grey mgl-10"},["ORGANIZATIONS"==t.type?o("i",{staticClass:"coos-icon coos-icon-cluster ft-14",attrs:{title:"组织"}}):e._e(),e._v(" "),"ENTERPRISES"==t.type?o("i",{staticClass:"coos-icon coos-icon-deploymentunit ft-14",attrs:{title:"企业"}}):e._e(),e._v(" "),"PRODUCTS"==t.type?o("i",{staticClass:"coos-icon coos-icon-appstore ft-14",attrs:{title:"产品"}}):e._e(),e._v(" "),"REPOSITORYS"==t.type?o("i",{staticClass:"coos-icon coos-icon-code ft-14",attrs:{title:"仓库"}}):e._e()])]),e._v(" "),o("div",{staticClass:"ft-14"},[e._v(e._s(e.coos.isEmpty(t.comment)?"暂无描述":t.comment))])]),e._v(" "),o("div",{staticClass:"coos-flex-right"},["MASTER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"管理员权限"}},[o("i",{staticClass:"coos-icon coos-icon-manager"})]):e._e(),e._v(" "),"DEVELOPER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"开发权限"}},[o("i",{staticClass:"coos-icon coos-icon-code"})]):e._e(),e._v(" "),"VIEWER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"只读权限"}},[o("i",{staticClass:"coos-icon coos-icon-eye"})]):e._e(),e._v(" "),"PRIVATE"==t.publictype?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"私人"}},[o("i",{staticClass:"coos-icon coos-icon-lock"})]):e._e(),e._v(" "),"OPEN"==t.publictype?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"开放"}},[o("i",{staticClass:"coos-icon coos-icon-unlock"})]):e._e(),e._v(" "),t.login_user_star?o("a",{staticClass:"mgl-5 color-orange coos-pointer",attrs:{title:"去除星标"},on:{click:function(o){return e.unstar(t)}}},[o("i",{staticClass:"coos-icon coos-icon-star-fill"})]):o("a",{staticClass:"mgl-5 color-orange coos-pointer",attrs:{title:"星标"},on:{click:function(o){return e.star(t)}}},[o("i",{staticClass:"coos-icon coos-icon-star"})])])])])})]:e._e()],2)},staticRenderFns:[]};var c=o("VU/8")(a,i,!1,function(e){o("2QHr")},"data-v-483d5efa",null).exports,l={name:"SpaceIndex",components:{SpaceList:c},data:function(){return{source:source}},methods:{loadVisibleSpaces:function(e){var t={pagesize:5,pageindex:e};source.load("VISIBLE_SPACES",t)},toSpaceCreate:function(){this.$router.push("/space/create")}},mounted:function(){this.loadVisibleSpaces(0)}},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row"},[o("div",{staticClass:"float-right"},[e.source.hasPermission("SPACE_CREATE")?o("a",{staticClass:"coos-link color-green",on:{click:function(t){return e.toSpaceCreate()}}},[e._v("新建仓库")]):e._e()])]),e._v(" "),null==e.source.data.VISIBLE_SPACES?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("仓库数据加载中...")])]:[null!=e.source.data.VISIBLE_SPACES.list?[o("SpaceList",{attrs:{list:e.source.data.VISIBLE_SPACES.list}}),e._v(" "),e.source.data.VISIBLE_SPACES.hasNext?[o("div",{staticClass:"text-center pd-10"},[o("a",{staticClass:"coos-link pdlr-10 color-green",on:{click:function(t){return e.loadVisibleSpaces()}}},[e._v("加载更多数据")])])]:e._e(),e._v(" "),!e.source.data.VISIBLE_SPACES.hasNext&&e.source.data.VISIBLE_SPACES.list.length>0?[o("div",{staticClass:"text-center pd-10 color-grey"},[e._v("暂无更多数据")])]:e._e()]:e._e()]],2)},staticRenderFns:[]};var f=o("VU/8")(l,u,!1,function(e){o("lWXd")},"data-v-33634e4d",null).exports,d={name:"RepositoryIndex",components:{},data:function(){return{source:source}}},m={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{})},staticRenderFns:[]};var p=o("VU/8")(d,m,!1,function(e){o("+vPR")},"data-v-58f31944",null).exports,h={name:"Index",components:{IndexIndex:n.a,SpaceIndex:f,RepositoryIndex:p},data:function(){return{source:source}}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[null==e.source.space?[null!=e.source.NOT_PERMISSION?[o("div",{staticClass:"font-lg color-orange text-center pd-50"},[e._v("暂无访问该仓库的权限，请联系仓库管理员！")])]:[null!=e.source.NOT_FOUND_SPACE?[o("div",{staticClass:"font-lg color-orange text-center pd-50"},[e._v("仓库不存在，请检查输入的仓库名称是否正确！")])]:[null==e.source.SPACE_TYPE?[o("IndexIndex")]:[o("SpaceIndex")]]]]:[null!=e.source.NOT_FOUND_REPOSITORY_BRANCH?[o("div",{staticClass:"font-lg color-orange text-center pd-50"},[e._v("仓库版本不存在，请检查输入的版本是否正确！")])]:["REPOSITORYS"==e.source.SPACE_TYPE?[o("RepositoryIndex")]:[o("SpaceIndex")]]]],2)},staticRenderFns:[]};var _=o("VU/8")(h,v,!1,function(e){o("fuNw")},"data-v-e8d83bd8",null).exports,g={name:"Error404",components:{},data:function(){return{source:source}}},b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("div",{staticClass:"font-lg color-orange text-center pd-50"},[this._v("404，页面不存在，请检查输入路径！")])])}]};var E=o("VU/8")(g,b,!1,function(e){o("xdfH")},"data-v-0677a298",null).exports,y={name:"Error403",components:{},data:function(){return{source:source}}},C={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("div",{staticClass:"font-lg color-orange text-center pd-50"},[this._v("403，您暂无权限访问该页面！")])])}]};var w=o("VU/8")(y,C,!1,function(e){o("+oLu")},"data-v-5cbe80ec",null).exports,x={name:"SpaceForm",data:function(){return{parents:[],source:source,form:{name:"",parentid:"",type:"REPOSITORYS",publictype:"OPEN",comment:""},records:[],rules:{name:[{required:!0,message:"请输入仓库名称",trigger:"blur"},{pattern:/^(?!_)(?!.*?_$)(?!\.)(?!.*?\.$)(?!-)(?!.*?-$)[a-zA-Z0-9_\.\-]{1,20}$/,message:"1-20个字符，可包含字母、数字、下划线（_）、中划线（-）、英文点（.），不能以符号开头或结尾！"}],type:[{required:!0,message:"请选择仓库类型",trigger:"blur"}],publictype:[{required:!0,message:"请选择开放类型",trigger:"blur"}],parentid:[{required:!0,message:"请选择仓库归属",trigger:"blur"}]}}},methods:{goBack:function(){this.$router.go(-1)},parentChange:function(){},typeChange:function(){var e=this,t=this.form.type;this.parents=[],"REPOSITORYS"==t?(this.parents.push({id:null,servletpath:"请选择",type:""}),this.master_spaces.forEach(function(t){"REPOSITORYS"!=t.type&&e.parents.push(t)})):"ORGANIZATIONS"==t?(this.parents.push({id:null,servletpath:"/organizations",type:"ORGANIZATIONS"}),this.master_spaces.forEach(function(t){"ORGANIZATIONS"!=t.type&&"ENTERPRISES"!=t.type||e.parents.push(t)})):"PRODUCTS"==t?(this.parents.push({id:null,servletpath:"/products",type:"PRODUCTS"}),this.master_spaces.forEach(function(t){"ORGANIZATIONS"!=t.type&&"ENTERPRISES"!=t.type&&"PRODUCTS"!=t.type||e.parents.push(t)})):"ENTERPRISES"==t&&this.parents.push({id:null,servletpath:"/enterprises",type:"ENTERPRISES"});var o=!1;this.parents.forEach(function(t){t.id==e.form.parentid&&(o=!0)}),o||(this.form.parentid=null),this.source.space&&this.parents.forEach(function(t){t.id==e.source.space.id&&(e.form.parentid=t.id)})},doSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return coos.error("请正确填写表单！"),!1;t.form.id?source.do("SPACE_UPDATE",t.form).then(function(e){0==e.errcode?(coos.success("修改成功！"),t.$router.go(-1)):coos.error(e.errmsg)}):source.do("SPACE_CREATE",t.form).then(function(e){0==e.errcode?(coos.success("新增成功！"),t.$router.go(-1)):coos.error(e.errmsg)})})}},mounted:function(){var e=this;this.master_spaces=[],this.typeChange();this.$route.query.id;source.load("MASTER_SPACES",{pagesize:1e3,pageindex:1}).then(function(t){coos.trimArray(e.master_spaces),t.value=t.value||[],t.value.forEach(function(t){e.master_spaces.push(t)}),e.typeChange()})}},S={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coos-form app-min-page"},[o("div",{staticClass:"title font-md pdb-20"},[o("span",[e._v(e._s(e.form.id?"编辑仓库":"新建仓库"))])]),e._v(" "),o("div",{staticClass:"form"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{placeholder:"1-20个字符，可包含字母、数字、下划线（_）、中划线（-）、英文点（.），不能以符号开头或结尾！"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.parents.length>0,expression:"parents.length > 0"}],attrs:{label:"归属",prop:e.parents.length>0?"parentid":""}},[o("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.parentChange(t)}},model:{value:e.form.parentid,callback:function(t){e.$set(e.form,"parentid",t)},expression:"form.parentid"}},e._l(e.parents,function(t){return o("el-option",{key:t.id,attrs:{value:t.id,label:t.servletpath}},[e._v("\n            "+e._s(t.servletpath)+"\n            "),e._l(e.source.ENUM_MAP.SPACE_TYPE,function(o){return[o.value==t.type?[e._v("（"+e._s(o.text)+"）")]:e._e()]})],2)}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"类型",prop:"type"}},[o("el-radio-group",{on:{change:function(t){return e.typeChange(t)}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.source.ENUM_MAP.SPACE_TYPE,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"USERS"!=t.value,expression:"one.value !='USERS' "}],key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"开放类型",prop:"publictype"}},[o("el-radio-group",{model:{value:e.form.publictype,callback:function(t){e.$set(e.form,"publictype",t)},expression:"form.publictype"}},e._l(e.source.ENUM_MAP.PUBLIC_TYPE,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"描述",prop:"comment"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSubmit("form")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)])},staticRenderFns:[]};var R=o("VU/8")(x,S,!1,function(e){o("CO+v")},"data-v-7923ba03",null).exports,T=o("fVLO"),k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page space-event-page"},[o("ul",{staticClass:"coos-list pdtb-20"},[null==e.list?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("数据加载中...")])]:[0==e.list.length?o("li",[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("暂无数据！")])]):e._e(),e._v(" "),o("div",{staticClass:"block"},[o("el-timeline",e._l(e.list,function(t,s){return o("el-timeline-item",{key:s,attrs:{timestamp:t.date,placement:"top"}},e._l(t.list,function(t,r){return o("el-card",{key:s+"-"+r,staticClass:"mgb-10"},[o("h4",{staticClass:"pdb-5"},[o("span",{staticClass:"color-orange"},[e._v(e._s(t.name))])]),e._v(" "),o("p",{staticClass:"font-xs"},["SPACE_CREATE"==t.type||"SPACE_UPDATE"==t.type||"SPACE_DELETE"==t.type?[e._v("\n                  仓库\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.name))])]:e._e(),e._v(" "),"BRANCH_CREATE"==t.type?[e._v("\n                  新建版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))]),e._v("\n                  ，复制版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.frombranch))])]:e._e(),e._v(" "),"FILE_CREATE"==t.type||"FILE_DELETE"==t.type||"FILE_SAVE"==t.type||"FILE_RENAME"==t.type?[e._v("\n                  文件路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))])]:e._e(),e._v(" "),"MAVEN_CLEAN"==t.type||"MAVEN_DEPLOY"==t.type||"MAVEN_INSTALL"==t.type||"MAVEN_PACKAGE"==t.type||"MAVEN_COMPILE"==t.type?[e._v("\n                  项目路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))])]:e._e(),e._v(" "),"GIT_BRANCH_CREATE"==t.type||"GIT_BRANCH_DELETE"==t.type?[e._v("\n                  Git版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))])]:e._e(),e._v(" "),"GIT_BRANCH_RENAME"==t.type?[e._v("\n                  老版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.oldbranch))]),e._v("\n                  ，新版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.newbranch))])]:e._e(),e._v(" "),"GIT_CHECKOUT"==t.type?[e._v("\n                  检出版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))])]:e._e(),e._v(" "),"GIT_CLONE"==t.type?[e._v("\n                  地址\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.url))]),e._v("\n                  ，远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，远程版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))])]:e._e(),e._v(" "),"GIT_PULL"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，远程版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remotebranch))])]:e._e(),e._v(" "),"GIT_PUSH"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，远程版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remotebranch))]),e._v("\n                  ，本地版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branchname))]),e._v("\n                  ，备注\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.message))])]:e._e(),e._v(" "),"GIT_REVERT"==t.type?[e._v("\n                  路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.paths))])]:e._e(),e._v(" "),"GIT_REMOTE_ADD"==t.type||"GIT_REMOTE_REMOVE"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))])]:e._e(),e._v(" "),"GIT_REMOTE_SETURL"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，地址\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.url))])]:e._e(),e._v(" "),"SET_RUN_OPTION"==t.type||"SET_RUNNER_OPTION"==t.type?[e._v("\n                  路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))]),e._v("\n                  ，配置\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.option))])]:e._e(),e._v(" "),"DELETE_RUN_OPTION"==t.type||"DELETE_RUNNER_OPTION"==t.type?[e._v("\n                  路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))])]:e._e(),e._v(" "),"SPACE_TEAM_INSERT"==t.type||"SPACE_TEAM_UPDATE"==t.type||"SPACE_TEAM_DELETE"==t.type?[e._v("\n                  成员名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.id))]),e._v("\n                  ，成员类型\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.type))])]:e._e(),e._v(" "),"RUNNER_SERVER_SAVE"==t.type||"RUNNER_SERVER_DELETE"==t.type?[e._v("\n                  部署远程服务器名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.name))]),e._v("\n                  ，部署远程服务器信息\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data))])]:e._e(),e._v(" "),"RUNNER_CLIENT_SAVE"==t.type||"RUNNER_CLIENT_DELETE"==t.type?[e._v("\n                  部署客户端名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.name))]),e._v("\n                  ，部署客户端信息\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data))])]:e._e()],2),e._v(" "),o("p",{staticClass:"mgt-5"},[null!=t.user?[o("span",{staticClass:"color-green pdr-5"},[e._v(e._s(t.user.name))])]:e._e(),e._v("\n                执行与\n                "),o("span",{staticClass:"coos-grey pdlr-5"},[e._v(e._s(t.datetime))])],2)])}),1)}),1)],1)]],2)])},staticRenderFns:[]};var P=function(e){o("jlfK")},I=o("VU/8")(T.a,k,!1,P,null,null).exports,O={name:"TeamIndex",data:function(){return{source:source}},methods:{doDelete:function(e){var t=this;coos.confirm("确定删除该成员？").then(function(){source.do("SPACE_TEAM_DELETE",{id:e.id}).then(function(e){0==e.errcode?(coos.success("删除成功！"),t.loadSpaceTeams(1)):coos.error(e.errmsg)})}).catch(function(){})},loadSpaceTeams:function(e){var t={pagesize:100,pageindex:e};source.load("SPACE_TEAMS",t)}},mounted:function(){this.loadSpaceTeams(1)}},N={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("ul",{staticClass:"coos-list pdtb-20"},[null==e.source.data.SPACE_TEAMS?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("成员数据加载中...")])]:[0==e.source.data.SPACE_TEAMS.list.length?o("li",[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("\n          暂无成员数据\n          "),e.source.hasPermission("SPACE_TEAM_INSERT")?[e._v("\n            ，可以点击\n            "),o("router-link",{attrs:{to:"/space/teamForm"}},[o("a",{staticClass:"coos-link pdlr-10 color-green"},[e._v("添加成员")])]),e._v("！\n          ")]:e._e()],2)]):o("li",[o("div",{staticClass:"coos-item"},[o("div",{staticClass:"coos-content"}),e._v(" "),o("div",{staticClass:"coos-flex-right"},[e.source.hasPermission("SPACE_TEAM_INSERT")?[o("router-link",{attrs:{to:"/space/teamForm"}},[o("a",{staticClass:"coos-link color-green mgl-5",attrs:{title:"添加人员"}},[o("i",{staticClass:"coos-icon coos-icon-addteam"}),e._v(" 添加成员\n                ")])])]:e._e()],2)])]),e._v(" "),e._l(e.source.data.SPACE_TEAMS.list,function(t,s){return o("li",{key:s,staticStyle:{"border-bottom":"1px solid #ddd"}},[o("div",{staticClass:"coos-item"},[o("div",{staticClass:"coos-index"},["USERS"==t.type?o("i",{staticClass:"coos-icon coos-icon-user font-md",attrs:{title:"用户"}}):e._e()]),e._v(" "),o("div",{staticClass:"coos-content"},[o("div",{},[t.data?o("span",{staticClass:"color-green font-md"},[e._v(e._s(t.data.name))]):e._e()])]),e._v(" "),o("div",{staticClass:"coos-flex-right"},["MASTER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"管理员权限"}},[o("i",{staticClass:"coos-icon coos-icon-manager"})]):e._e(),e._v(" "),"DEVELOPER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"开发权限"}},[o("i",{staticClass:"coos-icon coos-icon-code"})]):e._e(),e._v(" "),"VIEWER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"只读权限"}},[o("i",{staticClass:"coos-icon coos-icon-eye"})]):e._e(),e._v(" "),"PRIVATE"==t.publictype?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"私人"}},[o("i",{staticClass:"coos-icon coos-icon-lock"})]):e._e(),e._v(" "),o("router-link",{attrs:{to:"/space/teamForm?id="+t.id}},[e.source.hasPermission("SPACE_TEAM_DELETE")?o("a",{staticClass:"coos-link color-green mgl-5",attrs:{title:"修改"}},[o("i",{staticClass:"coos-icon coos-icon-edit"})]):e._e()]),e._v(" "),e.source.hasPermission("SPACE_TEAM_DELETE")?o("a",{staticClass:"coos-link color-red mgl-5",attrs:{title:"删除"},on:{click:function(o){return e.doDelete(t)}}},[o("i",{staticClass:"coos-icon coos-icon-delete"})]):e._e()],1)])])})]],2)])},staticRenderFns:[]};var A=o("VU/8")(O,N,!1,function(e){o("6tEo")},"data-v-08ae590e",null).exports,L={name:"TeamForm",data:function(){return{source:source,teams:[],itemrecordids:[],form:{type:"USERS",permission:"MASTER"},records:[],rules:{type:[{required:!0,message:"请选择成员来源",trigger:"blur"}],recordid:[{required:!0,message:"请选择成员",trigger:"blur"}],permission:[{required:!0,message:"请选择权限",trigger:"blur"}]}}},methods:{goBack:function(){this.$router.go(-1)},typeChange:function(){this.loadRecords(this.form.type)},loadRecords:function(e){var t=this;if("USERS"==e){source.load("USERS",{pagesize:1e3,pageindex:1}).then(function(e){t.records=e.value||[]})}else this.records=[]},doSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return coos.error("请正确填写表单！"),!1;t.form.spaceid=t.source.spaceid,t.form.id?source.do("SPACE_TEAM_UPDATE",t.form).then(function(e){0==e.errcode?(coos.success("修改成功！"),t.$router.go(-1)):coos.error(e.errmsg)}):source.do("SPACE_TEAM_INSERT",t.form).then(function(e){0==e.errcode?(coos.success("新增成功！"),t.$router.go(-1)):coos.error(e.errmsg)})})},loadSpaceTeams:function(e){var t=this,o={pagesize:1e3,pageindex:e};source.load("SPACE_TEAMS",o).then(function(e){(e.value||[]).forEach(function(e){t.teams.push(e),t.itemrecordids.push(e.recordid)})})}},mounted:function(){var e=this;this.loadSpaceTeams(1);var t=this.$route.query.id;t?source.get("SPACE_TEAM",t).then(function(t){t&&(e.form=t),e.typeChange()}):this.typeChange()}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coos-form app-min-page"},[o("div",{staticClass:"title font-md pdb-20"},[o("span",[e._v(e._s(e.form.id?"编辑成员":"添加成员"))])]),e._v(" "),o("div",{staticClass:"form"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"100px"}},[o("el-form-item",{attrs:{label:"成员来源",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.typeChange(t)}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.source.ENUM_MAP.SPACE_TEAM_TYPE,function(e){return o("el-option",{key:e.value,attrs:{label:e.text,value:e.value,disabled:"USERS"!=e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"成员",prop:"recordid"}},[o("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.recordid,callback:function(t){e.$set(e.form,"recordid",t)},expression:"form.recordid"}},e._l(e.records,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id,disabled:e.itemrecordids.indexOf(t.id)>=0}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"权限",prop:"permission"}},[o("el-radio-group",{model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}},e._l(e.source.ENUM_MAP.SPACE_PERMISSION,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSubmit("form")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)])},staticRenderFns:[]};var $=o("VU/8")(L,F,!1,function(e){o("w8+u")},"data-v-678a6f63",null).exports,U={name:"OptionIndex",data:function(){return{activeName:"1",form:{},form_rules:{}}},methods:{del:function(){coos.confirm("此操作无法恢复！确定删除？").then(function(){source.do("SPACE_DELETE",{id:source.spaceid}).then(function(e){0==e.errcode?(coos.success("删除成功！"),app.toSpace(source.LOGIN_USER.space)):coos.error(e.errmsg)})}).catch(function(){})},update:function(){source.do("SPACE_UPDATE",{id:source.space.id,publictype:source.space.publictype,comment:source.space.comment}).then(function(e){0==e.errcode?(coos.success("修改成功！"),location.reload()):coos.error(e.errmsg)})},rename:function(){source.do("SPACE_RENAME",{id:source.space.id,name:source.space.name}).then(function(e){if(0==e.errcode){coos.success("修改成功！");var t=location.href;t.indexOf("#")>0&&(t=t.substring(0,t.indexOf("#"))),t.lastIndexOf("/")>0&&(t=t.substring(0,t.lastIndexOf("/"))),t=t+"/"+source.space.name,coos.toURL(t)}else coos.error(e.errmsg)})}}},D={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page space-option-page"},[null!=e.source.space?o("el-collapse",{staticClass:"bd",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-collapse-item",{attrs:{title:"",name:"1"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-grey pdlr-10"},[e._v("\n          基本设置\n          "),o("i",{staticClass:"coos-icon coos-icon-setting"})])]),e._v(" "),o("div",{staticClass:"pd-10"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules}},[o("el-form-item",{attrs:{label:"开放类型",prop:"publictype"}},[o("el-radio-group",{model:{value:e.source.space.publictype,callback:function(t){e.$set(e.source.space,"publictype",t)},expression:"source.space.publictype"}},e._l(e.source.ENUM_MAP.PUBLIC_TYPE,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"描述",prop:"comment"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.source.space.comment,callback:function(t){e.$set(e.source.space,"comment",t)},expression:"source.space.comment"}})],1)],1),e._v(" "),e.source.hasPermission("SPACE_UPDATE")?o("div",{staticClass:"coos-btn bg-green",on:{click:e.update}},[e._v("保存")]):e._e()],1)],2),e._v(" "),o("el-collapse-item",{attrs:{name:"2"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-orange pdlr-10"},[e._v("重命名")])]),e._v(" "),o("div",{staticClass:"pd-10"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{autocomplete:"off",rows:5},model:{value:e.source.space.name,callback:function(t){e.$set(e.source.space,"name",t)},expression:"source.space.name"}})],1)],1),e._v(" "),e.source.hasPermission("SPACE_RENAME")?o("div",{staticClass:"coos-btn bg-green",on:{click:e.rename}},[e._v("保存")]):e._e()],1)],2),e._v(" "),o("el-collapse-item",{attrs:{name:"3"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-orange pdlr-10"},[e._v("\n          转移\n          "),o("i",{staticClass:"coos-icon coos-icon-drag"})])]),e._v(" "),o("div",{staticClass:"pd-10"},[e._v("转移")])],2),e._v(" "),o("el-collapse-item",{attrs:{name:"4"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-red pdlr-10"},[e._v("\n          删除\n          "),o("i",{staticClass:"coos-icon coos-icon-delete"})])]),e._v(" "),o("div",{staticClass:"pd-10"},[o("div",{staticClass:"color-red pd-10 bd bd-red mgb-10"},[e._v("删除空间，将物理删除该空间所有数据！")]),e._v(" "),o("div",{staticClass:"color-red pd-10 bd bd-red mgb-10"},[e._v("此操作无法恢复！请慎重操作！")]),e._v(" "),e.source.hasPermission("SPACE_DELETE")?o("div",{staticClass:"coos-btn bg-red",on:{click:e.del}},[e._v("删除")]):e._e()])],2)],1):e._e()],1)},staticRenderFns:[]};var M=o("VU/8")(U,D,!1,function(e){o("u4ce")},null,null).exports,G={name:"JoinIndex",components:{SpaceList:c},data:function(){return{source:source,spaces:null}},methods:{loadJoinSpaces:function(e){var t={pagesize:5,pageindex:e};source.load("JOIN_SPACES",t)}},mounted:function(){this.loadJoinSpaces(1)}},z={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[null==e.source.data.JOIN_SPACES?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("仓库数据加载中...")])]:[null!=e.source.data.JOIN_SPACES.list?[o("SpaceList",{attrs:{list:e.source.data.JOIN_SPACES.list}}),e._v(" "),e.source.data.JOIN_SPACES.hasNext?[o("div",{staticClass:"text-center pd-10"},[o("a",{staticClass:"coos-link pdlr-10 color-green",on:{click:function(t){return e.loadJoinSpaces()}}},[e._v("加载更多数据")])])]:e._e(),e._v(" "),!e.source.data.JOIN_SPACES.hasNext&&e.source.data.JOIN_SPACES.list.length>0?[o("div",{staticClass:"text-center pd-10 color-grey"},[e._v("暂无更多数据")])]:e._e()]:e._e()]],2)},staticRenderFns:[]};var j=o("VU/8")(G,z,!1,function(e){o("Bxcx")},"data-v-2c2f6242",null).exports,V={name:"JoinIndex",components:{SpaceList:c},data:function(){return{source:source,spaces:null}},methods:{loadStarSpaces:function(e){var t={pagesize:5,pageindex:e};source.load("STAR_SPACES",t)}},mounted:function(){this.loadStarSpaces(1)}},B={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[null==e.source.data.STAR_SPACES?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("仓库数据加载中...")])]:[null!=e.source.data.STAR_SPACES.list?[o("SpaceList",{attrs:{list:e.source.data.STAR_SPACES.list}}),e._v(" "),e.source.data.STAR_SPACES.hasNext?[o("div",{staticClass:"text-center pd-10"},[o("a",{staticClass:"coos-link pdlr-10 color-green",on:{click:function(t){return e.loadStarSpaces()}}},[e._v("加载更多数据")])])]:e._e(),e._v(" "),!e.source.data.STAR_SPACES.hasNext&&e.source.data.STAR_SPACES.list.length>0?[o("div",{staticClass:"text-center pd-10 color-grey"},[e._v("暂无更多数据")])]:e._e()]:e._e()]],2)},staticRenderFns:[]};var W=o("VU/8")(V,B,!1,function(e){o("pHJB")},"data-v-a510d06c",null).exports,H={name:"ConfigureIndex",data:function(){return{source:source,form:{openregister:source.CONFIGURE.openregister,defaultpassword:source.CONFIGURE.defaultpassword},rules:{defaultpassword:[{required:!0,message:"请输入默认密码！",trigger:"blur"}]}}},methods:{doSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;source.do("CONFIGURE_UPDATE",o).then(function(e){0==e.errcode?(coos.success("修改成功！"),source.load("CONFIGURE",{})):coos.error(e.errmsg)})})},init:function(){}},mounted:function(){this.init()}},q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row pd-20"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange"},[e._v("系统设置")]),e._v(" "),o("el-form",{ref:"form",staticClass:"coos-row mgt-20",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"开启注册",prop:"name"}},[o("el-switch",{attrs:{type:"text"},model:{value:e.form.openregister,callback:function(t){e.$set(e.form,"openregister",t)},expression:"form.openregister"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"默认密码",prop:"defaultpassword"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.defaultpassword,callback:function(t){e.$set(e.form,"defaultpassword",t)},expression:"form.defaultpassword"}})],1),e._v(" "),o("el-form-item",[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.doSave()}}},[e._v("保存")])])],1)],1)])])},staticRenderFns:[]};var Y=o("VU/8")(H,q,!1,function(e){o("NnnX")},"data-v-a5449382",null).exports,J=o("bOdI"),K=o.n(J),Z={name:"EnvironmentIndex",data:function(){var e;return e={source:source,list:null,title:"编辑",labelWidth:"120px",size:"mini"},K()(e,"source",source),K()(e,"show_form",!1),K()(e,"form",{id:"",name:"",path:"",type:"",version:""}),K()(e,"form_rules",{name:[{required:!0,message:"请输入名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}],path:[{required:!0,message:"请填写路径",trigger:"blur"}],type:[{required:!0,message:"请选中类型",trigger:"blur"}]}),e},methods:{showForm:function(e){for(var t in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[t])?this.form[t]=[]:this.form[t]="";for(var t in e)this.form[t]=e[t]},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),coos.isEmpty(o.id)?source.do("ENVIRONMENT_CREATE",o).then(function(e){0==e.errcode?(coos.success("新增成功！"),source.load("ENVIRONMENTS",{})):coos.error(e.errmsg)}):source.do("ENVIRONMENT_UPDATE",o).then(function(e){0==e.errcode?(coos.success("修改成功！"),source.load("ENVIRONMENTS",{})):coos.error(e.errmsg)})})},formCancel:function(){this.hideForm()},toInsert:function(e){this.showForm(e)},toUpdate:function(e){this.showForm(e)},toDelete:function(e){coos.confirm("确定删除该记录？").then(function(t){source.do("ENVIRONMENT_DELETE",{id:e.id}).then(function(e){0==e.errcode?(coos.success("删除成功！"),source.load("ENVIRONMENTS",{})):coos.error(e.errmsg)})}).catch(function(){})},init:function(){source.load("ENVIRONMENTS",{})}},mounted:function(){this.init()}},X={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange"},[e._v("环境配置")]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("div",{staticClass:"float-right"},[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.toInsert()}}},[e._v("新增")])])]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.source.data.ENVIRONMENTS}},[o("el-table-column",{attrs:{prop:"name",label:"名称",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"version",label:"版本",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"path",label:"路径"}}),e._v(" "),o("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{staticClass:"coos-btn bg-green",on:{click:function(o){return e.toUpdate(t.row)}}},[e._v("修改")]),e._v(" "),o("a",{staticClass:"coos-btn bg-red",on:{click:function(o){return e.toDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"类型",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[o("el-option",{attrs:{label:"Java",value:"JAVA"}}),e._v(" "),o("el-option",{attrs:{label:"Tomcat",value:"TOMCAT"}}),e._v(" "),o("el-option",{attrs:{label:"Git",value:"GIT"}}),e._v(" "),o("el-option",{attrs:{label:"Maven",value:"MAVEN"}}),e._v(" "),o("el-option",{attrs:{label:"Node",value:"NODE"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"版本",prop:"version"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"路径",prop:"path"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Q={name:"RemoteIndex",data:function(){var e;return e={source:source,list:null,title:"编辑",labelWidth:"170px",size:"mini"},K()(e,"source",source),K()(e,"show_form",!1),K()(e,"form",{id:"",name:"",token:"",mode:"",server:""}),K()(e,"form_rules",{name:[{required:!0,message:"请输入名称",trigger:"blur"}],token:[{required:!0,message:"请输入令牌",trigger:"blur"}],mode:[{required:!0,message:"请选中模式",trigger:"blur"}],server:[{required:!0,message:"请填写部署服务器地址",trigger:"blur"}]}),e},methods:{showForm:function(e){for(var t in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[t])?this.form[t]=[]:this.form[t]="";for(var t in e)this.form[t]=e[t]},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),coos.isEmpty(o.id)?source.do("REMOTE_CREATE",o).then(function(t){0==t.errcode?(coos.success("新增成功！"),source.load("REMOTES",{})):(coos.error(t.errmsg),window.setTimeout(function(t){e.show_form=!0},300))}):source.do("REMOTE_UPDATE",o).then(function(e){0==e.errcode?(coos.success("修改成功！"),source.load("REMOTES",{})):coos.error(e.errmsg)})})},formCancel:function(){this.hideForm()},toInsert:function(e){this.showForm(e)},toUpdate:function(e){this.showForm(e)},toDelete:function(e){coos.confirm("确定删除该记录？").then(function(t){source.do("REMOTE_DELETE",{id:e.id}).then(function(e){0==e.errcode?(coos.success("删除成功！"),source.load("REMOTES",{})):coos.error(e.errmsg)})}).catch(function(){})},init:function(){source.load("REMOTES",{})}},mounted:function(){this.init()}},ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange"},[e._v("部署服务器配置")]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("div",{staticClass:"float-right"},[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.toInsert()}}},[e._v("新增")])])]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.source.data.REMOTES}},[o("el-table-column",{attrs:{prop:"name",label:"名称",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"token",label:"令牌",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"mode",label:"模式",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"server",label:"地址",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"连接状态",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"errmsg",label:"错误信息",width:"100"}}),e._v(" "),o("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{staticClass:"coos-btn bg-green",on:{click:function(o){return e.toUpdate(t.row)}}},[e._v("修改")]),e._v(" "),o("a",{staticClass:"coos-btn bg-red",on:{click:function(o){return e.toDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"令牌",prop:"token"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.token,callback:function(t){e.$set(e.form,"token",t)},expression:"form.token"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"模式",prop:"mode"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[o("el-option",{attrs:{label:"服务模式（由TeamIDE服务器连接部署服务器）",value:"SERVER"}}),e._v(" "),o("el-option",{attrs:{label:"客户端模式（由部署服务器连接TeamIDE服务器）",value:"CLIENT"}})],1)],1),e._v(" "),"SERVER"==e.form.mode?[o("el-form-item",{attrs:{label:"部署服务器地址",prop:"server"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.server,callback:function(t){e.$set(e.form,"server",t)},expression:"form.server"}})],1)]:e._e(),e._v(" "),"CLIENT"==e.form.mode?[o("el-form-item",{attrs:{label:"TeamIDE服务器地址",prop:"server"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.server,callback:function(t){e.$set(e.form,"server",t)},expression:"form.server"}})],1)]:e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],2)],1)],1)},staticRenderFns:[]};var te={name:"PluginIndex",data:function(){var e;return e={source:source,list:null,title:"编辑",labelWidth:"170px",size:"mini"},K()(e,"source",source),K()(e,"show_form",!1),K()(e,"form",{id:"",name:"",token:"",mode:"",server:""}),K()(e,"form_rules",{name:[{required:!0,message:"请输入名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}]}),e},methods:{showForm:function(e){for(var t in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[t])?this.form[t]=[]:this.form[t]="";for(var t in e)this.form[t]=e[t]},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),coos.isEmpty(o.id)?source.do("PLUGIN_CREATE",o).then(function(t){0==t.errcode?(coos.success("新增成功！"),source.load("PLUGINS",{})):(coos.error(t.errmsg),window.setTimeout(function(t){e.show_form=!0},300))}):source.do("PLUGIN_UPDATE",o).then(function(e){0==e.errcode?(coos.success("修改成功！"),source.load("PLUGINS",{})):coos.error(e.errmsg)})})},formCancel:function(){this.hideForm()},toInsert:function(e){this.showForm(e)},toUpdate:function(e){this.showForm(e)},toDelete:function(e){coos.confirm("确定删除该插件？").then(function(t){source.do("PLUGIN_DELETE",{name:e.name,version:e.version}).then(function(e){0==e.errcode?(coos.success("删除成功！"),source.load("PLUGINS",{})):coos.error(e.errmsg)})}).catch(function(){})},init:function(){source.load("PLUGINS",{})}},mounted:function(){this.init()}},oe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange"},[e._v("插件管理")]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("div",{staticClass:"float-right"},[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.toInsert()}}},[e._v("新增")])])]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.source.data.PLUGINS}},[o("el-table-column",{attrs:{prop:"name",label:"名称",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"version",label:"版本",width:"100"}}),e._v(" "),o("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{staticClass:"coos-btn bg-green",on:{click:function(o){return e.toUpdate(t.row)}}},[e._v("修改")]),e._v(" "),o("a",{staticClass:"coos-btn bg-red",on:{click:function(o){return e.toDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"版本",prop:"version"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var se={name:"ConfigureIndex",data:function(){return{source:source,form:{oldpassword:"",newpassword:"",repassword:""},rules:{oldpassword:[{required:!0,message:"请输入原密码！",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码！",trigger:"blur"}],repassword:[{required:!0,message:"请确认新密码！",trigger:"blur"}]}}},methods:{doSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;source.do("UPDATE_PASSWORD",o).then(function(e){0==e.errcode?coos.success("修改成功！"):coos.error(e.errmsg)})})},init:function(){}},mounted:function(){this.init()}},re={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row pd-20"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange"},[e._v("用户中心")]),e._v(" "),o("el-form",{ref:"form",staticClass:"coos-row mgt-20",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"原密码",prop:"oldpassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.oldpassword,callback:function(t){e.$set(e.form,"oldpassword",t)},expression:"form.oldpassword"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"新密码",prop:"newpassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.newpassword,callback:function(t){e.$set(e.form,"newpassword",t)},expression:"form.newpassword"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),e._v(" "),o("el-form-item",[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.doSave()}}},[e._v("修改密码")])])],1)],1)])])},staticRenderFns:[]};var ne={name:"PathPage",components:{Index:_,Error404:E,Error403:w,SpaceCreate:R,SpaceEventIndex:I,SpaceTeamIndex:A,SpaceTeamForm:$,SpaceOptionIndex:M,SpaceJoinIndex:j,SpaceStarIndex:W,ManageConfigureIndex:Y,ManageEnvironmentIndex:o("VU/8")(Z,X,!1,function(e){o("X6jh")},"data-v-0d512abe",null).exports,ManageRemoteIndex:o("VU/8")(Q,ee,!1,function(e){o("014V")},"data-v-74520b16",null).exports,ManagePluginIndex:o("VU/8")(te,oe,!1,function(e){o("HQoY")},"data-v-41b043b6",null).exports,UserCenter:o("VU/8")(se,re,!1,function(e){o("lz7G")},"data-v-31be312f",null).exports},data:function(){return{source:source}}},ae={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[null==e.$route.params.model||""==e.$route.params.model?[o("Index")]:"space"==e.$route.params.model?["create"==e.$route.params.page?[o("SpaceCreate")]:"event"==e.$route.params.page?[o("SpaceEventIndex")]:"team"==e.$route.params.page?[o("SpaceTeamIndex")]:"teamForm"==e.$route.params.page?[o("SpaceTeamForm")]:"option"==e.$route.params.page?[o("SpaceOptionIndex")]:"join"==e.$route.params.page?[o("SpaceJoinIndex")]:"star"==e.$route.params.page?[o("SpaceStarIndex")]:[o("Error404")]]:"user"==e.$route.params.model?[e.source.isLogin?"center"==e.$route.params.page?[o("UserCenter")]:[o("Error404")]:[o("Error403")]]:"manage"==e.$route.params.model?[e.source.isManager?"configure"==e.$route.params.page?[o("ManageConfigureIndex")]:"environment"==e.$route.params.page?[o("ManageEnvironmentIndex")]:"remote"==e.$route.params.page?[o("ManageRemoteIndex")]:"plugin"==e.$route.params.page?[o("ManagePluginIndex")]:[o("Error404")]:[o("Error403")]]:[o("Error404")]],2)},staticRenderFns:[]};var ie=o("VU/8")(ne,ae,!1,function(e){o("/4qP")},"data-v-eb867832",null).exports,ce=r.a.prototype.push;r.a.prototype.push=function(e){return ce.call(this,e).catch(function(e){return e})},s.default.use(r.a);t.a=new r.a({routes:[{path:"/",component:ie},{path:"/:model",component:ie},{path:"/:model/:page",component:ie}]})},Z30y:function(e,t,o){"use strict";(function(e){var o=window.app||new Object;window.app=o,o.toSpace=function(e){var t=o.getSpacePath(e);coos.toURL(o.getURL(t))},o.toBranch=function(e){var t=o.getSpacePath(source.space);t+="/"+e,coos.toURL(o.getURL(t))},o.getSpaceUrl=function(e){var t=o.getSpacePath(e);return o.getURL(t)},o.getURL=function(e){return _ROOT_URL.endsWith("/")||e.startsWith("/")?_ROOT_URL+e:_ROOT_URL+"/"+e},o.getSpacePath=function(e){return e.servletpath},o.clipboardSelect=function(t){e("#coos-for-copy-area").remove();var o=document.createElement("textarea");o.id="coos-for-copy-area",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="2em",o.style.height="2em",o.style.padding="0",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.style.zIndex="-1",o.value=t,document.body.appendChild(o),o.select()},o.clipboardGet=function(t,o){if(t.clipboardData||t.originalEvent){var s=t.clipboardData||t.originalEvent.clipboardData;if(s.items){var r=s.items;r.length,t.preventDefault(),e(r).each(function(e,t){t.getAsString(function(e){o&&o(e)})})}}},o.autocomplete=function(e){var t=(e=e||{}).$input||e.input,o=e.datas||[];if(t){var s=window.jQuery;(t=s(t)).on("focus",function(e){s(this).autocomplete("instance")&&s(this).autocomplete("search")}),t.autocomplete(o,{source:o,minLength:0,focus:function(e,t){return!1},select:function(o,s){return e.onSelect?e.onSelect(s.item):(t.val(s.item.value),t.change()),!1}});var r=t.data("ui-autocomplete");r._renderItem_back=r._renderItem,r._renderItem=function(e,t){var o=t.text;t.html&&(o=t.html);var s=this._renderItem_back(e,t);return s.html(o),s};var n=t.autocomplete("widget");s(n).css("max-height",300),s(n).css("overflow-x","hidden"),s(n).css("overflow-y","auto"),s(n).addClass("coos-autocomplete")}},o.formDialog=function(t){t=t||{};var o=e('<el-form :model="form" ref="form" :rules="rules"/>');o.attr("label-width",t["label-width"]||"120px"),o.attr("size",t.size||"mini"),t.items=t.items||[];var s=t.data||{};t.items.forEach(function(t,r){var n=e("<el-form-item />");n.attr("label",t.label),n.attr("prop",t.name),n.attr("v-if",t["v-if"]);var a=e('<el-input type="text" autocomplete="off" />');if("textarea"==t.type)a=e('<el-input type="textarea" autocomplete="off" />');else if("switch"==t.type)a=e("<el-switch />"),s[t.name]=coos.isTrue(s[t.name]);else if("slider"==t.type)a=e('<el-slider autocomplete="off" />'),s[t.name]=coos.isTrue(s[t.name]);else if("select"==t.type){a=e('<el-select placeholder="请选择" ref="select" @visible-change="visibleChange" :filterable="true"/>');var i=e('<el-option :key="option.value" :value="option.value" :label="option.text" />');a.append(i),t.options=t.options||[],i.attr("v-for","option in items["+r+"].options")}else if("radio"==t.type){a=e("<el-radio-group />");var c=e('<el-radio :key="option.value" :label="option.value" >{{option.text}}</el-radio>');a.append(c),t.options=t.options||[],c.attr("v-for","option in items["+r+"].options")}else if("checkbox"==t.type){a=e("<el-checkbox-group />");var l=e('<el-checkbox :key="option.value" :label="option.value" >{{option.text}}</el-checkbox>');a.append(l),t.options=t.options||[],l.attr("v-for","option in items["+r+"].options")}a.attr("v-model","form."+t.name),a.attr("form-name",t.name),a.attr("v-on:change","change($event, '"+t.name+"')"),a.addClass(t["class-name"]),null==s[t.name]&&(s[t.name]=""),n.append(a),o.append(n)});var r=e('<div class=" " />');t["before-html"]&&r.append(t["before-html"]),r.append(o),t["after-html"]&&r.append(t["after-html"]),null==t.onClose&&(t.onClose=function(e){if(e&&!a.valid)return!1});var n=window.jQuery('<div class=" " />');n.append(r);var a=new Vue({el:r[0],data:function(){return{form:s,rules:t.rules||{},valid:!0,items:t.items}},methods:{change:function(e,t){this.validate()},validate:function(){var e=this;this.$refs.form.validate(function(t){e.valid=t})},visibleChange:function(t){var o=this;this.$refs.select&&this.$refs.select.$nextTick(function(){var t=o.$refs.select.popperElm;t&&e(t).css("z-index","100000")})}}});return n.find("textarea").css("max-height","150px").css("height","150px"),n.find("textarea").data("data",s),n.find("input").data("data",s),coos.confirm(n,t)},t.a=o}).call(t,o("7t+N"))},bjk6:function(e,t){},bzkO:function(e,t,o){"use strict";(function(e){var s=o("mvHQ"),r=o.n(s);t.a={components:{},props:["repository"],data:function(){return{defaultProps:{children:"files",label:"name"},searchText:null,toRename:!1,source:source}},beforeMount:function(){},watch:{searchText:function(e){this.searchRepository(e)}},methods:{reloadRepository:function(){source.loadRepository()},searchRepository:function(e){var t=this;if(this.$refs.tree.filter(e),coos.isEmpty(e)){var o=[];this.repository.open_folders.forEach(function(e){o.push(e)}),this.repository.open_folders.splice(0,this.repository.open_folders.length),o.forEach(function(e){t.repository.open_folders.push(e)})}},filterNode:function(e,t,o){return null==e||""==e?(o.expanded=!1,!0):(e=(""+e).toLowerCase(),-1!==o.data.name.toLowerCase().indexOf(e))},nodeContextmenu:function(e,t){var o=this;e=e||window.event;var s=[];if(t.isProject){s.push({header:"项目"});var r={text:"项目部署运行",menus:[]};if(s.push(r),r.menus.push({header:"项目部署运行"}),source.repository.starter_options.forEach(function(e){if(coos.isEmpty(e.path)&&coos.isEmpty(t.path)||e.path==t.path){var o={};coos.isEmpty(e.option)||(o=JSON.parse(e.option));var s={text:e.name,menus:[]};r.menus.push(s);var n=!1;source.repository.starters.forEach(function(t){t&&t.option&&t.option.name==e.name&&(n=!0)}),n?s.menus.push({text:"已部署，打开控制台",onClick:function(){source.openStarterBox()}}):s.menus.push({text:"部署",disabled:!source.hasPermission("STARTER_START"),onClick:function(){source.starterDeploy(t.path,o)}}),s.menus.push({text:"修改配置",disabled:!source.hasPermission("SET_STARTER_OPTION"),onClick:function(){source.starterForm.show(t.path,o)}}),s.menus.push({text:"删除配置",disabled:!source.hasPermission("DELETE_STARTER_OPTION"),onClick:function(){source.do("DELETE_STARTER_OPTION",{path:t.path,option:o}).then(function(e){source.load("STARTER_OPTIONS")})}})}}),r.menus.push({header:"运行配置"}),r.menus.push({text:"添加配置",disabled:!source.hasPermission("SET_STARTER_OPTION"),onClick:function(){source.starterForm.show(t.path)}}),t.isMaven){var n=[];s.push({text:"MAVEN",menus:n}),n.push({text:"clean",disabled:!source.hasPermission("MAVEN_CLEAN"),onClick:function(){source.mavenClean(t)}}),n.push({text:"compile",disabled:!source.hasPermission("MAVEN_COMPILE"),onClick:function(){source.mavenCompile(t)}}),n.push({text:"package",disabled:!source.hasPermission("MAVEN_PACKAGE"),onClick:function(){source.mavenPackage(t)}}),n.push({text:"install",disabled:!source.hasPermission("MAVEN_INSTALL"),onClick:function(){source.mavenInstall(t)}}),n.push({text:"deploy",disabled:!source.hasPermission("MAVEN_DEPLOY"),onClick:function(){source.mavenDeploy(t)}})}}t.isProject&&(s.push({header:"插件配置"}),source.plugins.forEach(function(e){var o={text:e.text,menus:[]};s.push(o),null!=e.plugin.optionInputs&&e.plugin.optionInputs.length>0&&source.load("PLUGIN_OPTION",{type:e.plugin.optionType},t).then(function(s){var r=s.value||{};o.menus.push({text:"配置",disabled:!source.hasPermission("SET_PLUGIN_OPTION"),onClick:function(){app.formDialog({title:"插件配置",items:e.plugin.optionInputs,data:r}).then(function(o){var s=source.getProjectByPath(t.path),n={option:r,type:e.plugin.optionType};source.do("SET_PLUGIN_OPTION",n,s).then(function(e){source.reloadProject(s)})})}})})})),source.plugin.onContextmenu(t,s),s.push({header:"文件"}),(t.isProject||t.isDirectory)&&(s.push({text:"新建文件",disabled:!source.hasPermission("FILE_CREATE"),onClick:function(){source.openFolder(t.path);var e={parentPath:t.path,path:t.path+"/"+coos.getNumber(),name:"",isNew:!0,toRename:!1,file:!0};source.formatFile(e,t),t.files.splice(0,0,e),o.rename(e)}}),s.push({text:"新建文件夹",disabled:!source.hasPermission("FILE_CREATE"),onClick:function(){source.openFolder(t.path);var e={parentPath:t.path,path:t.path+"/"+coos.getNumber(),name:"",isNew:!0,toRename:!1,directory:!0,files:[]};source.formatFile(e,t),t.files.splice(0,0,e),o.rename(e)}})),t.isProject||(s.push({text:"重命名",disabled:!source.hasPermission("FILE_RENAME"),onClick:function(){o.rename(t)}}),s.push({text:"删除",disabled:!source.hasPermission("FILE_DELETE"),onClick:function(){o.remove(t)}})),s.push({text:"下载",disabled:!source.hasPermission("DOWNLOAD"),onClick:function(){source.downloadFile(t.path)}}),t.isDirectory&&s.push({text:"上传",disabled:!source.hasPermission("UPLOAD"),onClick:function(){source.uploadRepository({parent:t.path})}}),(t.modified||t.untracked||t.conflicting)&&(s.push({header:"Git"}),s.push({text:"还原",disabled:!source.hasPermission("GIT_REVERT"),onClick:function(){source.gitRevert([t.path])}})),t.isProject&&s.push({text:"刷新",onClick:function(){source.reloadProject(t)}}),this.repository.contextmenu.menus=s,this.repository.contextmenu.callShow(e),e.preventDefault()},nodeExpand:function(e,t){source.openFolder(e.path)},nodeCollapse:function(e,t){source.closeFolder(e.path)},nodeDrop:function(e,t,o,s){if(t){var r=null;if("before"==o||"after"==o?r=t.data.parent:"inner"==o&&(r=t.data),null==r)return;if(e.data.parent==r)return;var n=e.data,a=n.path,i=r.path;source.fileMove(n,r);var c=source.getProjectByPath(a);source.do("FILE_MOVE",{path:a,to:i},c).then(function(e){0==e.errcode?coos.success("移动成功！"):coos.error(e.errmsg)})}},nodeClick:function(e,t){if(this.repository.contextmenu.show=!1,window.event)return window.event.preventDefault(),void window.event.stopPropagation();var o={type:"COPY_FILE"};o.file={name:e.name,path:e.path,isFile:e.isFile,length:e.length},app.clipboardSelect(r()(o))},reloadProject:function(e){source.reloadProject(e),window.event&&(window.event.preventDefault(),window.event.stopPropagation())},openFile:function(e){source.openFileByPath(e.path,!0)},remove:function(e){if(null!=e&&null!=e.parent){var t=source.getProjectByPath(e.path);source.do("FILE_DELETE",{path:e.path},t).then(function(t){if(0==t.errcode){e.isNew||coos.success("删除成功！");var o=e.parent.files.indexOf(e);e.parent.files.splice(o,1)}else coos.error(t.errmsg)})}},rename:function(t){var o=this;null!=t&&(this.toRename=!0,t.toRename=!0,window.setTimeout(function(){e(o.$el).find("[id='input-"+t.path+"']").focus()},10))},clickInput:function(e){window.event&&(window.event.preventDefault(),window.event.stopPropagation())},doRename:function(e,t){},changeInput:function(e){},blurInput:function(t){var o=this,s=e(this.$el).find("[id='input-"+t.path+"']"),r=s.val();if(null!=r&&(r=r.trim()),coos.isEmpty(r))return t.isNew?(t.toRename=!1,this.toRename=!1,void this.remove(t)):(coos.error("文件名称不能为空！"),void s.focus());if(t.name==r)return t.toRename=!1,void(this.toRename=!1);if(t.parent){var n=!1;if(t.parent.files.forEach(function(e){e!=t&&e.name==r&&(n=!0)}),n)return coos.error("文件名称已存在！"),void s.focus()}if(t.toRename=!0,this.toRename=!0,t.isNew){var a=t.parentPath+"/"+r;coos.isEmpty(t.parentPath)&&(a=r),t.path=a;var i={parentPath:t.parentPath,name:r,isFile:t.isFile,isDirectory:t.isDirectory};source.updateFileName(t,r);var c=source.getProjectByPath(i.parentPath);source.do("FILE_CREATE",i,c).then(function(e){0==e.errcode?(delete t.isNew,t.toRename=!1,o.toRename=!1,t.parent&&source.sortFolderFiles(t.parent)):coos.error(e.errmsg)})}else{var l={path:t.path,name:r};source.updateFileName(t,r);var u=source.getProjectByPath(l.path);source.do("FILE_RENAME",l,u).then(function(e){0==e.errcode?(t.toRename=!1,o.toRename=!1,t.parent&&source.sortFolderFiles(t.parent)):coos.error(e.errmsg)})}},renderContent:function(e,t){var o=this,s=(t.node,t.data);t.store;return s.isProject?e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;",class:{"rename-file":s.toRename,"coos-disabled":!source.hasPermission("FILE_OPEN")}},[e("span",{class:"color-orange"},[e("i",{class:"coos-icon coos-icon-appstore mgr-5"}),s.modified||s.untracked||s.conflicting?e("i",{class:"coos-icon mgr-5 coos-icon-right ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),e("input",{directives:[{name:"show",value:s.toRename}],domProps:{value:s.name},attrs:{id:"input-"+s.path},on:{click:function(){return o.clickInput(s)},blur:function(){return o.blurInput(s)},change:function(){return o.changeInput(s)},keyup:function(){return o.keyup(s,event)}}}),e("span",{directives:[{name:"show",value:!s.toRename}]},[s.name]),null!=s.attribute.app?e("i",{class:"mgl-10 ft-12",style:"vertical-align: 1px;color: #bfbcbc;"},["[已配置模型]"]):e("i"),e("span",[e("a",{class:"color-orange mgl-20 ",attrs:{title:"刷新"},on:{click:function(){return o.reloadProject(s)}},style:"vertical-align: -2px;"},[s.loading?e("i",{class:"coos-icon el-icon-loading "}):e("i",{class:"coos-icon coos-icon-reload ft-14"})])])])]):s.isDirectory?e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;",class:{"rename-file":s.toRename,"coos-disabled":!source.hasPermission("FILE_OPEN")}},[e("span",{class:""},[e("i",{class:"coos-icon coos-icon-folder-fill mgr-5 color-orange"}),s.modified||s.untracked||s.conflicting?e("i",{class:"coos-icon mgr-5 coos-icon-right ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),e("input",{directives:[{name:"show",value:s.toRename}],domProps:{value:s.name},attrs:{id:"input-"+s.path},on:{click:function(){return o.clickInput(s)},blur:function(){return o.blurInput(s)},change:function(){return o.changeInput(s)},keyup:function(){return o.keyup(s,event)}}}),e("span",{directives:[{name:"show",value:!s.toRename}]},[s.name])]),e("span")]):e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;",class:{"rename-file":s.toRename,"coos-disabled":!source.hasPermission("FILE_OPEN")},on:{dblclick:function(){return o.openFile(s)}}},[e("span",{class:""},[e("i",{class:"coos-icon coos-icon-file mgr-5 coos-icon-"+s.type}),s.modified||s.conflicting?e("i",{class:"coos-icon mgr-5 coos-icon-right ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),s.untracked?e("i",{class:"coos-icon mgr-5 coos-icon-plus ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),e("input",{directives:[{name:"show",value:s.toRename}],domProps:{value:s.name},attrs:{id:"input-"+s.path},on:{click:function(){return o.clickInput(s)},blur:function(){return o.blurInput(s)},change:function(){return o.changeInput(s)},keyup:function(){return o.keyup(s,event)}}}),e("span",{directives:[{name:"show",value:!s.toRename}]},[s.name])]),e("span")])},keyup:function(e,t){"27"==(t=t||window.event).keyCode&&null!=e&&(this.toRename=!1,e.toRename=!1),"13"==t.keyCode&&null!=e&&this.blurInput(e)}},mounted:function(){var e=this;document.addEventListener("paste",function(t){t&&t.target&&"coos-for-copy-area"==t.target.id&&(app.clipboardGet(t,function(t){e.onPaste(t)}),t.preventDefault(),t.stopPropagation())}),document.addEventListener("keyup",function(t){if("113"==t.keyCode){var o=e.$refs.tree.getCurrentNode();null!=o&&e.rename(o)}})}}}).call(t,o("7t+N"))},cqsX:function(e,t,o){"use strict";(function(e){var t=o("mvHQ"),s=o.n(t),r=o("fZjL"),n=o.n(r),a=o("//Fk"),i=o.n(a);!function(){source.server={post:function(t,o){return new i.a(function(s,r){o=o||{};var n=_SERVER_URL+t;e.ajax({url:n,data:o,type:"post",beforeSend:function(){},success:function(e){s&&s(e)},complete:function(e,t){},error:function(e,t,o){r&&r()}})})},session:function(t){return new i.a(function(o,s){var r=window.location.href;r.indexOf("#")>0&&(r=r.split("#")[0]),r=r.substring(_ROOT_URL.length),source.server.post("/api/data/session",{SPACE_PATH:r}).then(function(s){var r=s.value||{};t&&source.installed&&delete r.installed,e(n()(r)).each(function(e,t){source[t]=r[t]}),source.CONFIGURE=r.CONFIGURE||{},r.plugins&&r.plugins.forEach(function(e){source.plugin.init(e)}),t||(source.data={},r.ENUM_MAP&&r.ENUM_MAP.MODEL_TYPE&&e(r.ENUM_MAP.MODEL_TYPE).each(function(e,t){source.data[t.value]=null})),o&&o(s)})})},download:function(e){var t="/api/download/"+source.token+"?";e.type&&(t+="&type="+e.type),e.path&&(t+="&path="+e.path);var o=_SERVER_URL+t;window.open(o)},load:function(e,t,o){return new i.a(function(r,n){t=t||{};var a="/api/workspace/load/"+e+"/"+source.token;o&&(a+="/-"+o.path),source.server.post(a,s()(t)).then(function(t){source.onData(e,t),r&&r(t)})})},do:function(e,t,o){t=t||{};var r="/api/workspace/do/"+e+"/"+source.token;return o&&(r+="/-"+o.path),source.server.post(r,s()(t))},event:function(e,t,o,r,n){r=r||{};var a="/api/plugin/event/"+e+"/"+t+"/"+o+"/"+source.token;return n&&(a+="/-"+n.path),source.server.post(a,s()(r))},restart:function(){return new i.a(function(e,t){window.setTimeout(function(){source.screen.error("服务器重启中，请稍后..."),source.server.status().then(function(t){t?(source.screen.success("服务器启动成功，即将刷新页面！"),window.setTimeout(function(){source.screen.remove(),e&&e()},500)):window.setTimeout(function(){source.server.restart().then(e)},3e3)})},5e3)})},status:function(){return new i.a(function(t,o){e.ajax({url:_SERVER_URL+"/api/validate",data:{},type:"post",beforeSend:function(){},success:function(e){e.value&&!e.value.isLogin&&source.LOGIN_USER_TOKEN?source.server.session(!0).then(function(){source.do("AUTO_LOGIN",{token:source.LOGIN_USER_TOKEN}).then(function(e){t&&t(!0)})}):t&&t(!0)},complete:function(e,t){},error:function(e,o,s){t&&t(!1)}})})},wait:function(){return new i.a(function(e,o){source.server.status().then(function(o){if(o)t=0,window.setTimeout(function(){e&&e()},500);else{var s=3;if(++t>=3&&(s=5),t>=5&&(s=10),t>=10&&(s=30),t>=20)return;window.setTimeout(function(){source.server.wait().then(e)},1e3*s)}})})}};var t=0}();source}).call(t,o("7t+N"))},ewLK:function(e,t){},fVLO:function(e,t,o){"use strict";(function(e){t.a={name:"JoinIndex",data:function(){return{source:source,list:null}},methods:{formatDateStr:function(e){return null==e||""==e?e:coos.date.formatByStr(e,"yyyy/MM/dd hh:mm")},load:function(){var e=this;if(!this.loading){var t={};this.pageindex=this.pageindex||0,this.pageindex++,t.pageindex=this.pageindex,t.pagesize=20,this.totalpages&&this.totalpages<t.pageindex||(this.loading=!0,source.load("SPACE_EVENTS",t).then(function(t){e.list=e.list||[],e.totalpages=t.totalpages||0,(t.value||[]).forEach(function(t){var o=null;e.list.forEach(function(e){e.date==t.date&&(o=e)}),null==o&&(o={date:t.date,list:[]},e.list.push(o)),o.list.push(t)}),e.loading=!1}))}}},mounted:function(){this.load();var t=this;e(document).on("scroll",function(){if("/event"==t.$route.path){var o=e(document).scrollTop(),s=e(window).height(),r=e(document).height();r-(o+s)<=100&&t.load(),r=o+s}})}}}).call(t,o("7t+N"))},fuNw:function(e,t){},"g/p1":function(e,t,o){"use strict";(function(e){var s=o("mvHQ"),r=o.n(s),n=o("woOf"),a=o.n(n),i=o("/tCD");t.a={props:["tab"],components:{},data:function(){return{loading:!1,errmsg:null,designers:[],isYaml:!1,loading_text:""}},watch:{"tab.show_editor":function(e){var t=this;e&&(this.inited?this.need_reload&&(delete this.need_reload,this.reload()):this.initing||(this.initing=!0,this.$nextTick(function(e){delete t.need_reload,t.init()})))}},methods:{destroy:function(){},callReload:function(){this.inited&&(this.tab.show_editor?this.reload():this.need_reload=!0)},reload:function(){var e=this;delete this.need_reload,this.file&&source.loadFile(this.tab.path).then(function(t){var o=t.value;coos.isEmpty(o.errmsg)?e.file.content!=o.content&&coos.confirm("文件发生变更是否载入最新文件数据？").then(function(t){e.file=o,e.initEditor()}).catch(function(e){}):e.errmsg=o.errmsg})},save:function(e,t){if(!source.hasPermission("FILE_SAVE"))coos.error("暂无保存权限，请联系仓库管理员！");else{this.loading=!0,this.loading_text="文件保存中...";var o=this,s=(new Date).getTime(),r=300;source.saveFile(this.file.path,e,function(n){var a=(new Date).getTime();r=(r-=a-s)<0?0:r,setTimeout(function(s){o.loading=!1,n&&(o.file.content=e),t&&t(n)},r)})}},init:function(){var e=this,t=(new Date).getTime(),o=300;this.loading=!0,this.loading_text="文件加载中...",source.loadFile(this.tab.path).then(function(s){var r=s.value,n=(new Date).getTime();o=(o-=n-t)<0?0:o,setTimeout(function(t){e.loading=!1,coos.isEmpty(r.errmsg)?(e.file=r,e.initEditor(),e.initing=!1,e.inited=!0):e.errmsg=r.errmsg},o)})},addDesigner:function(e){e&&(e.key=e.key||"key-"+coos.getNumber(),e.text=e.text||"Designer",e.active=!1,this.designers.push(e))},getDesigner:function(e){var t=null;return this.designers.forEach(function(o){o.key==e&&(t=o)}),t},initEditor:function(){var e=this;this.tab.changed=!1,coos.trimList(this.designers),delete this.lastChangeData,delete this.lastChangeDesigner;var t={};t.editor=this,t.file=this.file;var o=!source.hasPermission("FILE_SAVE");t.readyonly=o;var s=new i.a(a()({},t));this.addDesigner(s),source.plugin.onCreateEditory(a()({},t)),this.$nextTick(function(t){e.clickDesigner(s);var o=e.getCache();if(null!=o){var r=e.getDesigner(o.key);r&&r.setCacheData&&coos.confirm("检测到上次未保存的变更，是否加载到编辑器？（注：不会自动保存）").then(function(t){e.clickDesigner(r),r.setCacheData(o.data)}).catch(function(t){e.removeCache()})}})},getDesingerContent:function(t){return e(this.$el).find('[designer="'+t+'"].editor-designer .editor-designer-content')},clickDesigner:function(e){var t=this,o=!1;this.designers.forEach(function(t){t.active&&t==e&&(o=!0)}),o||(this.designers.forEach(function(e){e.active=!1}),e.active=!0,e.builded?this.$nextTick(function(t){e.show&&e.show()}):(e.builded=!0,this.$nextTick(function(o){var s=t.getDesingerContent(e.key);e.build&&e.build(s),e.show&&e.show()})))},loadLastContent:function(e){this.lastChangeDesigner&&this.lastChangeDesigner.loadLastContent?this.lastChangeDesigner.loadLastContent(e):e&&e(this.file.content)},onChange:function(e,t,o){this.tab.changed=e,this.lastChangeData=t,this.lastChangeDesigner=o,e?this.setCache(t,o):this.removeCache()},removeCache:function(){var e=this.getCacheKey();localStorage.removeItem(e)},getCache:function(){var e=this.getCacheKey(),t=localStorage.getItem(e);return coos.isEmpty(t)?null:JSON.parse(t)},setCache:function(e,t){if(t){var o={};o.key=t.key,o.data=e;var s=this.getCacheKey();localStorage.setItem(s,r()(o))}},getCacheKey:function(e){return"EDITOR-CACHE-FILE-"+source.spaceid+"-"+source.branch+this.file.path}},mounted:function(){this.tab.editor=this},beforeCreate:function(){}}}).call(t,o("7t+N"))},gLH3:function(e,t){},gYWc:function(e,t){},j5ew:function(e,t){},jD92:function(e,t){},jks3:function(e,t,o){"use strict";(function(e){var t;(t=e('<div class="app-screen-message-box"></div>')).append('<div class="app-screen-message" />'),t.find(".app-screen-message").append('<div class="app-screen-message-img" ></div>'),t.find(".app-screen-message").append('<div class="app-screen-message-text" ></div>'),source.screen={show:function(){0==e(".app-screen-message-box").length&&(t.find(".app-screen-message-img").css({backgroundImage:"url("+_SERVER_URL+"/resources/images/loading.gif)"}),e("body").append(t),window.setTimeout(function(){t.addClass("app-screen-message-show")},10))},error:function(o){source.screen.show(),t.find(".app-screen-message-text").empty();var s=e("<div />");s.append(o),t.find(".app-screen-message-text").append(s)},success:function(o){source.screen.show(),t.find(".app-screen-message-text").empty();var s=e("<div />");s.append(o),t.find(".app-screen-message-text").append(s)},remove:function(){window.setTimeout(function(){t.removeClass("app-screen-message-show")},10)}};source}).call(t,o("7t+N"))},jlfK:function(e,t){},k9gp:function(e,t,o){"use strict";(function(e){var s=o("UlJ7");t.a={components:{TabEditor:s.a},props:["repository"],data:function(){return{source:source}},beforeMount:function(){},watch:{"repository.activeTab":function(e){this.$nextTick(function(t){source.changeTab(e);var o=source.getTab(e);if(null!=o&&source.isLogin){var s=source.getProjectByPath(o.path);source.do("FILE_OPEN",{path:o.path},s)}})}},methods:{removeTab:function(e){source.closeTab(e)},clickTab:function(){},showContextmenu:function(e,t){var o=e||window.event;this.repository.contextmenu.menus=[{header:"基本"},{text:"关闭",onClick:function(){source.closeTab(t)}},{text:"关闭其它",onClick:function(){source.closeOtherTab(t)}},{text:"关闭左侧",onClick:function(){source.closeLeftTab(t)}},{text:"关闭右侧",onClick:function(){source.closeRightTab(t)}},{text:"全部关闭",onClick:function(){source.closeAllTab(t)}},{divider:!0},{text:"复制名称"},{text:"复制路径"}],this.repository.contextmenu.show=!0,this.repository.contextmenu.left=o.pageX+"px",this.repository.contextmenu.top=o.pageY+"px",o.preventDefault()}},mounted:function(){var t=this;e(document).on("contextmenu",".repository-tabs > .el-tabs__header .el-tabs__item",function(o){var s=e(o.target).closest(".el-tabs__item").find("span:first");t.showContextmenu(o,s.attr("path"))}),e(document).on("mouseup",".repository-tabs > .el-tabs__header .el-tabs__item",function(t){if(1==t.button){var o=e(t.target).closest(".el-tabs__item").find("span:first");source.closeTab(o.attr("path"))}})}}}).call(t,o("7t+N"))},lWXd:function(e,t){},lz7G:function(e,t){},pHJB:function(e,t){},pZXS:function(e,t){},tcCa:function(e,t,o){"use strict";(function(e){var t,s,r=o("//Fk"),n=o.n(r);t=null,s=[],window.onbeforeunload=function(){t.close(3e3,"强制关闭")},source.websocket={opened:!1,opening:!1,sendText:function(e){t.send(e)},open:function(){return new n.a(function(o,r){if(source.websocket.opened)o&&o();else if(s.push(o),!source.websocket.opening){if(source.websocket.opening=!0,!("WebSocket"in window))return e(".app-loading-text").empty(),void e(".app-loading-text").html("您的浏览器不支持WebSocket，请使用高版本浏览器！");var n=window._SERVER_URL.replace("http","ws")+"/websocket/"+source.token;(t=new WebSocket(n)).onerror=function(e){console.error(e)},t.onopen=function(){source.websocket.opening=!1,source.websocket.opened=!0,s.forEach(function(e){e&&e()}),s=[]},t.onclose=function(e){source.websocket.opening=!1,source.websocket.opened=!1,source.server.status().then(function(e){e?source.websocket.open():source.server.wait().then(function(){source.websocket.open()})})},t.onmessage=function(e){e.data}}})}};source}).call(t,o("7t+N"))},tvR6:function(e,t){},u4ce:function(e,t){},uEeu:function(e,t){},uUOH:function(e,t,o){"use strict";var s={name:"Toolbar",data:function(){var e=[];null==source.space&&null!=source.SPACE_TYPE&&e.push({icon:"coos-icon-database",name:"/",text:"仓库"}),source.space&&("REPOSITORYS"==source.space.type?e.push({icon:"coos-icon-code",name:"/",text:"代码"}):e.push({icon:"coos-icon-database",name:"/",text:"仓库"}),e.push({icon:"coos-icon-linechart",name:"/space/event",text:"动态"}),"USERS"!=source.space.type?(e.push({icon:"coos-icon-team",name:"/space/team",text:"成员"}),e.push({icon:"coos-icon-setting",name:"/space/option",text:"设置"})):(e.push({icon:"coos-icon-deploymentunit",name:"/space/join",text:"参与"}),e.push({icon:"coos-icon-star",name:"/space/star",text:"星标"})));var t=this.$route.path,o=null;return e.forEach(function(e){e.name!=t&&0!=t.indexOf(e.name)||(o=e)}),e.length>0&&null==o&&(t=e[0].name),{source:source,activeName:t,tabs:e}},beforeMount:function(){},watch:{activeName:function(e){this.$router.push(e)}},methods:{toIndex:function(){location.href=_ROOT_URL},toSpace:function(e){app.toSpace(e)},toBranch:function(e){"TO_CREATE_BRANCH_EVENT"!=e?app.toBranch(e):this.toCreateBranch()},onTabClick:function(e,t){},toCreateBranch:function(){source.branchCreateForm.show()}},computed:{}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"toolbar"},[o("el-breadcrumb",{staticStyle:{padding:"10px 0px"},attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:""}}},[o("span",{on:{click:e.toIndex}},[e._v("首页")])]),e._v(" "),null!=e.source.data.PARENTS?[e._l(e.source.data.PARENTS,function(t){return[o("el-breadcrumb-item",{key:t.id,attrs:{to:{path:""}}},[null==t.levels||0==t.levels.length?[o("span",{on:{click:function(o){return e.toSpace(t)}}},[e._v(e._s(t.name))])]:[o("el-dropdown",{attrs:{size:"mini"},on:{command:e.toSpace}},[o("span",{staticClass:"el-dropdown-link",on:{click:function(o){return e.toSpace(t)}}},[e._v(e._s(t.name))]),e._v(" "),o("el-dropdown-menu",{staticClass:"toolbar-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(t.levels,function(t){return[o("el-dropdown-item",{key:t.id+"-level",attrs:{command:t}},[o("span",{},[e._v(e._s(t.name))])])]})],2)],1)]],2)]})]:e._e(),e._v(" "),null!=e.source.branch?[o("el-breadcrumb-item",{attrs:{to:{path:""}}},[o("el-dropdown",{attrs:{size:"mini"},on:{command:e.toBranch}},[o("span",{staticClass:"el-dropdown-link coos-pointer"},[e._v(e._s(e.source.branch))]),e._v(" "),o("el-dropdown-menu",{staticClass:"toolbar-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[null!=e.source.data.BRANCHS?e._l(e.source.data.BRANCHS,function(t){return o("el-dropdown-item",{key:t.id,attrs:{command:t.name}},[o("span",{staticClass:"coos-pointer"},[e._v(e._s(t.name))])])}):e._e(),e._v(" "),o("el-dropdown-item",{class:{"coos-disabled":!e.source.hasPermission("BRANCH_CREATE")},attrs:{command:"TO_CREATE_BRANCH_EVENT"}},[o("span",[e._v("新建版本")])])],2)],1)],1)]:e._e()],2),e._v(" "),o("el-tabs",{on:{"tab-click":e.onTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabs,function(t){return[o("el-tab-pane",{key:t.name,attrs:{name:t.name}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"coos-icon",class:t.icon}),e._v("\n          "+e._s(t.text)+"\n        ")])])]})],2)],1)},staticRenderFns:[]};var n=o("VU/8")(s,r,!1,function(e){o("gLH3")},null,null);t.a=n.exports},unbO:function(e,t){},"w8+u":function(e,t){},xJD8:function(e,t,o){"use strict";(function(e){var s=o("BIJG"),r=o("GU9F"),n=o("KaJi"),a=o("I3Yi"),i=o("uUOH"),c=o("TsJo"),l=o("zS0H"),u=o("G2al");t.a={name:"App",components:{Header:s.a,Toolbar:i.a,Login:r.a,Register:n.a,Install:a.a,Rpository:l.a,PreferenceForm:c.a,IndexIndex:u.a},data:function(){return{source:source}},methods:{handleOpen:function(){},handleClose:function(){},hasAction:function(e){return!!source.isManager||((source.actions||[]).forEach(function(t){if(t.url&&t.url.startsWith(e))return!0}),!1)}},mounted:function(){source.preferenceForm=this.$refs["preference-form"],e(".app").css("min-height",e(window).height()),e(window).resize(function(){e(".app").css("min-height",e(window).height())})}}}).call(t,o("7t+N"))},xdfH:function(e,t){},"yb/c":function(e,t){},"yd+Q":function(module,__webpack_exports__,__webpack_require__){"use strict";!function(){source.plugin=new Object,source.plugins=[],source.plugin.init=function(e){var t=new PluginObj(e);source.plugin[t.namespace]=t;var o=null;source.plugins.forEach(function(t){t.name==e.name&&(o=t)}),null==o?source.plugins.push(t):source.plugins.splice(source.plugins.indexOf(o),1,t)},source.plugin.onCreateEditory=function(e){source.plugins.forEach(function(t){if(t.customPlugin&&t.customPlugin.onCreateEditory)try{t.customPlugin.onCreateEditory(e)}catch(e){console.error(e)}})},source.plugin.onContextmenu=function(e,t){source.plugins.forEach(function(o){if(o.customPlugin&&o.customPlugin.onContextmenu)try{o.customPlugin.onContextmenu(e,t)}catch(e){console.error(e)}})};var PluginObj=function PluginObj(plugin){if(this.plugin=plugin,this.namespace=plugin.name,this.name=plugin.name,this.text=plugin.text,this.version=plugin.version,!coos.isEmpty(plugin.scriptClassName))try{var options={};this.customPlugin=eval("(new "+plugin.scriptClassName+"(options))")}catch(e){console.error(e)}};PluginObj.prototype.event=function(e,t,o){return source.server.event(this.name,this.version,e,t,o)}}();var _unused_webpack_default_export=source},zS0H:function(e,t,o){"use strict";var s=o("bzkO"),r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-project-box",class:{"to-rename":e.toRename}},[o("div",{staticClass:"repository-project-header"},[o("div",{staticClass:"repository-project-nav-group"},[o("a",{attrs:{title:"刷新"},on:{click:e.reloadRepository}},[o("i",{staticClass:"coos-icon",class:{" el-icon-loading ":e.repository.loading," coos-icon-reload ":!e.repository.loading},staticStyle:{"font-size":"16px"}})]),e._v(" "),o("a",{class:{"coos-disabled":!e.source.hasPermission("UPLOAD")},attrs:{title:"上传"},on:{click:function(t){return e.source.uploadRepository()}}},[o("i",{staticClass:"coos-icon coos-icon-cloud-upload"})]),e._v(" "),o("a",{class:{"coos-disabled":!e.source.hasPermission("DOWNLOAD")},attrs:{title:"下载"},on:{click:function(t){return e.source.downloadRepository()}}},[o("i",{staticClass:"coos-icon coos-icon-cloud-download"})]),e._v(" "),o("a",{staticClass:"repository-project-header-line"}),e._v(" "),e._l(e.repository.navs,function(t,s){return[o("a",{key:s,class:{"coos-disabled":t.disabled||!e.source.hasPermission(t.permission)},on:{click:function(e){return t.onClick()}}},[o("el-badge",{attrs:{value:t.value>0?t.value:"",title:t.title,"is-dot":t.dot,type:t.type}},[o("a",{staticClass:"coos-icon",class:t.icon,style:t.icon_style})])],1)]})],2),e._v(" "),o("div",{staticClass:"repository-project-nav-group"},[e.repository.fullscreen?e._e():o("a",{attrs:{title:"撑满屏幕"},on:{click:function(t){return e.source.fullScreen()}}},[o("i",{staticClass:"coos-icon coos-icon-fullscreen"})]),e._v(" "),e.repository.fullscreen?o("a",{staticClass:"active",attrs:{title:"还原屏幕"},on:{click:function(t){return e.source.fullScreenExit()}}},[o("i",{staticClass:"coos-icon coos-icon-fullscreen-exit"})]):e._e(),e._v(" "),o("a",{attrs:{title:"控制台，可查看启动项目日志"},on:{click:function(t){return e.source.openStarterBox()}}},[o("el-badge",{attrs:{"is-dot":e.repository.starters.length>1}},[o("a",{staticClass:"coos-icon coos-icon-terminal",class:e.repository.starter_show?"color-green":""})])],1)])]),e._v(" "),o("el-input",{attrs:{placeholder:"输入关键字进行过滤",size:"mini"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),o("div",{staticClass:"repository-project-tree-box"},[o("div",{staticClass:"repository-project-tree"},[o("el-tree",{ref:"tree",attrs:{draggable:e.source.hasPermission("FILE_MOVE"),data:e.repository.projects,props:e.defaultProps,"render-content":e.renderContent,"expand-on-click-node":!0,"node-key":"path","default-expanded-keys":e.repository.open_folders,"filter-node-method":e.filterNode,indent:16,"highlight-current":!0},on:{"node-click":e.nodeClick,"node-contextmenu":e.nodeContextmenu,"node-expand":e.nodeExpand,"node-collapse":e.nodeCollapse,"node-drop":e.nodeDrop}})],1)])],1)},staticRenderFns:[]};var n=function(e){o("5o2C")},a=o("VU/8")(s.a,r,!1,n,null,null).exports,i=o("k9gp"),c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-tab-box"},[o("div",{staticClass:"repository-file-tabs"},[o("el-tabs",{staticClass:"repository-tabs",attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab,"tab-click":e.clickTab},model:{value:e.repository.activeTab,callback:function(t){e.$set(e.repository,"activeTab",t)},expression:"repository.activeTab"}},e._l(e.repository.tabs,function(t){return o("el-tab-pane",{key:t.name,staticClass:"repository-tab-span",attrs:{name:t.name}},[o("span",{attrs:{slot:"label",title:t.title,path:t.path},slot:"label"},[e._v("\n          "+e._s(t.text)+"\n          "),o("i",{directives:[{name:"show",rawName:"v-show",value:t.changed,expression:"item.changed"}],staticClass:"tab-need-save-icon color-red",staticStyle:{"font-size":"16px","vertical-align":"-5px"}},[e._v("*")])]),e._v(" "),o("TabEditor",{attrs:{tab:t}})],1)}),1)],1)])},staticRenderFns:[]};var l=function(e){o("pZXS")},u=o("VU/8")(i.a,c,!1,l,null,null).exports,f={components:{},props:["repository"],data:function(){return{source:source}},beforeMount:function(){},watch:{"repository.starterActive":function(e){}},methods:{clickTab:function(){}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-starter-box",class:{show:e.repository.starter_show}},[o("div",{staticClass:"coos-row bdb-1 bdb-grey-2 mgb-0"},[e._m(0),e._v(" "),o("a",{staticClass:"coos-pointer color-grey",staticStyle:{position:"absolute",right:"10px",top:"10px"},on:{click:function(t){return e.source.closeStarterBox()}}},[o("i",{staticClass:"coos-icon coos-icon-close ft-25"})])]),e._v(" "),o("div",{staticClass:"repository-starter-tabs"},[o("el-tabs",{on:{"tab-click":e.clickTab},model:{value:e.repository.starterActive,callback:function(t){e.$set(e.repository,"starterActive",t)},expression:"repository.starterActive"}},e._l(e.repository.starters,function(t){return o("el-tab-pane",{key:t.token,attrs:{name:t.token}},[o("span",{attrs:{slot:"label",title:t.title},slot:"label"},[e._v(e._s(t.text))]),e._v(" "),o("div",{},[o("div",{staticClass:"coos-row text-right pdr-10 pdt-5 starter-btns"},[null!=t.option?["UPLOADING"==t.deploy_status||"DEPLOYING"==t.deploy_status?["UPLOADING"==t.deploy_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("启动资源上传中")])]:e._e(),e._v(" "),"DEPLOYING"==t.deploy_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("启动资源安装中")])]:e._e(),e._v(" "),"INSTALL_STARER"==t.install_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("安装启动器")])]:e._e(),e._v(" "),"INSTALL_STARER_ERROR"==t.install_status?[o("a",{staticClass:"color-red starter-status"},[e._v("安装启动器出错")])]:e._e(),e._v(" "),"INSTALL_SERVER"==t.install_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("安装服务")])]:e._e(),e._v(" "),"INSTALL_SERVER_ERROR"==t.install_status?[o("a",{staticClass:"color-red starter-status"},[e._v("安装服务出错")])]:e._e(),e._v(" "),"INSTALL_PROJECT_ING"==t.install_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("安装工程中")])]:e._e(),e._v(" "),"INSTALL_PROJECT_ED"==t.install_status?[o("a",{staticClass:"color-green starter-status"},[e._v("安装工程成功")])]:e._e(),e._v(" "),"INSTALL_PROJECT_ERROR"==t.install_status?[o("a",{staticClass:"color-red starter-status"},[e._v("安装出错")])]:e._e()]:e._e(),e._v(" "),"UPLOADED"==t.deploy_status||"DEPLOYED"==t.deploy_status?["INSTALL_PROJECT_ING"==t.install_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("安装工程中")])]:e._e(),e._v(" "),"INSTALL_PROJECT_ED"==t.install_status?[o("a",{staticClass:"color-green starter-status"},[e._v("安装工程成功")])]:e._e(),e._v(" "),"INSTALL_PROJECT_ERROR"==t.install_status?[o("a",{staticClass:"color-red starter-status"},[e._v("安装出错")])]:e._e(),e._v(" "),"WORK_UPLOADING"==t.install_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("启动资源上传中...")])]:e._e(),e._v(" "),"WORK_UPLOADED"==t.install_status?[o("a",{staticClass:"color-orange starter-status"},[e._v("启动资源上传成功")])]:e._e(),e._v(" "),"DESTROYING"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("销毁中")])]:e._e(),e._v(" "),"DESTROYED"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("已销毁")])]:e._e(),e._v(" "),"STARTING"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("启动中")])]:e._e(),e._v(" "),"STARTED"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("已启动")])]:e._e(),e._v(" "),"STOPPING"==t.status?[o("a",{staticClass:"color-red starter-status"},[e._v("停止中")])]:e._e(),e._v(" "),"STOPPED"==t.status||e.coos.isEmpty(t.status)?[o("a",{staticClass:"color-red starter-status"},[e._v("已停止")])]:e._e(),e._v(" "),"STOPPED"==t.status||e.coos.isEmpty(t.status)?[o("a",{staticClass:"coos-btn coos-btn-xs bg-green",class:{"coos-disabled":!e.source.hasPermission("STARTER_START")},on:{click:function(o){return e.source.startStarter(t)}}},[e._v("启动")])]:e._e(),e._v(" "),"STARTED"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-red",class:{"coos-disabled":"STARTED"!=t.status||!e.source.hasPermission("STARTER_STOP")},on:{click:function(o){return e.source.stopStarter(t)}}},[e._v("停止")])]:e._e(),e._v(" "),"STOPPED"==t.status||e.coos.isEmpty(t.status)?[o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",class:{"coos-disabled":!e.source.hasPermission("STARTER_START")},on:{click:function(o){return e.source.deployStarter(t)}}},[e._v("重新部署")])]:e._e()]:e._e(),e._v(" "),"STOPPED"==t.status||e.coos.isEmpty(t.status)?[o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",class:{"coos-disabled":!e.source.hasPermission("STARTER_REMOVE")},on:{click:function(o){return e.source.removeStarter(t)}}},[e._v("移除")])]:e._e()]:e._e(),e._v(" "),o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",class:{"coos-disabled":!e.source.hasPermission("STARTER_LOG_CLEAN")},on:{click:function(o){return e.source.cleanStarterLog(t)}}},[e._v("清理日志")]),e._v(" "),o("a",{staticClass:"coos-btn coos-btn-xs bg-blue",on:{click:function(o){return e.source.reloadStarterLog(t)}}},[e._v("重新加载日志")])],2),e._v(" "),o("div",{staticClass:"repository-starter-log-box coos-scrollbar"},e._l(t.logs,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"log.show"}],key:t.id,class:{"color-red":"ERROR"==t.level,"color-orange":"WARN"==t.level}},[o("span",{staticClass:"pdr-10 color-grey"},[e._v(e._s(t.index+1))]),e._v("\n              "+e._s(t.line)+"\n            ")])}),0)])])}),1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ft-20 pd-10 color-green"},[this._v("\n      控制台\n      "),t("small",{staticClass:"ft-12 color-grey"},[this._v("用于在本机部署、运行、停止项目，可以查看当前库日志和项目启动控制台日志")])])}]};var m=o("VU/8")(f,d,!1,function(e){o("ewLK")},null,null).exports,p=o("6pu+"),h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contextmenu-box",class:{show:e.contextmenu.show,showbottom:e.showbottom},style:{top:e.contextmenu.top,left:e.contextmenu.left,"z-index":e.contextmenu.zIndex}},[null!=e.contextmenu.menus?[o("ContextmenuMenus",{attrs:{menus:e.contextmenu.menus,contextmenu:e.contextmenu}})]:e._e()],2)},staticRenderFns:[]};var v=function(e){o("+X4o")},_=o("VU/8")(p.a,h,!1,v,"data-v-576b7f8f",null).exports,g=o("//Fk"),b=o.n(g),E={components:{},data:function(){return{title:"Git登录凭证",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{username:"",password:""},form_rules:{}}},methods:{show:function(){var e=source.repository.git.certificate||{};return this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];return new b.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var C=o("VU/8")(E,y,!1,function(e){o("uEeu")},"data-v-09c3a1d5",null).exports,w={components:{},data:function(){return{title:"Git远程仓库设置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{gitRemoteName:"",url:"",gitRemoteBranch:""},form_rules:{gitRemoteName:[{required:!0,message:"请输入远程名称",trigger:"blur"}],url:[{required:!0,message:"请输入远程地址",trigger:"blur"}],gitRemoteBranch:[{required:!0,message:"请输入远程分支",trigger:"blur"}]}}},methods:{show:function(){var e=source.repository.git.option||{};this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];return coos.isEmpty(this.form.gitRemoteName)&&(this.form.gitRemoteName="origin"),coos.isEmpty(this.form.gitRemoteBranch)&&(this.form.gitRemoteBranch="master"),new b.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var s=!0,r=!0;if(source.repository.git&&source.repository.git.option){var n=source.repository.git.option;n.gitRemoteBranch==o.gitRemoteBranch&&n.gitRemoteName==o.gitRemoteName&&n.url==o.url&&(s=!1),r=!1}if(o.needclean=!0,s){var a="";a=r?"设置远程仓库["+o.gitRemoteName+"]下["+o.gitRemoteBranch+"]版本，设置后将清空仓库文件，是否设置？":"切换至远程仓库["+o.gitRemoteName+"]下["+o.gitRemoteBranch+"]版本，切换操作将清空仓库文件，是否切换？",source.gitCertificateForm.show().then(function(t){o.certificate=t,coos.confirm(a).then(function(t){source.do("GIT_REMOTE_ADD",o).then(function(e){0==e.errcode?source.loadGitWorkStatus():coos.error(e.errmsg)}),e.resolve&&e.resolve(o)},function(){})})}})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},x={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"设置远程名称",prop:"gitRemoteName"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.gitRemoteName,callback:function(t){e.$set(e.form,"gitRemoteName",t)},expression:"form.gitRemoteName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"仓库地址",prop:"url"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"检出远程分支",prop:"gitRemoteBranch"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.gitRemoteBranch,callback:function(t){e.$set(e.form,"gitRemoteBranch",t)},expression:"form.gitRemoteBranch"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var S=o("VU/8")(w,x,!1,function(e){o("5XyP")},"data-v-78ca587c",null).exports,R={components:{},data:function(){return{title:"Git Add（暂存文件）",labelWidth:"120px",size:"mini",source:source,show_form:!1,staged:[],staged_checked:[],not_staged:[],not_staged_checked:[],form:{},form_rules:{}}},methods:{show:function(){var e=this;this.change_files=[],source.repository.change_files.forEach(function(t){e.change_files.push({path:t.key,value:t.path,text:t.label,status:t.status})}),this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];this.form;return this.refresh(),new b.a(function(e,o){t.resolve=e,t.reject=o})},stagedAll:function(){var e=this;this.not_staged.forEach(function(t){e.staged.push(t)}),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked)},stagedChecked:function(){var e=this;this.not_staged_checked.forEach(function(t){e.not_staged.forEach(function(o){o.path==t&&(e.staged.push(o),e.not_staged.splice(e.not_staged.indexOf(o),1))})}),coos.trimList(this.not_staged_checked)},cancelAll:function(){var e=this;this.staged.forEach(function(t){e.not_staged.push(t)}),coos.trimList(this.staged),coos.trimList(this.staged_checked)},cancelChecked:function(){var e=this;this.staged_checked.forEach(function(t){e.staged.forEach(function(o){o.path==t&&(e.not_staged.push(o),e.staged.splice(e.staged.indexOf(o),1))})}),coos.trimList(this.staged_checked)},refresh:function(){var e=this;coos.trimList(this.staged),coos.trimList(this.staged_checked),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked);var t=[];source.repository.git.status&&(t=source.repository.git.status.added||[]),t.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（新增）"})});var o=[];source.repository.git.status&&(o=source.repository.git.status.changed||[]),o.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（更改）"})});var s=[];source.repository.git.status&&(s=source.repository.git.status.removed||[]),s.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（移除）"})}),this.change_files.forEach(function(t){e.staged.indexOf(t)<0&&e.not_staged.push(t)})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var s=[];e.staged.forEach(function(e){s.push(e)}),o.paths=s,source.do("GIT_INDEX_ADD",o).then(function(e){0==e.errcode?(coos.success("提交成功，您可以推送到Git远程仓库！"),source.loadGitStatus()):coos.error(e.errmsg)}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},T={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px","append-to-body":"",zIndex:"100"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"未暂存文件",prop:"not_staged"}},[o("div",{staticClass:"coos-row text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.stagedAll()}}},[e._v("暂存所有")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.stagedChecked()}}},[e._v("暂存选定")])]),e._v(" "),o("div",{staticClass:"mgt-10 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.not_staged.length,expression:"not_staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.not_staged_checked,callback:function(t){e.not_staged_checked=t},expression:"not_staged_checked"}},e._l(e.not_staged,function(t){return o("el-checkbox",{key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",{attrs:{label:"已暂存文件",prop:"staged"}},[o("div",{staticClass:"coos-row text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.cancelAll()}}},[e._v("取消所有暂存")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.cancelChecked()}}},[e._v("取消选定暂存")])]),e._v(" "),o("div",{staticClass:"mgt-10 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.staged.length,expression:"staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.staged_checked,callback:function(t){e.staged_checked=t},expression:"staged_checked"}},e._l(e.staged,function(t){return o("el-checkbox",{key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var k=o("VU/8")(R,T,!1,function(e){o("6bOp")},"data-v-6253a6f8",null).exports,P={components:{},data:function(){return{title:"Git Push (推送)",labelWidth:"120px",not_push_message:"暂无",size:"mini",source:source,show_form:!1,staged:[],staged_checked:[],not_staged:[],not_staged_checked:[],search_not_staged:"",search_staged:"",form:{gitRemoteName:"",gitRemoteBranch:"",branchName:"",message:"",paths:[],remoteList:[],branchList:[]},form_rules:{gitRemoteName:[{required:!0,message:"请选择远程名称",trigger:"blur"}],branchName:[{required:!0,message:"请选择本地分支",trigger:"blur"}],gitRemoteBranch:[{required:!0,message:"请选择远程分支",trigger:"blur"}],paths_:[{required:!0,message:"请选择需要提交的文件",trigger:"blur"}],message:[{required:!0,message:"请输入备注信息",trigger:"blur"}]}}},methods:{show:function(){var e=this;this.change_files=[],source.repository.change_files.forEach(function(t){e.change_files.push({path:t.key,value:t.path,text:t.label,status:t.status})}),this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];var s=this.form,r=source.repository.git;if(r){r.reflogs&&r.reflogs.length;var n=r.remoteList||[],a=r.branchList||[];coos.trimList(s.remoteList),n.forEach(function(e){s.remoteList.push(e)}),coos.trimList(s.branchList),a.forEach(function(e){s.branchList.push(e)}),n.forEach(function(e){r.option&&r.option.gitRemoteName==e.name&&(s.gitRemoteName=e.name,a.forEach(function(t){if(source.isRemoteBranchName(e.name,t)){var o=source.formatRemoteBranchName(e.name,t);r.option&&r.option.gitRemoteBranch==o&&(s.gitRemoteBranch=o)}}))}),a.forEach(function(e){var t=source.formatHeadBranchName(e);t==source.branch&&(s.branchName=t)})}return this.refresh(),new b.a(function(e,o){t.resolve=e,t.reject=o})},stagedAll:function(){var e=this;coos.confirm("此操作将暂存所有未提交的文件，确定暂存所有文件？").then(function(t){e.not_staged.forEach(function(t){e.staged.push(t)}),coos.trimList(e.not_staged),coos.trimList(e.not_staged_checked)})},stagedChecked:function(){var e=this;this.not_staged_checked.forEach(function(t){e.not_staged.forEach(function(o){o.path==t&&(e.staged.push(o),e.not_staged.splice(e.not_staged.indexOf(o),1))})}),coos.trimList(this.not_staged_checked)},cancelAll:function(){var e=this;coos.confirm("确定取消所有文件的暂存？").then(function(t){e.staged.forEach(function(t){e.not_staged.push(t)}),coos.trimList(e.staged),coos.trimList(e.staged_checked)})},cancelChecked:function(){var e=this;this.staged_checked.forEach(function(t){e.staged.forEach(function(o){o.path==t&&(e.not_staged.push(o),e.staged.splice(e.staged.indexOf(o),1))})}),coos.trimList(this.staged_checked)},refresh:function(){var e=this;coos.trimList(this.staged),coos.trimList(this.staged_checked),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked);var t=[];source.repository.git.status&&(t=source.repository.git.status.added||[]),t.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（新增）"})});var o=[];source.repository.git.status&&(o=source.repository.git.status.changed||[]),o.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（更改）"})});var s=[];source.repository.git.status&&(s=source.repository.git.status.removed||[]),s.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（移除）"})}),this.change_files.forEach(function(t){e.staged.indexOf(t)<0&&e.not_staged.push(t)})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var s=[];e.staged.forEach(function(e){s.push(e)}),o.paths=s,source.gitCertificateForm.show().then(function(e){o.certificate=e,source.do("GIT_PUSH",o).then(function(e){0==e.errcode?source.loadGitWorkStatus():coos.error(e.errmsg)})}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},I={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px",top:"50px","append-to-body":"",zIndex:"100"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"本地分支",prop:"branchName"}},e._l(e.form.branchList,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:e.source.isHeadBranchName(t),expression:"source.isHeadBranchName(branch)"}],key:t.name,attrs:{label:e.source.formatHeadBranchName(t)},model:{value:e.form.branchName,callback:function(t){e.$set(e.form,"branchName",t)},expression:"form.branchName"}},[e._v(e._s(e.source.formatHeadBranchName(t)))])}),1),e._v(" "),o("el-form-item",{attrs:{label:"远程仓库",prop:"gitRemote"}},e._l(e.form.remoteList,function(t){return o("el-radio",{key:t.name,attrs:{label:t.name,value:t.name},model:{value:e.form.gitRemoteName,callback:function(t){e.$set(e.form,"gitRemoteName",t)},expression:"form.gitRemoteName"}})}),1),e._v(" "),o("el-form-item",{attrs:{label:"远程分支",prop:"remoteBranchName"}},e._l(e.form.branchList,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:e.source.isRemoteBranchName(e.form.gitRemoteName,t),expression:"source.isRemoteBranchName(form.gitRemoteName, branch)"}],key:t.name,attrs:{label:e.source.formatRemoteBranchName(e.form.gitRemoteName,t)},model:{value:e.form.gitRemoteBranch,callback:function(t){e.$set(e.form,"gitRemoteBranch",t)},expression:"form.gitRemoteBranch"}},[e._v(e._s(e.source.formatRemoteBranchName(e.form.gitRemoteName,t)))])}),1),e._v(" "),o("el-form-item",{attrs:{label:"未暂存文件",prop:"not_staged"}},[o("div",{staticClass:"coos-row col-8"},[o("el-input",{attrs:{type:"input",placeholder:"输入搜索",autocomplete:"off"},model:{value:e.search_not_staged,callback:function(t){e.search_not_staged=t},expression:"search_not_staged"}})],1),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.stagedAll()}}},[e._v("暂存所有")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.stagedChecked()}}},[e._v("暂存选定")])]),e._v(" "),o("div",{staticClass:"col-12 mgt-5 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.not_staged.length,expression:"not_staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.not_staged_checked,callback:function(t){e.not_staged_checked=t},expression:"not_staged_checked"}},e._l(e.not_staged,function(t){return o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.coos.isEmpty(e.search_not_staged)||t.path.toLowerCase().indexOf(e.search_not_staged.toLowerCase())>=0,expression:"coos.isEmpty(search_not_staged) || one.path.toLowerCase().indexOf(search_not_staged.toLowerCase()) >= 0"}],key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",{attrs:{label:"已暂存文件",prop:"staged"}},[o("div",{staticClass:"coos-row col-8"},[o("el-input",{attrs:{type:"input",placeholder:"输入搜索",autocomplete:"off"},model:{value:e.search_staged,callback:function(t){e.search_staged=t},expression:"search_staged"}})],1),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.cancelAll()}}},[e._v("取消所有暂存")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.cancelChecked()}}},[e._v("取消选定暂存")])]),e._v(" "),o("div",{staticClass:"col-12 mgt-5 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.staged.length,expression:"staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.staged_checked,callback:function(t){e.staged_checked=t},expression:"staged_checked"}},e._l(e.staged,function(t){return o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.coos.isEmpty(e.search_staged)||t.path.toLowerCase().indexOf(e.search_staged.toLowerCase())>=0,expression:"coos.isEmpty(search_staged) || one.path.toLowerCase().indexOf(search_staged.toLowerCase()) >= 0"}],key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",{attrs:{label:"未推送成功"}},[e._v(e._s(e.not_push_message))]),e._v(" "),o("el-form-item",{attrs:{label:"备注",prop:"message"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var O=o("VU/8")(P,I,!1,function(e){o("yb/c")},"data-v-2973deae",null).exports,N={components:{},data:function(){return{title:"Git Revert（还原文件）",labelWidth:"120px",size:"mini",source:source,show_form:!1,not_staged:[],not_staged_checked:[],form:{},form_rules:{},search_not_staged:""}},methods:{show:function(){var e=this;this.change_files=[],source.repository.change_files.forEach(function(t){e.change_files.push({path:t.key,value:t.path,text:t.label,status:t.status})}),this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];this.form;return this.refresh(),new b.a(function(e,o){t.resolve=e,t.reject=o})},refresh:function(){var e=this;coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked),this.change_files.forEach(function(t){e.not_staged.indexOf(t)<0&&e.not_staged.push(t)})},hideForm:function(){this.show_form=!1},checkAll:function(){var e=this;this.not_staged.forEach(function(t){e.not_staged_checked.indexOf(t.path)<0&&e.not_staged_checked.push(t.path)})},uncheckAll:function(){coos.trimList(this.not_staged_checked)},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var s=[],r=[];e.not_staged_checked.forEach(function(t){var o=!1;e.change_files.forEach(function(e){"untracked"==e.status&&e.path==t&&(o=!0)}),o?r.push(t):s.push(t)}),o.paths=s,o.deletes=r,(s.length>0||r.length>0)&&source.gitRevert(s,r),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},A={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px","append-to-body":"",zIndex:"100"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"选择",prop:"not_staged"}},[o("div",{staticClass:"coos-row col-8"},[o("el-input",{attrs:{type:"input",placeholder:"输入搜索",autocomplete:"off"},model:{value:e.search_not_staged,callback:function(t){e.search_not_staged=t},expression:"search_not_staged"}})],1),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.checkAll()}}},[e._v("全选")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.uncheckAll()}}},[e._v("取消选中")])]),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"}),e._v(" "),o("div",{staticClass:"col-12 mgt-5 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.not_staged.length,expression:"not_staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.not_staged_checked,callback:function(t){e.not_staged_checked=t},expression:"not_staged_checked"}},e._l(e.not_staged,function(t){return o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.coos.isEmpty(e.search_not_staged)||t.path.toLowerCase().indexOf(e.search_not_staged.toLowerCase())>=0,expression:"coos.isEmpty(search_not_staged) || one.path.toLowerCase().indexOf(search_not_staged.toLowerCase()) >= 0"}],key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var L=o("VU/8")(N,A,!1,function(e){o("JOhC")},"data-v-bfe6de98",null).exports,F={components:{},data:function(){return{title:"运行配置",labelWidth:"120px",size:"mini",source:source,show_form:!1,is_update:!1,form:{name:"",language:"",remoteid:"",mode:"",jar:"",main:"",environmentid:"",mavenenvp:"",javaenvp:"",javaenvironmentid:"",mavenenvironmentid:"",internaltomcat:"tomcat-8.0.53",port:8080,contextpath:"/",nodeenvironmentid:"",nodecommand:"",compilecommand:"",startcommand:"",stopcommand:"",pidfile:""},form_rules:{nodecommand:[{required:!0,message:"请输入启动命令",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],contextpath:[{required:!0,message:"请输入访问路径",trigger:"blur"}],language:[{required:!0,message:"请选择语言",trigger:"blur"}],mode:[{required:!0,message:"请选择运行模式",trigger:"blur"}],main:[{required:!0,message:"请输入MainClass",trigger:"blur"}],environmentid:[{required:!0,message:"请选择容器环境",trigger:"blur"}],internaltomcat:[{required:!0,message:"请选择内置Tomcat",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur",validator:function(e,t,o){t||o(new Error("请输入端口号")),"number"!=typeof(t=Number(t))||isNaN(t)?o(new Error("端口号必须为数字")):t<1||t>5e4?o(new Error("端口号在 1 至 50000 之间")):o()}}]}}},methods:{show:function(e,t){this.showForm(e,t)},showForm:function(e,t){var o=this;for(var s in this.path=e,t=t||{},this.show_form=!0,this.form)coos.isArray(this.form[s])?this.form[s]=[]:this.form[s]="";for(var s in t)this.form[s]=t[s];return coos.isEmpty(t.name)?this.is_update=!1:this.is_update=!0,new b.a(function(e,t){o.resolve=e,o.reject=t})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form,s={path:e.path,option:o};e.hideForm(),source.do("SET_STARTER_OPTION",s).then(function(e){source.load("STARTER_OPTIONS")}),e.resolve&&e.resolve(s)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",[o("small",{staticClass:"pdb-10 color-red",staticStyle:{"line-height":"14px"}},[e._v("\n          环境变量：\n          "),o("div",[e._v("$SOURCE_PATH：为代码源文件目录")]),e._v(" "),o("div",[e._v("$STARTER_LOG_PATH：为进程启动日志路径")]),e._v(" "),o("div",[e._v("$STARTER_PID_PATH：为进程启动PID路径")])])]),e._v(" "),o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",readonly:!!e.is_update&&"readonly",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"远程服务器"}},[o("el-radio",{attrs:{label:""},model:{value:e.form.remoteid,callback:function(t){e.$set(e.form,"remoteid",t)},expression:"form.remoteid"}},[e._v("本地运行")]),e._v(" "),e._l(e.source.data.REMOTES,function(t){return o("el-radio",{key:t.id,attrs:{label:t.id},model:{value:e.form.remoteid,callback:function(t){e.$set(e.form,"remoteid",t)},expression:"form.remoteid"}},[e._v(e._s(t.name))])})],2),e._v(" "),o("el-form-item",{attrs:{label:"语言",prop:"language"}},[o("el-radio",{attrs:{label:"JAVA"},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}},[e._v("Java")]),e._v(" "),o("el-radio",{attrs:{label:"OTHER"},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}},[e._v("其它")])],1),e._v(" "),"JAVA"==e.form.language?[o("el-form-item",{attrs:{label:"Java环境"}},[o("el-radio",{attrs:{label:""},model:{value:e.form.javaenvironmentid,callback:function(t){e.$set(e.form,"javaenvironmentid",t)},expression:"form.javaenvironmentid"}},[e._v("读取系统")]),e._v(" "),e._l(e.source.data.ENVIRONMENTS,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"JAVA"==t.type,expression:"one.type == 'JAVA'"}],key:t.id,attrs:{label:t.id},model:{value:e.form.javaenvironmentid,callback:function(t){e.$set(e.form,"javaenvironmentid",t)},expression:"form.javaenvironmentid"}},[e._v(e._s(t.name)+"("+e._s(t.version)+")")])})],2),e._v(" "),o("el-form-item",{attrs:{label:"Maven环境"}},[o("el-radio",{attrs:{label:""},model:{value:e.form.mavenenvironmentid,callback:function(t){e.$set(e.form,"mavenenvironmentid",t)},expression:"form.mavenenvironmentid"}},[e._v("读取系统")]),e._v(" "),e._l(e.source.data.ENVIRONMENTS,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"MAVEN"==t.type,expression:"one.type == 'MAVEN'"}],key:t.id,attrs:{label:t.id},model:{value:e.form.mavenenvironmentid,callback:function(t){e.$set(e.form,"mavenenvironmentid",t)},expression:"form.mavenenvironmentid"}},[e._v(e._s(t.name)+"("+e._s(t.version)+")")])})],2),e._v(" "),o("el-form-item",{attrs:{label:"Maven运行变量"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.mavenenvp,callback:function(t){e.$set(e.form,"mavenenvp",t)},expression:"form.mavenenvp"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Java运行变量"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.javaenvp,callback:function(t){e.$set(e.form,"javaenvp",t)},expression:"form.javaenvp"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"运行模式",prop:"JAVA"==e.form.language?"mode":""}},[o("el-radio",{attrs:{label:"MAIN"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("Main")]),e._v(" "),o("el-radio",{attrs:{label:"TOMCAT"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("Tomcat")]),e._v(" "),o("el-radio",{attrs:{label:"JAR"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("Jar")]),e._v(" "),o("el-radio",{attrs:{label:"WAR"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("War")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"MAIN"==e.form.mode,expression:"form.mode == 'MAIN'"}],attrs:{label:"Main Class",prop:"MAIN"==e.form.mode?"main":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.main,callback:function(t){e.$set(e.form,"main",t)},expression:"form.main"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"JAR"==e.form.mode,expression:"form.mode == 'JAR'"}],attrs:{label:"Jar",prop:"JAR"==e.form.mode?"jar":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.jar,callback:function(t){e.$set(e.form,"jar",t)},expression:"form.jar"}})],1),e._v(" "),"TOMCAT"==e.form.mode||"WAR"==e.form.mode?[o("el-form-item",{attrs:{prop:"TOMCAT"==e.form.mode||"WAR"==e.form.mode?"internaltomcat":"",label:"内置Tomcat"}},[o("el-radio",{attrs:{label:"tomcat-7.0.94"},model:{value:e.form.internaltomcat,callback:function(t){e.$set(e.form,"internaltomcat",t)},expression:"form.internaltomcat"}},[e._v("tomcat-7.0.94")]),e._v(" "),o("el-radio",{attrs:{label:"tomcat-8.0.53"},model:{value:e.form.internaltomcat,callback:function(t){e.$set(e.form,"internaltomcat",t)},expression:"form.internaltomcat"}},[e._v("tomcat-8.0.53")]),e._v(" "),o("el-radio",{attrs:{label:"tomcat-8.5.41"},model:{value:e.form.internaltomcat,callback:function(t){e.$set(e.form,"internaltomcat",t)},expression:"form.internaltomcat"}},[e._v("tomcat-8.5.41")])],1),e._v(" "),o("el-form-item",{attrs:{prop:"TOMCAT"==e.form.mode||"WAR"==e.form.mode?"port":"",label:"请输入端口"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",t)},expression:"form.port"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"访问路径",prop:"TOMCAT"==e.form.mode||"WAR"==e.form.mode?"contextpath":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.contextpath,callback:function(t){e.$set(e.form,"contextpath",t)},expression:"form.contextpath"}})],1)]:e._e()]:e._e(),e._v(" "),"OTHER"==e.form.language?[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"编译命令",prop:"OTHER"==e.form.language?"compilecommand":""}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.compilecommand,callback:function(t){e.$set(e.form,"compilecommand",t)},expression:"form.compilecommand"}}),e._v(" "),o("div",[e._v("示例：go install，npm install")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"启动命令",prop:"OTHER"==e.form.language?"startcommand":""}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.startcommand,callback:function(t){e.$set(e.form,"startcommand",t)},expression:"form.startcommand"}}),e._v(" "),o("div",[e._v("示例：go run xxx.go，npm run dev")]),e._v(" "),o("div",[e._v("linux使用进程ID示例：")]),e._v(" "),o("div",{staticClass:"ft-12 color-red"},[e._v("nohup 启动命令 >> $STARTER_LOG_PATH 2>&1 &")]),e._v(" "),o("div",{staticClass:"ft-12 color-red"},[e._v("echo $! > $STARTER_PID_PATH")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"停止命令",prop:"OTHER"==e.form.language?"stopcommand":""}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.stopcommand,callback:function(t){e.$set(e.form,"stopcommand",t)},expression:"form.stopcommand"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"PID文件",prop:"OTHER"==e.form.language?"pidfile":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.pidfile,callback:function(t){e.$set(e.form,"pidfile",t)},expression:"form.pidfile"}})],1)]:e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],2)],1)],1)},staticRenderFns:[]};var U=o("VU/8")(F,$,!1,function(e){o("PE4+")},"data-v-5de2ecd0",null).exports,D={components:{},data:function(){return{title:"新建版本",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{branch:"",frombranch:""},form_rules:{branch:[{required:!0,message:"请输入版本名称",trigger:"blur"}],frombranch:[{required:!0,message:"请填写拷贝版本",trigger:"blur"}]}}},methods:{show:function(){this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in this.form.frombranch="master",e)this.form[o]=e[o];return new b.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),source.do("BRANCH_CREATE",o).then(function(e){0==e.errcode?(coos.success("版本创建成功！"),app.toBranch(o.branch)):coos.error(e.errmsg)}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},M={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",{attrs:{label:"版本名称",prop:"branch"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.branch,callback:function(t){e.$set(e.form,"branch",t)},expression:"form.branch"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"拷贝版本",prop:"frombranch"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.frombranch,callback:function(t){e.$set(e.form,"frombranch",t)},expression:"form.frombranch"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var G=o("VU/8")(D,M,!1,function(e){o("4u5q")},"data-v-9468ef1a",null).exports,z={components:{},data:function(){return{title:"导入表",labelWidth:"120px",size:"mini",source:source,show_form:!1,databasename:"",loading:!1,tables:[],app:null,form:{name:""},form_rules:{}}},methods:{show:function(e,t,o){return this.showForm(e,t,o)},showForm:function(e,t,o){var s=this;return t=t||{},this.project=o,this.app=e,this.databasename=t.databasename,this.parent=t.parent,this.loading=!0,this.show_form=!0,this.loadTables(),new b.a(function(e,t){s.resolve=e,s.reject=t})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form,s={path:e.path,option:o};e.hideForm(),e.resolve&&e.resolve(s)})},formCancel:function(){this.hideForm()},doImport:function(e){var t=this;e.find=!0,source.plugin.app.event("toText",{type:"table",model:e,filename:e.name},this.project).then(function(o){var s={parentPath:t.parent.path,path:t.parent+"/"+e.name,name:e.name,toRename:!1,file:!0};source.formatFile(s,t.parent),t.parent.files.push(s);var r={parentPath:s.parentPath,name:s.name,isFile:s.isFile,isDirectory:s.isDirectory,content:o};source.do("FILE_CREATE",r,t.project).then(function(e){0==e.errcode?s.parent&&source.sortFolderFiles(s.parent):coos.error(e.errmsg)})}),window.event&&window.event.stopPropagation()},loadTables:function(){var e=this,t={type:"LOAD_DATABASE_TABLES"};t.path=this.app.localpath,t.name=this.databasename,this.loading=!0,coos.trimArray(this.tables),source.plugin.app.event("doTest",t,this.project).then(function(t){(t.value||[]).forEach(function(t){t.find=!1,e.app.context.TABLE&&e.app.context.TABLE.forEach(function(e){e.name==t.name&&(t.find=!0)}),e.tables.push(t)}),e.loading=!1})}},mounted:function(){},beforeCreate:function(){}},j={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[e.loading?o("div",[o("div",{staticClass:"color-orange ft-20 text-center pdtb-20"},[e._v("表信息加载中...")])]):e._e(),e._v(" "),e.loading?e._e():o("el-collapse",{staticClass:"table-collapse",attrs:{accordion:""}},e._l(e.tables,function(t){return o("el-collapse-item",{key:t.name},[o("div",{staticClass:"ft-13",staticStyle:{width:"100%"},attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(t.name)+"\n            "),null!=t.comment&&""!=t.comment?o("span",{staticClass:"pdl-30"},[e._v("["+e._s(t.comment)+"]")]):e._e(),e._v(" "),t.find?e._e():o("a",{staticClass:"coos-btn coos-link coos-btn-xs color-green float-right mgt-7 mgr-10",on:{click:function(o){return e.doImport(t)}}},[e._v("导入")]),e._v(" "),t.find?o("span",{staticClass:"color-green float-right mgr-10"},[e._v("已存在")]):e._e(),e._v(" "),t.find?e._e():o("span",{staticClass:"color-orange float-right mgr-10"},[e._v("不存在")])]),e._v(" "),o("div",{staticClass:"bd-1 pd-10 bd-grey-2"},[o("div",{staticClass:"ft-14"},[e._v("字段信息")]),e._v(" "),e._l(t.columns,function(t){return o("div",{key:t.name,staticClass:"ft-12"},[o("span",{staticClass:"pdr-10"},[e._v(e._s(t.name))]),e._v(" "),o("span",{staticClass:"pdr-10"},[e._v(e._s(t.comment))]),e._v(" "),t.primarykey?o("span",{staticClass:"pdr-10 color-green"},[e._v("主键")]):e._e(),e._v(" "),t.primarykey?e._e():o("span",{staticClass:"pdr-10 color-orange"},[e._v("非主键")]),e._v(" "),t.nullable?o("span",{staticClass:"pdr-10 color-green"},[e._v("可空")]):e._e(),e._v(" "),t.nullable?e._e():o("span",{staticClass:"pdr-10 color-orange"},[e._v("不可空")])])})],2)])}),1)],1)],1)],1)},staticRenderFns:[]};var V=o("VU/8")(z,j,!1,function(e){o("6nY4")},null,null).exports,B={components:{},data:function(){return{title:"上传",labelWidth:"120px",size:"mini",source:source,show_form:!1,is_update:!1,form:{parent:"",repeat:"COVER"},form_rules:{}}},methods:{show:function(e){this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];coos.isEmpty(this.form.repeat)&&(this.form.repeat="IGNORE");var s=this.form;return this.$nextTick(function(e){var o=window.jQuery(t.$el).find(".dropzone-box");o.empty(),o.append('<div class="dropzone"><div class="am-text-success dz-message">将文件拖拽到此处<br />或点此打开文件管理器选择文件</div></div>');var r="/api/upload/"+source.token+"?",n=_SERVER_URL+r;o.find(".dropzone").dropzone({url:n,addRemoveLinks:!0,method:"post",filesizeBase:1024,sending:function(e,t,o){o.append("fullPath",e.fullPath),o.append("filesize",e.size),o.append("repeat",s.repeat),o.append("parent",s.parent)},success:function(e,t,o){}})}),new b.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form,s={path:e.path,option:o};e.hideForm(),e.resolve&&e.resolve(s)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},W={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"},nativeOn:{submit:function(e){e.preventDefault()}}},[o("el-form-item",{attrs:{label:"传入到目录",prop:"parent"}},[o("el-input",{model:{value:e.form.parent,callback:function(t){e.$set(e.form,"parent",t)},expression:"form.parent"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"重复文件",prop:"repeat"}},[o("el-radio",{attrs:{label:"IGNORE"},model:{value:e.form.repeat,callback:function(t){e.$set(e.form,"repeat",t)},expression:"form.repeat"}},[e._v("忽略")]),e._v(" "),o("el-radio",{attrs:{label:"COVER"},model:{value:e.form.repeat,callback:function(t){e.$set(e.form,"repeat",t)},expression:"form.repeat"}},[e._v("覆盖")])],1),e._v(" "),o("el-form-item",{attrs:{label:"上传文件"}},[o("div",{staticClass:"dropzone-box"})]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var H={props:["repository"],components:{Project:a,Tabs:u,Starter:m,Contextmenu:_,GitCertificate:C,GitRemote:S,GitPlus:k,GitPush:O,GitRevert:L,StarterForm:U,BranchCreate:G,UploadForm:o("VU/8")(B,W,!1,function(e){o("V43N")},null,null).exports,TableImport:V},data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{},mounted:function(){source.gitRemoteForm=this.$refs["git-remote"],source.gitCertificateForm=this.$refs["git-certificate"],source.gitPlusForm=this.$refs["git-plus"],source.gitPushForm=this.$refs["git-push"],source.gitRevertForm=this.$refs["git-revert"],source.starterForm=this.$refs["starter-form"],source.branchCreateForm=this.$refs["branch-create"],source.tableImportForm=this.$refs["table-import"],source.uploadForm=this.$refs["upload-form"],this.repository.contextmenu.callShow=this.$refs["context-menu"].callShow}},q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-repository",class:{show:"/"==e.$route.path,"repository-fullscreen":e.repository.fullscreen}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.repository.loading,expression:"repository.loading"}],staticClass:"repository-box",attrs:{"element-loading-text":e.repository.loading_msg}},[o("div",{staticClass:"repository-top"}),e._v(" "),o("div",{staticClass:"repository-left"},[o("Project",{attrs:{repository:e.repository}})],1),e._v(" "),o("div",{staticClass:"repository-center",class:{show:"/"==e.$route.path,"repository-center-fullscreen":e.repository.fullscreencenter}},[o("div",{staticClass:"repository-screen-control-toolbar"},[e.repository.fullscreencenter?e._e():o("a",{staticClass:"repository-screen-control coos-icon coos-icon-fullscreen",attrs:{title:"撑满屏幕"},on:{click:function(t){return e.source.fullScreenCenter()}}}),e._v(" "),e.repository.fullscreencenter?o("a",{staticClass:"repository-screen-control repository-screen-control-active coos-icon coos-icon-fullscreen-exit",attrs:{title:"还原屏幕"},on:{click:function(t){return e.source.fullScreenExitCenter()}}}):e._e()]),e._v(" "),o("Tabs",{attrs:{repository:e.repository}})],1),e._v(" "),o("div",{staticClass:"repository-contextmenu"},[o("Contextmenu",{ref:"context-menu",attrs:{contextmenu:e.repository.contextmenu}})],1),e._v(" "),o("Starter",{attrs:{repository:e.repository}}),e._v(" "),o("GitCertificate",{ref:"git-certificate"}),e._v(" "),o("GitRemote",{ref:"git-remote"}),e._v(" "),o("GitPlus",{ref:"git-plus"}),e._v(" "),o("GitPush",{ref:"git-push"}),e._v(" "),o("GitRevert",{ref:"git-revert"}),e._v(" "),o("StarterForm",{ref:"starter-form"}),e._v(" "),o("BranchCreate",{ref:"branch-create"}),e._v(" "),o("TableImport",{ref:"table-import"}),e._v(" "),o("UploadForm",{ref:"upload-form"})],1)])},staticRenderFns:[]};var Y=o("VU/8")(H,q,!1,function(e){o("gYWc")},null,null);t.a=Y.exports}},["NHnr"]);