webpackJsonp([1],{"+5VB":function(e,t,o){"use strict";(function(e){var t=o("fZjL"),r=o.n(t);source.repository.tabs=[],source.repository.activeTab=null,source.changeTab=function(){var t=source.getTab(source.repository.activeTab);null!=t&&(null==t.$editor&&(t.$editor=e('<div class="repository-tab-editor"/>'),e(".repository-tab-editor-box").append(t.$editor)),e(".repository-tab-editor.show").each(function(o,r){r!=t.$editor[0]&&e(r).removeClass("show")}),t.$editor.addClass("show"),null==t.editor&&source.createTabEditor(t))},source.buildFileEditor=function(e){if(null!=e){var t=e.path,o=source.getTab(e.path);if(null!=o)if(coos.isEmpty(e.errmsg)){if(null!=o.editor){if(e.content==o.editor.file.content)return;return e.content==o.editor.getCode()?(o.editor.file.content=e.content,void(o.changed=!1)):(o.editor.file.content=e.content,o.changed=!0,void coos.confirm("文件["+e.path+"]内容发生更改，是否显示最新内容？").then(function(){o.changed=!1,o.$editor.empty(),delete o.editor,source.buildFileEditor(e)}))}var s=source.getProjectByPath(e.path),n=null;if(s.app){var a=null;s.app.path_model_type&&r()(s.app.path_model_type).forEach(function(t){var o=s.app.path_model_type[t];o.isDirectory?e.path.startsWith(t+"/")&&(a=o):e.path==t&&(a=o)}),a&&(s.app.path_model_bean&&(a.bean=s.app.path_model_bean[e.path]),a.bean=a.bean||{},e.model=a,n=a.value)}var i=coos.editor({type:n,project:s,file:e,readyonly:!app.hasPermission(),onSave:function(e,o){source.saveFile(t,e,o)},onTest:function(t,o){s.app&&s.app.localpath&&e.model&&((t=t||{}).type=n,t.path=s.app.localpath,t.name=e.model.bean.name,source.service.data.doTest(t).then(function(e){e.value,o&&o(e)}))},toText:function(e,t){source.service.data.toText(e).then(function(e){e.value,t&&t(e)})},toModel:function(e,t){source.service.data.toModel(e).then(function(e){e.value,t&&t(e)})},load:function(e){source.loadFile(t)},onChange:function(e){o.changed=e}});i.build(o.$editor),o.editor=i}else o.$editor.empty().append('<div class="text-center ft-20 color-red pdtb-60">'+e.errmsg+"</div>")}},source.createTabEditor=function(e){if(e.isFile){var t=e.path;e.$editor.empty().append('<div class="text-center ft-20 color-grey pdtb-60">文件加载中，请稍后...</div>'),source.loadFile(t)}},source.getTab=function(e){var t=null;return source.repository.tabs.forEach(function(o,r){o.name==e&&(t=o)}),t},source.getTabIndex=function(e){var t=source.getTab(e);return null!=t?source.repository.tabs.indexOf(t):-1},source.closeOtherTab=function(e){var t=source.getTabIndex(e),o=source.getTab(e),r=[];source.repository.tabs.forEach(function(e,t){r.push(e)}),r.forEach(function(e,t){e!=o&&source.removeTab(e)}),source.openTabByIndex(t)},source.closeRightTab=function(e){var t=source.getTabIndex(e),o=source.getTabIndex(source.repository.activeTab),r=[];source.repository.tabs.forEach(function(e,t){r.push(e)});for(var s=t+1;s<r.length;s++){var n=r[s];null!=n&&source.removeTab(n)}o>t&&source.openTabByIndex(source.repository.tabs.length-1)},source.closeLeftTab=function(e){var t=source.getTabIndex(e),o=source.getTabIndex(source.repository.activeTab),r=[];source.repository.tabs.forEach(function(e,t){r.push(e)});for(var s=0;s<t;s++){var n=r[s];null!=n&&source.removeTab(n)}o<t&&source.openTabByIndex(0)},source.closeAllTab=function(e){var t=[];source.repository.tabs.forEach(function(e,o){t.push(e)});for(var o=0;o<t.length;o++){var r=t[o];null!=r&&source.removeTab(r)}source.openTabByIndex(0)},source.closeTab=function(e){var t=source.getTab(e);if(null!=t){var o=source.getTabIndex(source.repository.activeTab);source.removeTab(t),source.openTabByIndex(o)}},source.removeTab=function(e){if(null!=e){e.editor&&(e.editor.destroy(),delete e.editor),e.$editor&&(e.$editor.remove(),delete e.$editor);var t=source.repository.tabs.indexOf(e);source.repository.tabs.splice(t,1),e.isFile&&source.closeFileByPath(e.path)}},source.openTabByIndex=function(e){(coos.isEmpty(e)||e<0)&&(e=0),e>=source.repository.tabs.length&&(e=source.repository.tabs.length-1),e>-1&&(source.repository.activeTab=source.repository.tabs[e].name),0==source.repository.tabs.length&&(source.repository.activeTab=null)},source.createTabByPath=function(e){if(null!=e){var t=source.getTab(e);if(null==t){t={};var o=e;o.lastIndexOf("/")>=0&&(o=o.substring(o.lastIndexOf("/")+1)),t.name=e,t.title=e,t.path=e,t.text=o,t.isFile=!0,t.changed=!1,source.repository.tabs.push(t)}source.repository.activeTab=e}};source}).call(t,o("7t+N"))},"+vPR":function(e,t){},"/S2F":function(e,t){},"/uKL":function(e,t,o){"use strict";(function(e){o("IcnI");t.a={name:"Res",components:{},data:function(){return{form:{name:"",email:"",loginname:"",password:""},rules:{name:[{required:!0,message:"请输入用户名称！",trigger:"blur"}],loginname:[{required:!0,message:"请输入登录账号！",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱！",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码！",trigger:"blur"}]}}},methods:{toLogin:function(){source.toRegister=!1},doRegister:function(){var e=this,t=this;this.$refs["register-form"].validate(function(o){if(!o)return!1;var r=e.form;source.do("REGISTER",r).then(function(e){coos.success("注册成功，正在跳转到登录页."),window.setTimeout(function(){t.toLogin()},500)})})},init:function(){var t=this;e(".register-page").on("keydown",function(e){var o=window.event||e;13==(o.keyCode||o.which)&&t.doRegister()})}},mounted:function(){this.init()},beforeCreate:function(){}}}).call(t,o("7t+N"))},"0Ib2":function(e,t){},"1JTz":function(e,t){},"3Skx":function(e,t){},"3e5/":function(e,t){},"4u5q":function(e,t){},"5/Jf":function(e,t){},"67hB":function(e,t){},"6phF":function(e,t){},"6pu+":function(e,t,o){"use strict";(function(e){var r=o("DuqN");t.a={components:{ContextmenuMenus:r.a},props:["contextmenu"],data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{},mounted:function(){var t=this;e(document).on("click","html",function(e){t.contextmenu.show=!1})}}}).call(t,o("7t+N"))},BIJG:function(e,t,o){"use strict";var r={name:"Header",data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{doLogout:function(){source.doLogout()}},computed:{},mounted:function(){}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-header"},[o("div",{staticClass:"app-header-left"},[o("ul",{staticClass:"coos-nav coos-nav-ul app-header-nav"},[o("li",[o("a",{attrs:{href:e._ROOT_URL}},[o("img",{attrs:{src:e._SERVER_URL+"/resources/images/coos-30.jpg"}})])]),e._v(" "),o("li",[o("a",{attrs:{href:e._ROOT_URL}},[o("h2",{},[e._v("COOS")])])]),e._v(" "),e._m(0)])]),e._v(" "),o("div",{staticClass:"app-header-center"},[o("ul",{staticClass:"coos-nav coos-nav-ul app-header-nav"},[o("li",[o("a",{attrs:{target:"_blank",href:e._SERVER_URL+"/resources/coos/font/demo_index.html"}},[e._v("IconFont")])]),e._v(" "),e.source.isManager?o("li",{staticClass:"coos-nav-left"},[o("a",[e._v("系统管理")]),e._v(" "),o("ul",{staticClass:"coos-nav-ul"},[o("li",{},[o("router-link",{attrs:{to:"/configure"}},[e._v("系统设置")])],1),e._v(" "),o("li",{},[o("router-link",{attrs:{to:"/environment"}},[e._v("环境配置")])],1)])]):e._e()])]),e._v(" "),o("div",{staticClass:"app-header-right"},[o("ul",{staticClass:"coos-nav coos-nav-ul app-header-nav"},[null!=e.source.LOGIN_USER?o("li",{staticClass:"coos-nav-left"},[o("a",[o("img",{attrs:{src:e._SERVER_URL+"/resources/images/coos-30.jpg"}}),e._v("\n          "+e._s(e.source.LOGIN_USER.name)+"\n        ")]),e._v(" "),o("ul",{staticClass:"coos-nav-ul"},[o("li",{},[o("a",{attrs:{href:e.app.getSpaceUrl(e.source.LOGIN_USER.space)}},[e._v("我的应用中心")])]),e._v(" "),o("li",{},[o("a",{on:{click:function(t){return e.doLogout()}}},[e._v("退出")])])])]):e._e(),e._v(" "),null!=e.source.LOGIN_USER?o("li",{staticClass:"coos-nav-left"},[o("a",{on:{click:function(t){return e.source.toPreference()}}},[e._v("偏好设置")])]):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",[t("input",{staticClass:"coos-search-input coos-bd-no",attrs:{placeholder:"搜索"}})])])}]};var n=o("VU/8")(r,s,!1,function(e){o("q/Pj")},"data-v-15e66624",null);t.a=n.exports},CMZJ:function(e,t){},"CO+v":function(e,t){},CmU5:function(e,t){},DuqN:function(e,t,o){"use strict";var r={name:"ContextmenuMenus",components:{ContextmenuMenus:a},props:["contextmenu","menus","isSub"],data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{onClick:function(e){this.contextmenu.show=!1,e&&e.onClick&&e.onClick()}},mounted:function(){}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{class:{"contextmenu-submenu":e.isSub,contextmenu:!e.isSub}},[null!=e.menus?[e._l(e.menus,function(t,r){return[t.divider?o("li",{key:r,staticClass:"divider"}):null!=t.header?o("li",{key:r,staticClass:"header"},[e._v(e._s(t.header))]):o("li",{key:r,class:{"has-sub":null!=t.menus&&t.menus.length>0},on:{click:function(o){return e.onClick(t)}}},[o("a",{attrs:{target:t.target,href:t.href}},[e._v(e._s(t.text))]),e._v(" "),null!=t.menus?[o("ContextmenuMenus",{attrs:{menus:t.menus,contextmenu:e.contextmenu,isSub:!0}})]:e._e()],2)]})]:e._e()],2)},staticRenderFns:[]};var n=o("VU/8")(r,s,!1,function(e){o("l1xA")},"data-v-1950720a",null),a=t.a=n.exports},EvAD:function(e,t,o){"use strict";(function(e){o("IcnI");t.a={name:"Login",components:{},data:function(){var e="",t="",o="";return window.localStorage&&(o=localStorage.getItem("rememberpassword"),coos.isTrue(o)&&(e=localStorage.getItem("loginname"),t=localStorage.getItem("password"))),{source:source,form:{loginname:e,password:t,rememberpassword:coos.isTrue(o)},rules:{loginname:[{required:!0,message:"请输入登录名称！",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码！",trigger:"blur"}]}}},methods:{toRegister:function(){source.toRegister=!0},doLogin:function(){var e=this;this.$refs["login-form"].validate(function(t){if(!t)return!1;var o=e.form;source.server.do("LOGIN",o).then(function(e){if(0==e.errcode){coos.success("登录成功.");try{window.localStorage&&(coos.isTrue(o.rememberpassword)?(localStorage.setItem("loginname",o.loginname),localStorage.setItem("password",o.password),localStorage.setItem("rememberpassword","true")):(localStorage.removeItem("loginname"),localStorage.removeItem("password"),localStorage.removeItem("rememberpassword")))}catch(e){}window.setTimeout(function(){source.loadSession()},300)}else coos.error(e.errmsg)})})},init:function(){var t=this;e(".login-page").on("keydown",function(e){var o=window.event||e;13==(o.keyCode||o.which)&&t.doLogin()})}},mounted:function(){this.init()},beforeCreate:function(){}}}).call(t,o("7t+N"))},F9Gv:function(e,t){},Ffh7:function(e,t,o){"use strict";(function(e){var o=window.source=new Object;o.isLogin=!1,o.LOGIN_USER=null,o.isManager=!1,o.roles=[],o.toRegister=!1,o.SPACE_TYPE=null,o.space=null,o.branch=null,o.UPGRADE_STATUS=null,o.UPGRADE_DOWNLOAD={count:0,downloaded_count:0,downloading_path:""},o.cache={},o.repository={loading:!1,branchs:[],branch:null,projects:[],git:null,terminals:[],runners:[],opens:[],open_files:[],open_folders:[],activeTab:null,tabs:[],change_files:[],contextmenu:{show:!1,menus:[]}},o.toPreference=function(){o.preferenceForm.show()},o.changePreference=function(){o.initPreferenceStyle()},o.initPreferenceStyle=function(){var t=e("#preference-style");0==t.length&&(t=e('<style type="text/css" id="preference-style"></style>'),e("head").append(t)),t.empty();var r=o.preference;r&&t.append(".repository-tab-editor .editor-code{font-size: "+r.fontsize+"px}")},window.source=o,t.a=o}).call(t,o("7t+N"))},GU9F:function(e,t,o){"use strict";var r=o("EvAD"),s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-page"},[o("div",{staticClass:"login-box"},[o("div",{staticClass:"login-content"},[o("h2",{staticClass:"text-center pd-10 color-green mgb-10"},[e._v("用户登录")]),e._v(" "),o("el-form",{ref:"login-form",attrs:{model:e.form,"status-icon":"",rules:e.rules}},[o("el-form-item",{attrs:{label:"",prop:"loginname"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.loginname,callback:function(t){e.$set(e.form,"loginname",t)},expression:"form.loginname"}},[o("i",{staticClass:"el-input__icon coos-icon coos-icon-user ft-20",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),o("el-form-item",{staticClass:"mgb-10",attrs:{label:"",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[o("i",{staticClass:"el-input__icon coos-icon coos-icon-lock ft-20",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),o("el-form-item",{staticClass:"aaaaa"},[o("el-checkbox",{staticClass:"rememberpassword",model:{value:e.form.rememberpassword,callback:function(t){e.$set(e.form,"rememberpassword",t)},expression:"form.rememberpassword"}},[e._v("记住密码")])],1),e._v(" "),o("a",{staticClass:"coos-btn bg-green coos-btn-block",on:{click:function(t){return e.doLogin()}}},[e._v("登录")])],1),e._v(" "),e.source.CONFIGURE.openregister?o("div",{staticClass:"mgt-10 pdb-20"},[o("div",{staticClass:"float-right"},[e._v("\n          暂无账号？\n          "),o("a",{staticClass:"coos-link color-orange",on:{click:function(t){return e.toRegister()}}},[e._v("注册账号")])])]):e._e()],1)])])},staticRenderFns:[]};var n=function(e){o("nFUI")},a=o("VU/8")(r.a,s,!1,n,null,null);t.a=a.exports},I3Yi:function(e,t,o){"use strict";var r=o("fZjL"),s=o.n(r),n=(o("IcnI"),{name:"Install",components:{},data:function(){return{installError:!1,message:"平台初始化中...",show:"database",database:{form:{driver:"com.mysql.jdbc.Driver",url:"jdbc:mysql://127.0.0.1:3306/COOS?useUnicode=true&characterEncoding=utf8&serverTimezone=GMT",username:"root",password:"123456"},rules:{driver:[{required:!0,message:"请输入驱动！",trigger:"blur"}],url:[{required:!0,message:"请输入连接！",trigger:"blur"}],username:[{required:!0,message:"请输入用户名！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"}]}},admin:{form:{loginname:"admin",password:"123456",repassword:"123456",email:"admin@admin.com"},rules:{loginname:[{required:!0,message:"请输入登录名称！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"}],repassword:[{required:!0,message:"请确认密码！",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱！",trigger:"blur"}]}},configure:{form:{openregister:!0,defaultpassword:"123456"},rules:{defaultpassword:[{required:!0,message:"请输入默认密码！",trigger:"blur"}]}}}},methods:{back:function(){"admin"==this.show?this.show="database":"configure"==this.show?this.show="admin":"install"==this.show&&(this.show="configure")},submitDatabase:function(){var e=this;this.$refs["database-form"].validate(function(t){if(!t)return!1;e.show="admin"})},submitAdmin:function(){var e=this;this.$refs["admin-form"].validate(function(t){if(!t)return!1;e.show="configure"})},submitConfigure:function(){var e=this;this.$refs["configure-form"].validate(function(t){if(!t)return!1;e.show="install",e.doInstall()})},doInstall:function(){var e=this,t={};t.database=this.database.form,t.admin=this.admin.form,t.configure=this.configure.form,source.do("INSTALL",t).then(function(t){0==(t=t||{}).errcode?(coos.success("安装成功，即将刷新页面！"),window.setTimeout(function(){window.location.reload()},500)):(coos.error(t.errmsg),e.show="database")})},init:function(){var e=this;source.load("JDBC",{}).then(function(t){var o=(t=t||{}).value||{};if(o&&s()(o).length>0)for(var r in e.database.form)e.database.form[r]=o[r]})}},mounted:function(){this.init()},beforeCreate:function(){}}),a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"install-page"},[o("div",{staticClass:"coos-row mgt-100"},[o("div",{staticClass:"install-form-box coos-row"},[o("div",{staticClass:"coos-row install-form-one install-form-database",class:{show:"database"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("配置平台数据库")]),e._v(" "),o("el-form",{ref:"database-form",attrs:{model:e.database.form,"status-icon":"",rules:e.database.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"驱动",prop:"driver"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.driver,callback:function(t){e.$set(e.database.form,"driver",t)},expression:"database.form.driver"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"连接",prop:"url"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.url,callback:function(t){e.$set(e.database.form,"url",t)},expression:"database.form.url"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.username,callback:function(t){e.$set(e.database.form,"username",t)},expression:"database.form.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.database.form.password,callback:function(t){e.$set(e.database.form,"password",t)},expression:"database.form.password"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-right coos-btn bg-green",on:{click:function(t){return e.submitDatabase()}}},[e._v("确认，下一步")])])],1),e._v(" "),o("div",{staticClass:"coos-row install-form-one install-form-admin",class:{show:"admin"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("配置平台管理员")]),e._v(" "),o("el-form",{ref:"admin-form",attrs:{model:e.admin.form,"status-icon":"",rules:e.admin.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"登录账号",prop:"loginname"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.loginname,callback:function(t){e.$set(e.admin.form,"loginname",t)},expression:"admin.form.loginname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.password,callback:function(t){e.$set(e.admin.form,"password",t)},expression:"admin.form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.repassword,callback:function(t){e.$set(e.admin.form,"repassword",t)},expression:"admin.form.repassword"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.admin.form.email,callback:function(t){e.$set(e.admin.form,"email",t)},expression:"admin.form.email"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-left coos-btn bg-orange",on:{click:function(t){return e.back()}}},[e._v("上一步")]),e._v(" "),o("a",{staticClass:"float-right coos-btn bg-green",on:{click:function(t){return e.submitAdmin()}}},[e._v("确认，下一步")])])],1),e._v(" "),o("div",{staticClass:"coos-row install-form-one install-form-configure",class:{show:"configure"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("系统设置")]),e._v(" "),o("el-form",{ref:"configure-form",attrs:{model:e.configure.form,"status-icon":"",rules:e.configure.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"开启注册",prop:"openregister"}},[o("el-switch",{model:{value:e.configure.form.openregister,callback:function(t){e.$set(e.configure.form,"openregister",t)},expression:"configure.form.openregister"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"默认密码",prop:"defaultpassword"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.configure.form.defaultpassword,callback:function(t){e.$set(e.configure.form,"defaultpassword",t)},expression:"configure.form.defaultpassword"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-left coos-btn bg-orange",on:{click:function(t){return e.back()}}},[e._v("上一步")]),e._v(" "),o("a",{staticClass:"float-right coos-btn bg-green",on:{click:function(t){return e.submitConfigure()}}},[e._v("安装")])])],1),e._v(" "),o("div",{staticClass:"coos-row install-form-one",class:{show:"install"==e.show}},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange mgb-20"},[e._v("平台初始化")]),e._v(" "),o("div",{staticClass:"coos-form coos-input-md pd-20"},[o("div",{staticClass:"ft-30 pd-20 text-center color-orange install-message"},[e._v(e._s(e.message))])]),e._v(" "),o("div",{staticClass:"coos-row"},[o("a",{staticClass:"float-left coos-btn bg-orange",attrs:{show:e.installError},on:{click:function(t){return e.back()}}},[e._v("上一步")])])])])])])},staticRenderFns:[]};var i=o("VU/8")(n,a,!1,function(e){o("jD92")},null,null);t.a=i.exports},IcnI:function(e,t,o){"use strict";var r=o("7+uW"),s=o("NYxO");r.default.use(s.a),t.a=new s.a.Store({plugins:[],state:{},getters:{},mutations:{session:function(e,t){}},actions:{},modules:{}})},IlIf:function(e,t){},JWTF:function(e,t){},K1Fe:function(e,t,o){"use strict";(function(e){t.a={name:"JoinIndex",data:function(){return{source:source,list:null}},methods:{formatDateStr:function(e){return null==e||""==e?e:coos.date.formatByStr(e,"yyyy/MM/dd hh:mm")},load:function(){var e=this;if(!this.loading){var t={};this.pageindex=this.pageindex||0,this.pageindex++,t.pageindex=this.pageindex,t.pagesize=20,this.totalpages&&this.totalpages<t.pageindex||(this.loading=!0,source.load("SPACE_EVENTS",t).then(function(t){e.list=e.list||[],e.totalpages=t.totalpages||0,(t.value||[]).forEach(function(t){var o=null;e.list.forEach(function(e){e.date==t.date&&(o=e)}),null==o&&(o={date:t.date,list:[]},e.list.push(o)),o.list.push(t)}),e.loading=!1}))}}},mounted:function(){this.load();var t=this;e(document).on("scroll",function(){if("/event"==t.$route.path){var o=e(document).scrollTop(),r=e(window).height(),s=e(document).height();s-(o+r)<=100&&t.load(),s=o+r}})}}}).call(t,o("7t+N"))},KaJi:function(e,t,o){"use strict";var r=o("/uKL"),s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"register-page"},[o("div",{staticClass:"register-box"},[o("div",{staticClass:"register-content"},[o("h2",{staticClass:"text-center pd-10 color-orange mgb-10"},[e._v("账号注册")]),e._v(" "),o("el-form",{ref:"register-form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"登录账号",prop:"loginname"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.loginname,callback:function(t){e.$set(e.form,"loginname",t)},expression:"form.loginname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("a",{staticClass:"coos-btn bg-orange coos-btn-block",on:{click:function(t){return e.doRegister()}}},[e._v("注册")])],1),e._v(" "),o("div",{staticClass:"mgt-10 pdb-20"},[o("div",{staticClass:"float-right"},[e._v("\n          已有账号？\n          "),o("a",{staticClass:"coos-link color-green",on:{click:function(t){return e.toLogin()}}},[e._v("现在登录")])])])],1)])])},staticRenderFns:[]};var n=function(e){o("yFho")},a=o("VU/8")(r.a,s,!1,n,null,null);t.a=a.exports},LF8Y:function(e,t){},LuP5:function(e,t){},M93x:function(e,t,o){"use strict";var r=o("xJD8"),s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app"},[o("Header"),e._v(" "),e.source.installed?[null!=e.source.LOGIN_USER?[null==e.source.space?[null==e.source.SPACE_TYPE?[o("router-view")]:[null!=e.source.space?[o("Toolbar")]:e._e(),e._v(" "),o("router-view")]]:[null!=e.source.space?[o("Toolbar")]:e._e(),e._v(" "),o("router-view"),e._v(" "),"REPOSITORYS"==e.source.SPACE_TYPE?[o("Rpository",{ref:"repository",attrs:{repository:e.source.repository}})]:e._e()]]:[e.source.toRegister?[o("Register")]:[o("Login")]]]:[o("Install")],e._v(" "),o("PreferenceForm",{ref:"preference-form"})],2)},staticRenderFns:[]};var n=function(e){o("ylO9")},a=o("VU/8")(r.a,s,!1,n,null,null);t.a=a.exports},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=o("7+uW"),r=o("zL8q"),s=o.n(r),n=o("tvR6"),a=(o.n(n),o("M93x")),i=o("YaEn"),c=o("IcnI"),l=o("Z30y"),u=o("Qno7");t.default.use(s.a),t.default.config.productionTip=!1,window.app_main=function(){coos.startZIndex=2e3,t.default.prototype.coos=coos,t.default.prototype.app=l.a,t.default.prototype.source=u.a,t.default.prototype._SERVER_URL=window._SERVER_URL,t.default.prototype._ROOT_URL=window._ROOT_URL,u.a.ready().then(function(){new t.default({el:"#main",router:i.a,store:c.a,components:{App:a.a},mounted:function(){},template:"<App/>"}),e(".app-loading-box").addClass("hide"),window.setTimeout(function(){e(".app-loading-box").remove()},310)})},document.writeln('<script type="text/javascript" src="'+_SERVER_URL+'/resources/app.resources.js"><\/script>'),document.writeln('<script type="text/javascript" src="'+_SERVER_URL+'/resources/app.main.js"><\/script>')}.call(t,o("7t+N"))},QC3c:function(e,t){},Qno7:function(e,t,o){"use strict";var r=o("Ffh7"),s=o("//Fk"),n=o.n(s),a=o("mtWM"),i=o.n(a),c={baseURL:window._ROOT_URL||window.location.origin+"/",baseServiceURL:window._SERVER_URL||window.location.origin+"/ide/",timeout:2e4,headers:{header1:"header1..."}},l=o("IcnI"),u=(o("7+uW"),o("zL8q"));i.a.defaults.withCredentials=!0;var f=i.a.create({baseURL:c.baseServiceURL,timeout:c.timeout,headers:c.headers}),p=null;f.interceptors.request.use(function(e){return 1==e.loading&&(p=m.loading()),e.headers=e.headers||{},e.headers.LOGIN_TOKEN=sessionStorage.getItem("LOGIN_TOKEN"),e},function(e){return m.show({type:"error",message:"请求异常！"}),p&&p.close(),n.a.reject(e)}),f.interceptors.response.use(function(e){if(p&&p.close(),e.headers["content-type"]&&-1!=e.headers["content-type"].indexOf("text/html"))document.write(e.data);else{if(!e.data)return m.show({type:"error",message:"返回数据格式错误！"}),n.a.resolve("返回数据格式错误！");var t=e.data;try{switch(t.errcode){case 0:return t;case 1e4:return sessionStorage.removeItem("LOGIN_TOKEN"),l.a.commit("session",null),m.show({type:"error",message:"暂无登录信息，请先登录！"}),t;default:return t}}catch(e){return m.show({type:"error",message:e}),n.a.reject(e)}}},function(e){return p&&p.close(),-1!=e.toString().indexOf("Network Error")||-1!=e.toString().indexOf("timeout")?m.show({type:"error",message:"请求超时,请稍后重试！"}):m.show({type:"error",message:"系统内部错误！"}),n.a.reject(e)});var m={http:f,show:function(e){return Object(u.Message)(e)},notify:function(e){Object(u.Notification)(e)},alert:function(e,t,o){return u.MessageBox.alert(e,t,o)},confirm:function(e,t,o){return u.MessageBox.confirm(e,t,o)},prompt:function(e,t,o){return u.MessageBox.prompt(e,t,o)},loading:function(e){return u.Loading.service(e)}},d=m,v={data:{toText:function(e){return d.http.post("api/data/toText",e)},toModel:function(e){return d.http.post("api/data/toModel",e)},doTest:function(e){return d.http.post("api/data/doTest",e)}}},h=(o("cqsX"),o("tcCa"),o("jks3"),o("fZjL")),_=o.n(h),g=o("woOf"),b=o.n(g);!function(){source.getModel=function(e){var t=null;return source.ENUM_MAP.MODEL_TYPE.forEach(function(o){o.value==e&&(t=o)}),t},source.get=function(e,o){return new n.a(function(r,s){if(coos.isEmpty(e))r&&r(null);else{source.cache[e]=source.cache[e]||{};var n=source.cache[e];null!=n[o]?r&&r(n[o]):t(e,o).then(function(e){n[o]=b()({},e),r&&r(n[o])})}})};var e={},t=function(t,o){return new n.a(function(r,s){if(coos.isEmpty(t))r&&r(null);else{var n=t+"-"+o;e[n]?e[n].push(r):(e[n]=[],e[n].push(r),source.load("ONE",{type:t,id:o}).then(function(t){var o=e[n];delete e[n],o.forEach(function(e){e&&e(t.value)})}))}})};source.do=function(e,t){return new n.a(function(o,r){source.server.do(e,t).then(function(r){if(o&&o(r),0==r.errcode&&("FILE_CREATE"==e||"FILE_SAVE"==e||"FILE_RENAME"==e||"FILE_DELETE"==e||"FILE_MOVE"==e)){source.loadGitStatus();var s=null;if((t=t||{}).parentPath&&(s=source.getProjectByPath(t.parentPath)),t.path&&(s=source.getProjectByPath(t.path)),null!=s){var n=!1;s.app&&s.app.path_model_type&&_()(s.app.path_model_type).forEach(function(e){t.path&&t.path.startsWith(e)&&(n=!0),t.parentPath&&t.parentPath.startsWith(e)&&(n=!0)}),n&&source.loadApp(s)}}})})},source.load=function(e,t){t=t||{};var o=source.getModel(e);return o&&"PAGE"==o.type&&(coos.isEmpty(t.pageindex)&&source.data[e]&&(t.pageindex=Number(source.data[e].pageindex)+1),coos.isEmpty(t.pagesize)&&source.data[e]&&(t.pagesize=Number(source.data[e].pagesize))),source.server.load(e,t)},source.onData=function(e,t){var o=(t=t||{}).value;if("SESSION"==e)return o=o||{},source.LOGIN_USER=o.LOGIN_USER,source.isLogin=null!=source.LOGIN_USER,source.isManager=o.isManager,source.preference=o.preference||{},source.LOGIN_USER_TOKEN=o.LOGIN_USER_TOKEN,coos.trimList(source.roles),o.roles&&o.roles.forEach(function(e){source.roles.push(e)}),source.isLogin&&(coos.isEmpty(source.spaceid)||null==source.space&&source.load("SPACE")),void source.initPreferenceStyle();if("CONFIGURE"==e)return o=o||{},void b()(source.CONFIGURE,o);if("UPGRADE_DOWNLOAD"==e)return o=o||{},void b()(source.UPGRADE_DOWNLOAD,o);if("UPGRADE_STATUS"!=e){if("SPACE"==e){if(null!=o&&(o.levels=null),null==source.space&&(source.space=o),null==source.space&&null==o)return;return b()(source.space,o),source.load("PARENTS"),void("REPOSITORYS"==source.space.type&&(source.loadRepository(),source.load("BRANCHS")))}if("REPOSITORY"!=e)if("PROJECT"!=e)if("APP"!=e)if("FILE"!=e)if("FILES"!=e)if("GIT"!=e)if("GIT_WORK_STATUS"!=e)if("STARTER_OPTIONS"!=e)if("STARTERS"!=e)if("STARTER_LOG"!=e)if("STARTER_STATUS"!=e)if("RUNNER_OPTIONS"!=e){"PARENTS"==e?((o=o||[]).push(source.space),o.forEach(function(e,t){t+1<o.length&&(o[t+1].levels=e.childs)})):"REPOSITORY_STATUS"==e?source.onRepositoryStatus(o):"SPACE_TEAMS"==e?t.value&&t.value.forEach(function(e){e.data=null,"USERS"==e.type&&source.get("USER",e.recordid).then(function(t){e.data={name:t.name}})}):"SPACE_EVENTS"==e&&t.value&&t.value.forEach(function(e){e.user=null,e.datetime=coos.formatDate(e.createtime),e.date=e.datetime.split(" ")[0];var t={};coos.isEmpty(e.data)||(t=JSON.parse(e.data)),e.data=t,e.user=null,source.get("USER",e.createuserid).then(function(t){t&&(e.user={name:t.name})})});var r=source.getModel(e);null!=r&&("ONE"==r.type?null==source.data[e]?source.data[e]=o:coos.isObject(o)?b()(source.data[e],o):source.data[e]=o:"LIST"==r.type?(null==source.data[e]&&(source.data[e]=[]),source.data[e].splice(0,source.data[e].length),(o=o||[]).forEach(function(t){source.data[e].push(t)})):"PAGE"==r.type&&(null==source.data[e]&&(source.data[e]={pageindex:1,totalpages:0,totalcount:0,pagesize:10,uppage:1,nextpage:1,hasNext:!1,value:[],list:[]}),source.data[e].pageindex=t.pageindex,source.data[e].totalpages=t.totalpages,source.data[e].totalcount=t.totalcount,source.data[e].pagesize=t.pagesize,source.data[e].uppage=t.uppage,source.data[e].nextpage=t.nextpage,source.data[e].hasNext=t.pageindex<t.totalpages,source.data[e].value.splice(0,source.data[e].value.length),1==t.pageindex&&source.data[e].list.splice(0,source.data[e].list.length),t.value=t.value||[],t.value.forEach(function(t){source.data[e].value.push(t),source.data[e].list.push(t)})))}else source.onRunnerOptions(o);else source.onStarterStatus(o);else source.onStarterLog(o);else source.onStarters(o);else source.onStarterOptions(o);else source.onLoadGitWorkStatus(o);else source.onLoadGit(o);else source.onLoadFiles(o);else source.onLoadFile(o);else source.onApp(o);else source.onLoadProject(o);else source.onLoadRepository(o)}else source.UPGRADE_STATUS=o}}();source,o("+5VB");source.repository.tabs=[],source.repository.activeTab=null,source.repository.navs=[],source.onLoadProject=function(e){if(null!=e){var t=source.getProjectByPath(e.path);if(null!=t){if(t.app=e.app,t.files=t.files||[],coos.trimList(t.files),e.files=e.files||[],source.formatFiles(e.files,t),t.format_folders&&t.format_folders.length>0){var o="";t.root||(o=t.path+"/"),t.format_folders.forEach(function(r){var s={name:r,path:o+r,directory:!0,files:[]},n=source.getFileFromFiles(s.path,e.files);null!=n&&(null!=n.parent&&n.parent.files.splice(n.parent.files.indexOf(n),1),null!=n.files&&(n.files.forEach(function(e){source.formatFile(e,s),s.files.push(e)}),coos.trimList(n.files))),source.formatFile(s,t),t.files.push(s)}),e.files.forEach(function(e){t.files.push(e)})}else e.files.forEach(function(e){t.files.push(e)});t.loading=!1,source.refreshProjectFileStatus(t)}}},source.getProjectByPath=function(e){var t=null;return source.repository&&source.repository.projects&&(source.repository.projects.forEach(function(o){if(!o.root){var r=o.path;e==r?t=o:(r.endsWith("/")||(r+="/"),e.startsWith(r)&&(t=o))}}),null==t&&source.repository.projects.forEach(function(e){e.root&&(t=e)})),t},source.reloadProject=function(e){return e.loading=!0,source.load("PROJECT",{path:e.path})};source;source.repository.file_data_map={},source.openFolder=function(e){source.repository.open_folders.indexOf(e)<0&&source.repository.open_folders.push(e)},source.closeFolder=function(e){var t=[];source.repository.open_folders.forEach(function(o){(o.startsWith(e+"/")||o==e)&&t.push(o)}),t.forEach(function(e){var t=source.repository.open_folders.indexOf(e);t>=0&&source.repository.open_folders.splice(t,1)})},source.openFileByPath=function(e){if(!coos.isEmpty(e)){var t="";e.lastIndexOf("/")>0&&(t=e.substring(0,e.lastIndexOf("/"))),source.openFolder(t),source.do("FILE_OPEN",{path:e}),source.createTabByPath(e)}},source.closeFileByPath=function(e){coos.isEmpty(e)||source.do("FILE_CLOSE",{path:e})},source.getFileFromFiles=function(e,t){if(coos.isEmpty(e),null==t||0==t.length)return null;var o=null;return t.forEach(function(t){null==o&&(t.path==e&&(o=t),null==o&&null!=t.files&&(o=source.getFileFromFiles(e,t.files)))}),o},source.formatFiles=function(e,t){null!=e&&e.forEach(function(e){source.formatFile(e,t),e.files&&source.formatFiles(e.files,e)})},source.fileMove=function(e,t){source.formatFiles([e],t),source.sortFolderFiles(t)},source.formatFile=function(e,t){null!=e&&(e.formated||(e.modified=!1,e.untracked=!1,e.conflicting=!1,e.isProject=!1,e.isRoot=!1,e.isMaven=!1,e.isDirectory=!1,e.isFile=!1,e.changed=!1,e.saveing=!1,e.loading=!1,e.toRename=!1,e.formated=!0),e.parent=t,e.isProject=e.isProject,e.isDirectory=e.directory,e.isFile=e.file,e.isRoot=e.root,e.isMaven=e.maven,t&&!e.isNew&&(""==t.path?e.path=e.name:e.path=t.path+"/"+e.name))},source.sortFolderFiles=function(e){if(null!=e&&null!=e.files){var t=[];e.files.forEach(function(e){t.push(b()({},e))}),t.sort(function(e,t){return e.isDirectory&&t.isFile?-1:e.isFile&&t.isDirectory?1:e.name.localeCompare(t.name)}),t.forEach(function(e,t){e.sequence=t}),source.formatFiles(t,e),coos.trimList(e.files),t.forEach(function(t,o){e.files.push(t)})}},source.updateFileName=function(e,t){var o=e.path,r="";e.path.lastIndexOf("/")>0&&(r=e.path.substring(0,e.path.lastIndexOf("/")+1));var s=r+t;e.name=t,e.path=s,source.updateFilesPath(e.files,o,s)},source.updateFilesPath=function(e,t,o){null!=e&&e.forEach(function(e){e.path=e.path.replace(t,o),source.updateFilesPath(e.files)})},source.parentFile=function(e){if(null==e)return null;var t=e;e.indexOf("/")>0&&(t=e.substring(0,e.indexOf("/"))),source.getProjectByPath(t).files.forEach(function(e){})},source.onLoadFile=function(e){null==e||coos.isEmpty(e.path)||(source.repository.file_data_map[e.path]=e,source.buildFileEditor(e))},source.onLoadFiles=function(e){console.log(e)},source.loadFiles=function(e){source.load("FILES",{path:e})},source.loadFile=function(e){source.load("FILE",{path:e})},source.saveFile=function(e,t,o){source.do("FILE_SAVE",{path:e,content:t}).then(function(t){0==t.errcode?(coos.success("保存成功！"),source.getTab(e).changed=!1,o&&o(!0)):(coos.error(t.errmsg),o&&o(!1))})},source.refreshProjectsFileStatus=function(){source.repository.projects.forEach(function(e){source.refreshProjectFileStatus(e)})},source.refreshProjectFileStatus=function(e){source.refreshFileStatus(e)},source.refreshFileStatus=function(e){e.modified=!1,e.untracked=!1,e.conflicting=!1,source.repository.change_files.forEach(function(t){e.isProject?t.key.startsWith(e.path)&&(e.modified="modified"==t.status,e.untracked="untracked"==t.status,e.conflicting="conflicting"==t.status):e.isDirectory?t.key.startsWith(e.path)&&(e.modified="modified"==t.status,e.untracked="untracked"==t.status,e.conflicting="conflicting"==t.status):e.isFile&&t.key==e.path&&(e.modified="modified"==t.status,e.untracked="untracked"==t.status,e.conflicting="conflicting"==t.status)}),e.files&&e.files.length>0&&e.files.forEach(function(e){source.refreshFileStatus(e)})};source;source.repository.tabs=[],source.repository.activeTab=null;var E={title:"Git",icon:"coos-icon-git",value:0,disabled:!0,dot:!0,type:"success",onClick:function(){source.gitRemoteForm.show()}};source.repository.navs.push(E);var y={title:"Git还原",icon:"coos-icon-undo",value:0,disabled:!0,dot:!1,type:"success",onClick:function(){source.gitRevertForm.show()}};source.repository.navs.push(y);var x={title:"Git推送",icon:"coos-icon-git-push",value:0,disabled:!0,dot:!1,type:"success",onClick:function(){source.gitPushForm.show()}};source.repository.navs.push(x);var C={title:"Git拉取",icon:"coos-icon-git-pull",value:0,disabled:!0,dot:!1,type:"success",onClick:function(){source.gitPull()}};source.repository.navs.push(C);var w={title:"Git分支",icon:"coos-icon-branches",value:0,disabled:!0,dot:!1,type:"success"};source.repository.navs.push(w),source.onLoadGit=function(e){if(null!=e){E.disabled=!1,e.findGit?(E.type="success",y.disabled=!1,x.disabled=!1,C.disabled=!1,w.disabled=!1):(E.type="warning",y.disabled=!0,x.disabled=!0,C.disabled=!0,w.disabled=!0),source.repository.git=e,coos.trimList(source.repository.change_files);var t=source.repository.change_files,o=e.status;source.repository.projects.forEach(function(e){coos.trimArray(e.deletes)}),o&&(o.missing.forEach(function(e){var t=source.getProjectByPath(e);t&&t.deletes.push(e)}),o.modified.forEach(function(e){t.push({key:e,status:"modified",label:e+"(更改)"})}),o.untracked.forEach(function(e){t.push({key:e,status:"untracked",label:e+"(添加)"})}),o.missing.forEach(function(e){t.push({key:e,status:"missing",label:e+"(移除)"})}),o.conflicting.forEach(function(e){t.push({key:e,status:"conflicting",label:e+"(冲突)"})}),x.value=o.added.length+o.changed.length+o.removed.length,x.dot=x.value>0),y.value=t.length,y.dot=y.value>0,source.refreshProjectsFileStatus()}},source.onLoadGitWorkStatus=function(e){var t="";"PUSHING"==(e=e||{}).status?t="Git推送中...":"PULLING"==e.status?t="Git拉取中...":"CHECKOUTING"==e.status?t="Git检出中...":("PUSHED"==e.status?coos.success("Git推送成功！"):"PULLED"==e.status?coos.success("Git拉取成功！"):"CHECKOUTED"==e.status?coos.success("Git检出成功！"):coos.isEmpty(e.message)||coos.error(e.message),source.loadGitStatus()),coos.isEmpty(t)?(source.repository.loading=!1,source.repository.loading_msg=""):(source.repository.loading=!0,source.repository.loading_msg=t,window.setTimeout(function(){source.loadGitWorkStatus()},100))},source.formatHeadBranchName=function(e){return e.name.substring("refs/heads/".length)},source.isHeadBranchName=function(e){return e.name.startsWith("refs/heads/")},source.formatRemoteBranchName=function(e,t){return t.name.substring(("refs/remotes/"+e+"/").length)},source.isRemoteBranchName=function(e,t){return t.name.startsWith("refs/remotes/"+e+"/")},source.loadGitStatus=function(){source.load("GIT")},source.loadGitWorkStatus=function(){source.load("GIT_WORK_STATUS")},source.gitPull=function(){var e={};e.gitRemoteName=source.repository.git.option.gitRemoteName,e.gitRemoteBranch=source.repository.git.option.gitRemoteBranch,source.gitCertificateForm.show().then(function(t){e.certificate=t,source.do("GIT_PULL",e).then(function(e){0==e.errcode?source.loadGitWorkStatus():coos.error(e.errmsg)})})},source.gitRevert=function(e){if(null!=e&&0!=e.length){coos.isEmpty(e[0])&&(e[0]=".");var t="";t+='<div class="coos-row">',t+='<div class="coos-row ft-14">确定还原以下路径？</div>',e.forEach(function(e){t+='<div class="coos-row color-grey ft-13 mgb-5" style="word-wrap: break-word;word-break: normal;">'+e+"</div>"}),t+="</div>",coos.confirm(t,{width:"500px"}).then(function(t){var o={};o.paths=e,source.do("GIT_REVERT",o).then(function(t){if(0==t.errcode){coos.success("还原成功！");var o=source.getProjectByPath(e[0]);null!=o&&source.reloadProject(o),source.loadGitStatus()}else coos.error(t.errmsg)})},function(){})}};source;source.mavenClean=function(e){source.do("MAVEN_CLEAN",{path:e.path})},source.mavenCompile=function(e){source.do("MAVEN_COMPILE",{path:e.path})},source.mavenPackage=function(e){source.do("MAVEN_PACKAGE",{path:e.path})},source.mavenInstall=function(e){source.do("MAVEN_INSTALL",{path:e.path})},source.mavenDeploy=function(e){source.do("MAVEN_DEPLOY",{path:e.path})};source;source.repository.starter_options=[],source.repository.starter_show=!1,source.repository.starters=[],source.repository.starterActive="0",function(){var e=!1;source.loadStarterStatus=function(){if(!e)if(e=!0,source.repository.starter_show){var t=source.getStarter(source.repository.starterActive);null!=t&&"0"!=t.token?(source.load("STARTER_STATUS",{token:t.token}),e=!1):window.setTimeout(function(){e=!1,source.loadStarterStatus()},1e3)}else window.setTimeout(function(){e=!1,source.loadStarterStatus()},1e3)};var t=!1;source.loadStarterLog=function(){if(!t)if(t=!0,source.repository.starter_show){var e=source.getStarter(source.repository.starterActive);if(null!=e){var r=e.logStart,s=e.logEnd,n=e.logTimestamp;if(r=r||0,s=s||0,r>0){var a={token:e.token,start:0};r>o&&(a.start=r-o),a.end=r-1,a.timestamp=n,a.isloadold=!0,source.load("STARTER_LOG",a)}if(0==r&&0==s){var i={token:e.token};source.load("STARTER_LOG",i)}else{var c={token:e.token};c.start=s+1,c.end=s+o,c.timestamp=n,source.load("STARTER_LOG",c)}t=!1}else window.setTimeout(function(){t=!1,source.loadStarterLog()},1e3)}else window.setTimeout(function(){t=!1,source.loadStarterLog()},1e3)},source.loadStarterStatus(),source.loadStarterLog(),source.startStarter=function(e){"0"!=e.token&&source.do("STARTER_START",{token:e.token}).then(function(e){0==e.errcode?coos.success("启动成功！"):coos.error(e.errmsg)})},source.stopStarter=function(e){"0"!=e.token&&source.do("STARTER_STOP",{token:e.token}).then(function(e){0==e.errcode?coos.success("停止成功！"):coos.error(e.errmsg)})},source.destroyStarter=function(e){"0"!=e.token&&source.do("STARTER_DESTROY",{token:e.token}).then(function(e){0==e.errcode?coos.success("销毁成功！"):coos.error(e.errmsg)})},source.removeStarter=function(e){"0"!=e.token&&source.do("STARTER_REMOVE",{token:e.token}).then(function(e){0==e.errcode?(coos.success("移除成功！"),source.load("STARTERS")):coos.error(e.errmsg)})},source.openStarterBox=function(){source.repository.starter_show=!0},source.closeStarterBox=function(){source.repository.starter_show=!1},source.onStarterOptions=function(e){e=e||[],coos.trimList(source.repository.starter_options),e.forEach(function(e){source.repository.starter_options.push(e)})},source.onStarters=function(e){e=e||[],0==source.repository.starters.length&&source.repository.starters.push({text:"库控制台信息",token:"0",logs:[],status:null,option:null}),e.forEach(function(e){var t=source.getStarter(e.token);null==t?(e.logs=[],e.text=""+e.token,e.option&&(e.text=""+e.option.name),source.repository.starters.push(e)):b()(t,e)});var t=[];source.repository.starters.forEach(function(o){if("0"!=o.token){var r=null;e.forEach(function(e){o.token==e.token&&(r=e)}),null==r&&t.push(o)}}),t.forEach(function(e){source.repository.starters.splice(source.repository.starters.indexOf(e),1)}),null==source.getStarter(source.repository.starterActive)&&(source.repository.starters.length>0?source.repository.starterActive=source.repository.starters[0].token:source.repository.starterActive=null)},source.getStarter=function(e){var t=null;return source.repository.starters.forEach(function(o){o.token==e&&(t=o)}),t},source.cleanStarterLog=function(e){source.do("STARTER_LOG_CLEAN",{token:e.token}).then(function(t){source.reloadStarterLog(e)})},source.reloadStarterLog=function(e){delete e.logStart,delete e.logEnd,delete e.logTimestamp,coos.trimArray(e.logs),source.loadStarterLog()};var o=50;source.onStarterLog=function(e){e=e||{};var t=source.getStarter(e.token);if(null!=e.timestamp){var r=1e3;if(null!=t){if(null==t.logTimestamp&&(t.logTimestamp=e.timestamp),t.logTimestamp!=e.timestamp)return void coos.confirm("日志文件已被清理，是否重新读取？").then(function(e){source.reloadStarterLog(t)});var s=e.logs||[];if(r=s.length<o?1e3:200,s.length>0&&(coos.isEmpty(t.logStart)?t.logStart=s[0].index:t.logStart>s[0].index&&(t.logStart=s[0].index),coos.isEmpty(t.logEnd)?t.logEnd=s[s.length-1].index:t.logEnd<s[s.length-1].index&&(t.logEnd=s[s.length-1].index),0==t.logs.length))for(var n=0;n<t.logStart;n++)t.logs.push({line:null,index:n,show:!1});s.forEach(function(e,o){t.logs[e.index]?(t.logs[e.index].show=!0,t.logs[e.index].line=e.line):(e.show=!0,t.logs.push(e))})}e.isloadold||window.setTimeout(function(){source.loadStarterLog()},r)}},source.onStarterStatus=function(e){e=e||{};var t=source.getStarter(e.token);null!=t&&(t.status=e.status,t.starter_timestamp=e.starter_timestamp,t.now_timestamp=e.now_timestamp),window.setTimeout(function(){source.loadStarterStatus()},1e3)},source.starterStart=function(e,t){source.do("STARTER_START",{path:e,option:t}).then(function(e){0==e.errcode?(coos.success("启动命令提交成功！"),source.load("STARTERS")):coos.error(e.errmsg)})}}();source;source.repository.runner_options=[],source.repository.runner_show=!1,source.repository.runners=[],source.repository.runnerActive="0",function(){var e=!1;source.loadRunnerStatus=function(){if(!e)if(e=!0,source.repository.runner_show){var t=source.getRunner(source.repository.runnerActive);null!=t&&"0"!=t.token?(source.load("TERMINAL_STATUS",{token:t.token}),e=!1):window.setTimeout(function(){e=!1,source.loadRunnerStatus()},1e3)}else window.setTimeout(function(){e=!1,source.loadRunnerStatus()},1e3)};var t=!1;source.loadRunnerLog=function(){if(!t)if(t=!0,source.repository.runner_show){var e=source.getRunner(source.repository.runnerActive);if(null!=e){var o={token:e.token};o.lastIndex=e.lastIndex,o.lastLine=e.lastLine,source.load("TERMINAL_LOG",o),t=!1}else window.setTimeout(function(){t=!1,source.loadRunnerLog()},1e3)}else window.setTimeout(function(){t=!1,source.loadRunnerLog()},1e3)},source.loadRunnerStatus(),source.loadRunnerLog(),source.startRunner=function(e){"0"!=e.token&&source.do("TERMINAL_START",{token:e.token}).then(function(){})},source.stopRunner=function(e){"0"!=e.token&&source.do("TERMINAL_STOP",{token:e.token}).then(function(){})},source.destroyRunner=function(e){"0"!=e.token&&source.do("TERMINAL_DESTROY",{token:e.token}).then(function(){})},source.removeRunner=function(e){"0"!=e.token&&source.do("TERMINAL_REMOVE",{token:e.token}).then(function(){})},source.cleanRunnerLog=function(e){source.do("TERMINAL_LOG_CLEAN",{token:e.token}).then(function(){delete e.lastIndex,delete e.lastLine,coos.trimList(e.logs)})},source.openRunnerBox=function(){source.repository.runner_show=!0},source.closeRunnerBox=function(){source.repository.runner_show=!1},source.onRunOptions=function(e){e=e||[],coos.trimList(source.repository.run_options),e.forEach(function(e){source.repository.run_options.push(e)})},source.onRunners=function(e){e=e||[],0==source.repository.runners.length&&source.repository.runners.push({text:"库控制台信息",token:"0",logs:[],status:null,option:null}),e.forEach(function(e){var t=source.getRunner(e.token);null==t?(e.logs=[],e.text=""+e.token,e.option&&(e.text=""+e.option.name),source.repository.runners.push(e)):b()(t,e)});var t=[];source.repository.runners.forEach(function(o){if("0"!=o.token){var r=null;e.forEach(function(e){o.token==e.token&&(r=e)}),null==r&&t.push(o)}}),t.forEach(function(e){source.repository.runners.splice(source.repository.runners.indexOf(e),1)}),null==source.getRunner(source.repository.runnerActive)&&(source.repository.runners.length>0?source.repository.runnerActive=source.repository.runners[0].token:source.repository.runnerActive=null)},source.getRunner=function(e){var t=null;return source.repository.runners.forEach(function(o){o.token==e&&(t=o)}),t},source.onRunnerLog=function(e){e=e||{};var t=source.getRunner(e.token),o=1e3;null!=t&&(coos.isEmpty(e.lastLine)?o=1e3:(o=200,t.lastIndex=e.lastIndex,t.lastLine=e.lastLine),(e.lines||[]).forEach(function(e){var o={};if(o.msg=e,e&&e.indexOf(">>] [<<")>0){var r=e.split(">>] [<<");r.length>0&&(o.time=r[0].replace(">>]","").replace("[<<","")),r.length>1&&(o.thread=r[1].replace(">>]","").replace("[<<","")),r.length>2&&(o.level=r[2].replace(">>]","").replace("[<<","")),r.length>3&&(o.msg=r[3].replace(">>]","").replace("[<<",""))}t.logs.push(o)}));window.setTimeout(function(){source.loadRunnerLog()},o)},source.onRunnerStatus=function(e){e=e||{};var t=source.getRunner(e.token);null!=t&&(t.status=e.status),window.setTimeout(function(){source.loadRunnerStatus()},1e3)},source.runStart=function(e,t){source.do("TERMINAL_START",{path:e,option:t})}}();source;source.onApp=function(e){if(null!=e){var t=source.getProjectByPath(e.path);null!=t&&(null==t.app?t.app=e.app:_()(t.app).forEach(function(o){coos.isObject(e.app[o])&&(null==t.app[o]&&(t.app[o]={}),_()(e.app[o]).forEach(function(r){t.app[o][r]=e.app[o][r]}))}))}},source.loadApp=function(e){source.load("APP",{path:e.path})},source.appGenerateSourceCode=function(e){source.do("APP_GENERATE_SOURCE_CODE",{path:e.path}).then(function(t){0==t.errcode?(coos.success("生成成功！"),source.reloadProject(e).then(function(e){source.loadGitStatus()})):coos.error(t.errmsg)})};source;source.repository.branchs=[],source.repository.projects=[],source.repository.fullscreen=!1,function(){source.fullScreen=function(){source.repository.fullscreen=!0},source.fullScreenExit=function(){source.repository.fullscreen=!1};var e=["src/main/java","src/main/resources","src/main/webapp"];source.loadRepository=function(){source.repository.loading=!0,source.load("REPOSITORY")},source.onRepositoryStatus=function(e){coos.isEmpty(e)?(source.repository.loading=!1,source.repository.loading_msg=""):(source.repository.loading=!0,source.repository.loading_msg=e)},source.onRunnerOptions=function(e){e=e||[],coos.trimList(source.repository.runner_options),e.forEach(function(e){source.repository.runner_options.push(e)})},source.onLoadRepository=function(t){source.repository.loading=!1,coos.trimList(source.repository.branchs),coos.trimList(source.repository.projects),coos.trimList(source.repository.starters),coos.trimList(source.repository.runners),coos.trimList(source.repository.opens),coos.trimList(source.repository.open_files),source.load("ENVIRONMENTS"),source.load("STARTER_OPTIONS"),source.load("STARTERS"),source.load("RUNNER_OPTIONS"),source.load("RUNNER_SERVERS"),t.branchs&&t.branchs.forEach(function(e){source.repository.branchs.push(e)}),t.projects&&t.projects.forEach(function(t){source.formatFile(t),t.isProject=!0,t.loading=!0,t.root&&(t.name=source.space.name),t.deletes=[],t.files=[],t.maven&&"pom"!=t.packaging&&(t.format_folders=e),source.repository.projects.push(t),source.reloadProject(t)}),t.starters&&t.starters.forEach(function(e){source.repository.starters.push(e)}),t.runners&&t.runners.forEach(function(e){source.repository.runners.push(e)}),t.opens&&t.opens.forEach(function(e){source.repository.opens.push(e),source.openFileByPath(e.path)}),source.onLoadGit(t.git)}}();source;source.loadSession=function(){source.load("SESSION").then(function(e){})},source.ready=function(){return new n.a(function(e,t){source.readyed?e&&e():source.server.session().then(function(){source.readyed=!0,source.loadSession(),source.websocket.open(),e&&e()})})},source.validate=function(){source.do("VALIDATE",{})},source.onValidate=function(){window.setTimeout(function(){source.validate()},1e4)},source.doLogout=function(){source.do("LOGOUT").then(function(e){0==e.errcode?(coos.info("退出成功！"),window.setTimeout(function(){source.loadSession()},300)):coos.error(e.errmsg)})};source;r.a.service=v;t.a=r.a},TsJo:function(e,t,o){"use strict";var r=o("woOf"),s=o.n(r),n=o("//Fk"),a=o.n(n),i={components:{},data:function(){return{title:"用户偏好设置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{fontsize:13},form_rules:{}}},methods:{show:function(){var e=source.preference||{};return this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in this.form.fontsize=13,e)this.form[o]=e[o];return new a.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),source.do("PREFERENCE",{id:source.LOGIN_USER.id,option:o}).then(function(e){0==e.errcode?(coos.success("修改成功！"),s()(source.preference,o),source.changePreference()):coos.error(e.errmsg)}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"编辑器字体大小",prop:"fontsize"}},[o("el-input-number",{attrs:{min:1,max:50},model:{value:e.form.fontsize,callback:function(t){e.$set(e.form,"fontsize",t)},expression:"form.fontsize"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(i,c,!1,function(e){o("67hB")},"data-v-43f65006",null);t.a=l.exports},U9SE:function(e,t){},"VTR+":function(e,t){},YaEn:function(e,t,o){"use strict";var r=o("7+uW"),s=o("/ocq"),n={name:"IndexIndex",data:function(){return{source:source}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coos-jumbotron"},[o("h1",{staticClass:"color-lime pdb-20"},[e._v("COOS IDE 应用在线开发平台")]),e._v(" "),o("p",[e._v("开发者可以在线建库、建表、可视化编辑页面、编辑服务、在线预览、导出工程的")]),e._v(" "),o("p",[e._v("COOS应用开发平台，致力于应用的自动开发，最大程度减少开发者编码，提高应用开发效率")]),e._v(" "),e.source.isLogin?e._e():o("p",[e._v("\n    现在\n    "),o("a",{staticClass:"coos-link color-green pdlr-10",on:{click:function(t){return e.toLogin()}}},[e._v("登录")]),e._v("\n    开发者平台，在线开发您的应用吧！\n  ")]),e._v(" "),e.source.isLogin?o("p",[null==e.source.LOGIN_USER.space?[e._v("暂无空间数据，请联系管理员。")]:[e._v("\n      您可以点击\n      "),o("a",{staticClass:"coos-link color-green pdlr-10",attrs:{href:e.app.getSpaceUrl(e.source.LOGIN_USER.space)}},[e._v("我的应用中心")]),e._v("管理您的应用。\n    ")]],2):e._e()])},staticRenderFns:[]};var i=o("VU/8")(n,a,!1,function(e){o("/S2F")},"data-v-58fd50a1",null).exports,c={name:"Header",data:function(){return{source:source}},props:["list"],beforeMount:function(){},watch:{},methods:{star:function(e){source.do("SPACE_STAR_INSERT",{spaceid:e.id,userid:source.LOGIN_USER.id}).then(function(t){e.login_user_star=!0})},unstar:function(e){source.do("SPACE_STAR_DELETE",{spaceid:e.id,userid:source.LOGIN_USER.id}).then(function(t){e.login_user_star=!1})}},computed:{},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"coos-list pdtb-20"},[null!=e.list?[0==e.list.length?o("li",[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("暂无仓库数据")])]):e._e(),e._v(" "),e._l(e.list,function(t,r){return o("li",{key:r,staticStyle:{"border-bottom":"1px solid #ddd"}},[o("div",{staticClass:"coos-item"},[o("div",{staticClass:"coos-index"},[e._v(e._s(t.name.substring(0,1).toUpperCase()))]),e._v(" "),o("div",{staticClass:"coos-content"},[o("div",{},[o("a",{staticClass:"coos-link color-green ft-16",attrs:{href:e.app.getSpaceUrl(t)}},[e._v(e._s(t.name))]),e._v(" "),o("a",{staticClass:"color-grey mgl-10"},["ORGANIZATIONS"==t.type?o("i",{staticClass:"coos-icon coos-icon-cluster ft-14",attrs:{title:"组织"}}):e._e(),e._v(" "),"ENTERPRISES"==t.type?o("i",{staticClass:"coos-icon coos-icon-deploymentunit ft-14",attrs:{title:"企业"}}):e._e(),e._v(" "),"PRODUCTS"==t.type?o("i",{staticClass:"coos-icon coos-icon-appstore ft-14",attrs:{title:"产品"}}):e._e(),e._v(" "),"REPOSITORYS"==t.type?o("i",{staticClass:"coos-icon coos-icon-code ft-14",attrs:{title:"仓库"}}):e._e()])]),e._v(" "),o("div",{staticClass:"ft-14"},[e._v(e._s(e.coos.isEmpty(t.comment)?"暂无描述":t.comment))])]),e._v(" "),o("div",{staticClass:"coos-flex-right"},["MASTER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"管理员权限"}},[o("i",{staticClass:"coos-icon coos-icon-manager"})]):e._e(),e._v(" "),"DEVELOPER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"开发权限"}},[o("i",{staticClass:"coos-icon coos-icon-code"})]):e._e(),e._v(" "),"VIEWER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"只读权限"}},[o("i",{staticClass:"coos-icon coos-icon-eye"})]):e._e(),e._v(" "),"PRIVATE"==t.publictype?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"私人"}},[o("i",{staticClass:"coos-icon coos-icon-lock"})]):e._e(),e._v(" "),"OPEN"==t.publictype?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"开放"}},[o("i",{staticClass:"coos-icon coos-icon-unlock"})]):e._e(),e._v(" "),t.login_user_star?o("a",{staticClass:"mgl-5 color-orange coos-pointer",attrs:{title:"去除星标"},on:{click:function(o){return e.unstar(t)}}},[o("i",{staticClass:"coos-icon coos-icon-star-fill"})]):o("a",{staticClass:"mgl-5 color-orange coos-pointer",attrs:{title:"星标"},on:{click:function(o){return e.star(t)}}},[o("i",{staticClass:"coos-icon coos-icon-star"})])])])])})]:e._e()],2)},staticRenderFns:[]};var u=o("VU/8")(c,l,!1,function(e){o("LF8Y")},"data-v-2c8aff08",null).exports,f={name:"SpaceIndex",components:{SpaceList:u},data:function(){return{source:source}},methods:{loadVisibleSpaces:function(e){var t={pagesize:5,pageindex:e};source.load("VISIBLE_SPACES",t)},toSpaceCreate:function(){this.$router.push("/space/create")}},mounted:function(){this.loadVisibleSpaces(0)}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row"},[o("div",{staticClass:"float-right"},[o("a",{staticClass:"coos-link color-green",class:{"coos-disabled":!e.source.space||"MASTER"!=e.source.space.permission},on:{click:function(t){return e.toSpaceCreate()}}},[e._v("新建仓库")])])]),e._v(" "),null==e.source.data.VISIBLE_SPACES?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("仓库数据加载中...")])]:[null!=e.source.data.VISIBLE_SPACES.list?[o("SpaceList",{attrs:{list:e.source.data.VISIBLE_SPACES.list}}),e._v(" "),e.source.data.VISIBLE_SPACES.hasNext?[o("div",{staticClass:"text-center pd-10"},[o("a",{staticClass:"coos-link pdlr-10 color-green",on:{click:function(t){return e.loadVisibleSpaces()}}},[e._v("加载更多数据")])])]:e._e(),e._v(" "),!e.source.data.VISIBLE_SPACES.hasNext&&e.source.data.VISIBLE_SPACES.list.length>0?[o("div",{staticClass:"text-center pd-10 color-grey"},[e._v("暂无更多数据")])]:e._e()]:e._e()]],2)},staticRenderFns:[]};var m={name:"RepositoryIndex",components:{},data:function(){return{source:source}}},d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{})},staticRenderFns:[]};var v={name:"Index",components:{IndexIndex:i,SpaceIndex:o("VU/8")(f,p,!1,function(e){o("1JTz")},"data-v-41514b42",null).exports,RepositoryIndex:o("VU/8")(m,d,!1,function(e){o("+vPR")},"data-v-58f31944",null).exports},data:function(){return{source:source}}},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[null==e.source.space?[null!=e.source.NOT_PERMISSION?[o("div",{staticClass:"font-lg color-orange text-center pd-50"},[e._v("暂无访问该仓库的权限，请联系仓库管理员！")])]:e._e(),e._v(" "),null!=e.source.NOT_FOUND_SPACE?[o("div",{staticClass:"font-lg color-orange text-center pd-50"},[e._v("仓库不存在，请检查输入的仓库名称是否正确！")])]:[null==e.source.SPACE_TYPE?[o("IndexIndex")]:[o("SpaceIndex")]]]:["REPOSITORYS"==e.source.SPACE_TYPE?[o("RepositoryIndex")]:[o("SpaceIndex")]]],2)},staticRenderFns:[]};var _=o("VU/8")(v,h,!1,function(e){o("zxm+")},"data-v-38a73d21",null).exports,g=o("K1Fe"),b={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page space-event-page"},[o("ul",{staticClass:"coos-list pdtb-20"},[null==e.list?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("数据加载中...")])]:[0==e.list.length?o("li",[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("暂无数据！")])]):e._e(),e._v(" "),o("div",{staticClass:"block"},[o("el-timeline",e._l(e.list,function(t,r){return o("el-timeline-item",{key:r,attrs:{timestamp:t.date,placement:"top"}},e._l(t.list,function(t,s){return o("el-card",{key:r+"-"+s,staticClass:"mgb-10"},[o("h4",{staticClass:"pdb-5"},[o("span",{staticClass:"color-orange"},[e._v(e._s(t.name))])]),e._v(" "),o("p",{staticClass:"font-xs"},["SPACE_CREATE"==t.type||"SPACE_UPDATE"==t.type||"SPACE_DELETE"==t.type?[e._v("\n                  仓库\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.name))])]:e._e(),e._v(" "),"BRANCH_CREATE"==t.type?[e._v("\n                  新建版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))]),e._v("\n                  ，复制版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.frombranch))])]:e._e(),e._v(" "),"FILE_CREATE"==t.type||"FILE_DELETE"==t.type||"FILE_SAVE"==t.type||"FILE_RENAME"==t.type?[e._v("\n                  文件路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))])]:e._e(),e._v(" "),"MAVEN_CLEAN"==t.type||"MAVEN_DEPLOY"==t.type||"MAVEN_INSTALL"==t.type||"MAVEN_PACKAGE"==t.type||"MAVEN_COMPILE"==t.type?[e._v("\n                  项目路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))])]:e._e(),e._v(" "),"GIT_BRANCH_CREATE"==t.type||"GIT_BRANCH_DELETE"==t.type?[e._v("\n                  Git版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))])]:e._e(),e._v(" "),"GIT_BRANCH_RENAME"==t.type?[e._v("\n                  老版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.oldbranch))]),e._v("\n                  ，新版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.newbranch))])]:e._e(),e._v(" "),"GIT_CHECKOUT"==t.type?[e._v("\n                  检出版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))])]:e._e(),e._v(" "),"GIT_CLONE"==t.type?[e._v("\n                  地址\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.url))]),e._v("\n                  ，远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，远程版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branch))])]:e._e(),e._v(" "),"GIT_PULL"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，远程版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remotebranch))])]:e._e(),e._v(" "),"GIT_PUSH"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，远程版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remotebranch))]),e._v("\n                  ，本地版本\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.branchname))]),e._v("\n                  ，备注\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.message))])]:e._e(),e._v(" "),"GIT_REVERT"==t.type?[e._v("\n                  路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.paths))])]:e._e(),e._v(" "),"GIT_REMOTE_ADD"==t.type||"GIT_REMOTE_REMOVE"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))])]:e._e(),e._v(" "),"GIT_REMOTE_SETURL"==t.type?[e._v("\n                  远程名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.remote))]),e._v("\n                  ，地址\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.url))])]:e._e(),e._v(" "),"SET_RUN_OPTION"==t.type||"SET_RUNNER_OPTION"==t.type?[e._v("\n                  路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))]),e._v("\n                  ，配置\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.option))])]:e._e(),e._v(" "),"DELETE_RUN_OPTION"==t.type||"DELETE_RUNNER_OPTION"==t.type?[e._v("\n                  路径\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.path))])]:e._e(),e._v(" "),"SPACE_TEAM_INSERT"==t.type||"SPACE_TEAM_UPDATE"==t.type||"SPACE_TEAM_DELETE"==t.type?[e._v("\n                  成员名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.id))]),e._v("\n                  ，成员类型\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.type))])]:e._e(),e._v(" "),"RUNNER_SERVER_SAVE"==t.type||"RUNNER_SERVER_DELETE"==t.type?[e._v("\n                  部署远程服务器名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.name))]),e._v("\n                  ，部署远程服务器信息\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data))])]:e._e(),e._v(" "),"RUNNER_CLIENT_SAVE"==t.type||"RUNNER_CLIENT_DELETE"==t.type?[e._v("\n                  部署客户端名称\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data.name))]),e._v("\n                  ，部署客户端信息\n                  "),o("span",{staticClass:"color-green"},[e._v(e._s(t.data))])]:e._e()],2),e._v(" "),o("p",{staticClass:"mgt-5"},[null!=t.user?[o("span",{staticClass:"color-green pdr-5"},[e._v(e._s(t.user.name))])]:e._e(),e._v("\n                执行与\n                "),o("span",{staticClass:"coos-grey pdlr-5"},[e._v(e._s(t.datetime))])],2)])}),1)}),1)],1)]],2)])},staticRenderFns:[]};var E=function(e){o("oIDY")},y=o("VU/8")(g.a,b,!1,E,null,null).exports,x={name:"TeamIndex",data:function(){return{source:source}},methods:{doDelete:function(e){var t=this;coos.confirm("确定删除该成员？").then(function(){source.do("SPACE_TEAM_DELETE",{id:e.id}).then(function(e){0==e.errcode?(coos.success("删除成功！"),t.loadSpaceTeams(1)):coos.error(e.errmsg)})}).catch(function(){})},loadSpaceTeams:function(e){var t={pagesize:100,pageindex:e};source.load("SPACE_TEAMS",t)}},mounted:function(){this.loadSpaceTeams(1)}},C={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("ul",{staticClass:"coos-list pdtb-20"},[null==e.source.data.SPACE_TEAMS?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("成员数据加载中...")])]:[0==e.source.data.SPACE_TEAMS.list.length?o("li",[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("\n          暂无成员数据\n          "),e.app.hasPermission("MANAGER_TEAM")?[e._v("\n            ，可以点击\n            "),o("router-link",{attrs:{to:"/team/form"}},[o("a",{staticClass:"coos-link pdlr-10 color-green"},[e._v("添加成员")])]),e._v("！\n          ")]:e._e()],2)]):o("li",[o("div",{staticClass:"coos-item"},[o("div",{staticClass:"coos-content"}),e._v(" "),o("div",{staticClass:"coos-flex-right"},[e.app.hasPermission("MANAGER_TEAM")?[o("router-link",{attrs:{to:"/team/form"}},[o("a",{staticClass:"coos-link color-green mgl-5",attrs:{title:"添加人员"}},[o("i",{staticClass:"coos-icon coos-icon-addteam"}),e._v(" 添加成员\n                ")])])]:e._e()],2)])]),e._v(" "),e._l(e.source.data.SPACE_TEAMS.list,function(t,r){return o("li",{key:r,staticStyle:{"border-bottom":"1px solid #ddd"}},[o("div",{staticClass:"coos-item"},[o("div",{staticClass:"coos-index"},["USERS"==t.type?o("i",{staticClass:"coos-icon coos-icon-user font-md",attrs:{title:"用户"}}):e._e()]),e._v(" "),o("div",{staticClass:"coos-content"},[o("div",{},[t.data?o("span",{staticClass:"color-green font-md"},[e._v(e._s(t.data.name))]):e._e()])]),e._v(" "),o("div",{staticClass:"coos-flex-right"},["MASTER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"管理员权限"}},[o("i",{staticClass:"coos-icon coos-icon-manager"})]):e._e(),e._v(" "),"DEVELOPER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"开发权限"}},[o("i",{staticClass:"coos-icon coos-icon-code"})]):e._e(),e._v(" "),"VIEWER"==t.permission?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"只读权限"}},[o("i",{staticClass:"coos-icon coos-icon-eye"})]):e._e(),e._v(" "),"PRIVATE"==t.publictype?o("a",{staticClass:"color-orange mgl-5",attrs:{title:"私人"}},[o("i",{staticClass:"coos-icon coos-icon-lock"})]):e._e(),e._v(" "),o("router-link",{attrs:{to:"/team/form?id="+t.id}},[e.app.hasPermission("MANAGER_TEAM")?o("a",{staticClass:"coos-link color-green mgl-5",attrs:{title:"修改"}},[o("i",{staticClass:"coos-icon coos-icon-edit"})]):e._e()]),e._v(" "),e.app.hasPermission("MANAGER_TEAM")?o("a",{staticClass:"coos-link color-red mgl-5",attrs:{title:"删除"},on:{click:function(o){return e.doDelete(t)}}},[o("i",{staticClass:"coos-icon coos-icon-delete"})]):e._e()],1)])])})]],2)])},staticRenderFns:[]};var w=o("VU/8")(x,C,!1,function(e){o("5/Jf")},"data-v-58f148e9",null).exports,R={name:"TeamForm",data:function(){return{source:source,teams:[],itemrecordids:[],form:{type:"USERS",permission:"MASTER"},records:[],rules:{type:[{required:!0,message:"请选择成员来源",trigger:"blur"}],recordid:[{required:!0,message:"请选择成员",trigger:"blur"}],permission:[{required:!0,message:"请选择权限",trigger:"blur"}]}}},methods:{goBack:function(){this.$router.go(-1)},typeChange:function(){this.loadRecords(this.form.type)},loadRecords:function(e){var t=this;if("USERS"==e){source.load("USERS",{pagesize:1e3,pageindex:1}).then(function(e){t.records=e.value||[]})}else this.records=[]},doSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return coos.error("请正确填写表单！"),!1;t.form.spaceid=t.source.spaceid,t.form.id?source.do("SPACE_TEAM_UPDATE",t.form).then(function(e){0==e.errcode?(coos.success("修改成功！"),t.$router.go(-1)):coos.error(e.errmsg)}):source.do("SPACE_TEAM_INSERT",t.form).then(function(e){0==e.errcode?(coos.success("新增成功！"),t.$router.go(-1)):coos.error(e.errmsg)})})},loadSpaceTeams:function(e){var t=this,o={pagesize:1e3,pageindex:e};source.load("SPACE_TEAMS",o).then(function(e){(e.value||[]).forEach(function(e){t.teams.push(e),t.itemrecordids.push(e.recordid)})})}},mounted:function(){var e=this;this.loadSpaceTeams(1);var t=this.$route.query.id;t?source.get("SPACE_TEAM",t).then(function(t){t&&(e.form=t),e.typeChange()}):this.typeChange()}},S={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coos-form app-min-page"},[o("div",{staticClass:"title font-md pdb-20"},[o("span",[e._v(e._s(e.form.id?"编辑成员":"添加成员"))])]),e._v(" "),o("div",{staticClass:"form"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"100px"}},[o("el-form-item",{attrs:{label:"成员来源",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.typeChange(t)}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.source.ENUM_MAP.SPACE_TEAM_TYPE,function(e){return o("el-option",{key:e.value,attrs:{label:e.text,value:e.value,disabled:"USERS"!=e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"成员",prop:"recordid"}},[o("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.recordid,callback:function(t){e.$set(e.form,"recordid",t)},expression:"form.recordid"}},e._l(e.records,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id,disabled:e.itemrecordids.indexOf(t.id)>=0}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"权限",prop:"permission"}},[o("el-radio-group",{model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}},e._l(e.source.ENUM_MAP.SPACE_PERMISSION,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSubmit("form")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)])},staticRenderFns:[]};var k=o("VU/8")(R,S,!1,function(e){o("LuP5")},"data-v-01e0f38c",null).exports,T={name:"OptionIndex",data:function(){return{activeName:"1",form:{},form_rules:{}}},methods:{del:function(){coos.confirm("此操作无法恢复！确定删除？").then(function(){source.do("SPACE_DELETE",{id:source.spaceid}).then(function(e){0==e.errcode?(coos.success("删除成功！"),app.toSpace(source.LOGIN_USER.space)):coos.error(e.errmsg)})}).catch(function(){})},update:function(){source.do("SPACE_UPDATE",{id:source.space.id,publictype:source.space.publictype,comment:source.space.comment}).then(function(e){0==e.errcode?(coos.success("修改成功！"),location.reload()):coos.error(e.errmsg)})},rename:function(){source.do("SPACE_RENAME",{id:source.space.id,name:source.space.name}).then(function(e){if(0==e.errcode){coos.success("修改成功！");var t=location.href;t.indexOf("#")>0&&(t=t.substring(0,t.indexOf("#"))),t.lastIndexOf("/")>0&&(t=t.substring(0,t.lastIndexOf("/"))),t=t+"/"+source.space.name,coos.toURL(t)}else coos.error(e.errmsg)})}}},A={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[null!=e.source.space?o("el-collapse",{staticClass:"bd",attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-collapse-item",{attrs:{title:"",name:"1"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-grey pdlr-10"},[e._v("\n          基本设置\n          "),o("i",{staticClass:"coos-icon coos-icon-setting"})])]),e._v(" "),o("div",{staticClass:"pd-10"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules}},[o("el-form-item",{attrs:{label:"开放类型",prop:"publictype"}},[o("el-radio-group",{model:{value:e.source.space.publictype,callback:function(t){e.$set(e.source.space,"publictype",t)},expression:"source.space.publictype"}},e._l(e.source.ENUM_MAP.PUBLIC_TYPE,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"描述",prop:"comment"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.source.space.comment,callback:function(t){e.$set(e.source.space,"comment",t)},expression:"source.space.comment"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-btn bg-green",on:{click:e.update}},[e._v("保存")])],1)],2),e._v(" "),o("el-collapse-item",{attrs:{name:"2"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-orange pdlr-10"},[e._v("重命名")])]),e._v(" "),o("div",{staticClass:"pd-10"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{autocomplete:"off",rows:5},model:{value:e.source.space.name,callback:function(t){e.$set(e.source.space,"name",t)},expression:"source.space.name"}})],1)],1),e._v(" "),o("div",{staticClass:"coos-btn bg-green",on:{click:e.rename}},[e._v("保存")])],1)],2),e._v(" "),o("el-collapse-item",{attrs:{name:"3"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-orange pdlr-10"},[e._v("\n          转移\n          "),o("i",{staticClass:"coos-icon coos-icon-drag"})])]),e._v(" "),o("div",{staticClass:"pd-10"},[e._v("转移")])],2),e._v(" "),o("el-collapse-item",{attrs:{name:"4"}},[o("template",{slot:"title"},[o("span",{staticClass:"color-red pdlr-10"},[e._v("\n          删除\n          "),o("i",{staticClass:"coos-icon coos-icon-delete"})])]),e._v(" "),o("div",{staticClass:"pd-10"},[o("div",{staticClass:"color-red pd-10 bd bd-red mgb-10"},[e._v("删除空间，将物理删除该空间所有数据！")]),e._v(" "),o("div",{staticClass:"color-red pd-10 bd bd-red mgb-10"},[e._v("此操作无法恢复！请慎重操作！")]),e._v(" "),o("div",{staticClass:"coos-btn bg-red",on:{click:e.del}},[e._v("删除")])])],2)],1):e._e()],1)},staticRenderFns:[]};var N=o("VU/8")(T,A,!1,function(e){o("F9Gv")},"data-v-5f639f3d",null).exports,I={name:"SpaceForm",data:function(){return{parents:[],source:source,form:{name:"",parentid:"",type:"REPOSITORYS",publictype:"OPEN",comment:""},records:[],rules:{name:[{required:!0,message:"请输入仓库名称",trigger:"blur"},{pattern:/^(?!_)(?!.*?_$)(?!\.)(?!.*?\.$)(?!-)(?!.*?-$)[a-zA-Z0-9_\.\-]{1,20}$/,message:"1-20个字符，可包含字母、数字、下划线（_）、中划线（-）、英文点（.），不能以符号开头或结尾！"}],type:[{required:!0,message:"请选择仓库类型",trigger:"blur"}],publictype:[{required:!0,message:"请选择开放类型",trigger:"blur"}],parentid:[{required:!0,message:"请选择仓库归属",trigger:"blur"}]}}},methods:{goBack:function(){this.$router.go(-1)},parentChange:function(){},typeChange:function(){var e=this,t=this.form.type;this.parents=[],"REPOSITORYS"==t?(this.parents.push({id:null,servletpath:"请选择",type:""}),this.master_spaces.forEach(function(t){"REPOSITORYS"!=t.type&&e.parents.push(t)})):"ORGANIZATIONS"==t?(this.parents.push({id:null,servletpath:"/organizations",type:"ORGANIZATIONS"}),this.master_spaces.forEach(function(t){"ORGANIZATIONS"!=t.type&&"ENTERPRISES"!=t.type||e.parents.push(t)})):"PRODUCTS"==t?(this.parents.push({id:null,servletpath:"/products",type:"PRODUCTS"}),this.master_spaces.forEach(function(t){"ORGANIZATIONS"!=t.type&&"ENTERPRISES"!=t.type&&"PRODUCTS"!=t.type||e.parents.push(t)})):"ENTERPRISES"==t&&this.parents.push({id:null,servletpath:"/enterprises",type:"ENTERPRISES"});var o=!1;this.parents.forEach(function(t){t.id==e.form.parentid&&(o=!0)}),o||(this.form.parentid=null),this.source.space&&this.parents.forEach(function(t){t.id==e.source.space.id&&(e.form.parentid=t.id)})},doSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return coos.error("请正确填写表单！"),!1;t.form.id?source.do("SPACE_UPDATE",t.form).then(function(e){0==e.errcode?(coos.success("修改成功！"),t.$router.go(-1)):coos.error(e.errmsg)}):source.do("SPACE_CREATE",t.form).then(function(e){0==e.errcode?(coos.success("新增成功！"),t.$router.go(-1)):coos.error(e.errmsg)})})}},mounted:function(){var e=this;this.master_spaces=[],this.typeChange();this.$route.query.id;source.load("MASTER_SPACES",{pagesize:1e3,pageindex:1}).then(function(t){coos.trimArray(e.master_spaces),t.value=t.value||[],t.value.forEach(function(t){e.master_spaces.push(t)}),e.typeChange()})}},O={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"coos-form app-min-page"},[o("div",{staticClass:"title font-md pdb-20"},[o("span",[e._v(e._s(e.form.id?"编辑仓库":"新建仓库"))])]),e._v(" "),o("div",{staticClass:"form"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{placeholder:"1-20个字符，可包含字母、数字、下划线（_）、中划线（-）、英文点（.），不能以符号开头或结尾！"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.parents.length>0,expression:"parents.length > 0"}],attrs:{label:"归属",prop:e.parents.length>0?"parentid":""}},[o("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.parentChange(t)}},model:{value:e.form.parentid,callback:function(t){e.$set(e.form,"parentid",t)},expression:"form.parentid"}},e._l(e.parents,function(t){return o("el-option",{key:t.id,attrs:{value:t.id,label:t.servletpath}},[e._v("\n            "+e._s(t.servletpath)+"\n            "),e._l(e.source.ENUM_MAP.SPACE_TYPE,function(o){return[o.value==t.type?[e._v("（"+e._s(o.text)+"）")]:e._e()]})],2)}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"类型",prop:"type"}},[o("el-radio-group",{on:{change:function(t){return e.typeChange(t)}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.source.ENUM_MAP.SPACE_TYPE,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"USERS"!=t.value,expression:"one.value !='USERS' "}],key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"开放类型",prop:"publictype"}},[o("el-radio-group",{model:{value:e.form.publictype,callback:function(t){e.$set(e.form,"publictype",t)},expression:"form.publictype"}},e._l(e.source.ENUM_MAP.PUBLIC_TYPE,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"描述",prop:"comment"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSubmit("form")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)])},staticRenderFns:[]};var L=o("VU/8")(I,O,!1,function(e){o("CO+v")},"data-v-7923ba03",null).exports,P={name:"JoinIndex",components:{SpaceList:u},data:function(){return{source:source,spaces:null}},methods:{loadJoinSpaces:function(e){var t={pagesize:5,pageindex:e};source.load("JOIN_SPACES",t)}},mounted:function(){this.loadJoinSpaces(1)}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[null==e.source.data.JOIN_SPACES?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("仓库数据加载中...")])]:[null!=e.source.data.JOIN_SPACES.list?[o("SpaceList",{attrs:{list:e.source.data.JOIN_SPACES.list}}),e._v(" "),e.source.data.JOIN_SPACES.hasNext?[o("div",{staticClass:"text-center pd-10"},[o("a",{staticClass:"coos-link pdlr-10 color-green",on:{click:function(t){return e.loadJoinSpaces()}}},[e._v("加载更多数据")])])]:e._e(),e._v(" "),!e.source.data.JOIN_SPACES.hasNext&&e.source.data.JOIN_SPACES.list.length>0?[o("div",{staticClass:"text-center pd-10 color-grey"},[e._v("暂无更多数据")])]:e._e()]:e._e()]],2)},staticRenderFns:[]};var $=o("VU/8")(P,F,!1,function(e){o("fEVU")},"data-v-f6a2fa6a",null).exports,U={name:"JoinIndex",components:{SpaceList:u},data:function(){return{source:source,spaces:null}},methods:{loadStarSpaces:function(e){var t={pagesize:5,pageindex:e};source.load("STAR_SPACES",t)}},mounted:function(){this.loadStarSpaces(1)}},M={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[null==e.source.data.STAR_SPACES?[o("div",{staticClass:"text-center pd-50 font-lg color-orange"},[e._v("仓库数据加载中...")])]:[null!=e.source.data.STAR_SPACES.list?[o("SpaceList",{attrs:{list:e.source.data.STAR_SPACES.list}}),e._v(" "),e.source.data.STAR_SPACES.hasNext?[o("div",{staticClass:"text-center pd-10"},[o("a",{staticClass:"coos-link pdlr-10 color-green",on:{click:function(t){return e.loadStarSpaces()}}},[e._v("加载更多数据")])])]:e._e(),e._v(" "),!e.source.data.STAR_SPACES.hasNext&&e.source.data.STAR_SPACES.list.length>0?[o("div",{staticClass:"text-center pd-10 color-grey"},[e._v("暂无更多数据")])]:e._e()]:e._e()]],2)},staticRenderFns:[]};var D=o("VU/8")(U,M,!1,function(e){o("twbZ")},"data-v-05f6b853",null).exports,G={name:"ConfigureIndex",data:function(){return{source:source,form:{openregister:source.CONFIGURE.openregister,defaultpassword:source.CONFIGURE.defaultpassword},rules:{defaultpassword:[{required:!0,message:"请输入默认密码！",trigger:"blur"}]}}},methods:{doSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;source.do("CONFIGURE_UPDATE",o).then(function(e){0==e.errcode?(coos.success("修改成功！"),source.load("CONFIGURE",{})):coos.error(e.errmsg)})})},init:function(){}},mounted:function(){this.init()}},z={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row pd-20"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"bd-0 bdb bdb-orange bdb-3 pd-10 color-orange"},[e._v("系统设置")]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"开启注册",prop:"name"}},[o("el-switch",{attrs:{type:"text"},model:{value:e.form.openregister,callback:function(t){e.$set(e.form,"openregister",t)},expression:"form.openregister"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"默认密码",prop:"defaultpassword"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.defaultpassword,callback:function(t){e.$set(e.form,"defaultpassword",t)},expression:"form.defaultpassword"}})],1),e._v(" "),o("el-form-item",[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.doSave()}}},[e._v("保存")])])],1)],1)])])},staticRenderFns:[]};var j=o("VU/8")(G,z,!1,function(e){o("oom9")},"data-v-22ac6655",null).exports,V=o("bOdI"),B=o.n(V),q={name:"EnvironmentIndex",data:function(){var e;return e={source:source,list:null,title:"编辑",labelWidth:"120px",size:"mini"},B()(e,"source",source),B()(e,"show_form",!1),B()(e,"form",{id:"",name:"",path:"",type:"",version:""}),B()(e,"form_rules",{name:[{required:!0,message:"请输入名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}],path:[{required:!0,message:"请填写路径",trigger:"blur"}],type:[{required:!0,message:"请选中类型",trigger:"blur"}]}),e},methods:{showForm:function(e){for(var t in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[t])?this.form[t]=[]:this.form[t]="";for(var t in e)this.form[t]=e[t]},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),coos.isEmpty(o.id)?source.do("ENVIRONMENT_CREATE",o).then(function(e){0==e.errcode?(coos.success("新增成功！"),source.load("ENVIRONMENTS",{})):coos.error(e.errmsg)}):source.do("ENVIRONMENT_UPDATE",o).then(function(e){0==e.errcode?(coos.success("修改成功！"),source.load("ENVIRONMENTS",{})):coos.error(e.errmsg)})})},formCancel:function(){this.hideForm()},toInsert:function(e){this.showForm(e)},toUpdate:function(e){this.showForm(e)},toDelete:function(e){coos.confirm("确定删除该记录？").then(function(t){source.do("ENVIRONMENT_DELETE",{id:e.id}).then(function(e){0==e.errcode?(coos.success("删除成功！"),source.load("ENVIRONMENTS",{})):coos.error(e.errmsg)})}).catch(function(){})},init:function(){source.load("ENVIRONMENTS",{})}},mounted:function(){this.init()}},W={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-min-page"},[o("div",{staticClass:"coos-row"},[o("h3",{staticClass:"pd-10 color-orange"},[e._v("环境配置")]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("div",{staticClass:"float-right"},[o("a",{staticClass:"coos-btn bg-green",on:{click:function(t){return e.toInsert()}}},[e._v("新增")])])]),e._v(" "),o("div",{staticClass:"coos-row pd-10"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.source.data.ENVIRONMENTS}},[o("el-table-column",{attrs:{prop:"name",label:"名称",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"version",label:"版本",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"path",label:"路径"}}),e._v(" "),o("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{staticClass:"coos-btn bg-green",on:{click:function(o){return e.toUpdate(t.row)}}},[e._v("修改")]),e._v(" "),o("a",{staticClass:"coos-btn bg-red",on:{click:function(o){return e.toDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"类型",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[o("el-option",{attrs:{label:"Java",value:"JAVA"}}),e._v(" "),o("el-option",{attrs:{label:"Tomcat",value:"TOMCAT"}}),e._v(" "),o("el-option",{attrs:{label:"Git",value:"GIT"}}),e._v(" "),o("el-option",{attrs:{label:"Maven",value:"MAVEN"}}),e._v(" "),o("el-option",{attrs:{label:"Node",value:"NODE"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"版本",prop:"version"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"路径",prop:"path"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var H=o("VU/8")(q,W,!1,function(e){o("JWTF")},"data-v-7c96703c",null).exports,J=s.a.prototype.push;s.a.prototype.push=function(e){return J.call(this,e).catch(function(e){return e})},r.default.use(s.a);t.a=new s.a({routes:[{path:"/",name:"Index",component:_},{path:"/configure",name:"ConfigureIndex",component:j},{path:"/environment",name:"EnvironmentIndex",component:H},{path:"/space/create",name:"SpaceCreate",component:L},{path:"/event",name:"EventIndex",component:y},{path:"/team",name:"TeamIndex",component:w},{path:"/team/form",name:"TeamForm",component:k},{path:"/option",name:"OptionIndex",component:N},{path:"/join",name:"JoinIndex",component:$},{path:"/star",name:"StarIndex",component:D}]})},Z30y:function(e,t,o){"use strict";(function(e){var o=window.app||new Object;window.app=o,o.hasPermission=function(e){var t=source.space.permission;return"MASTER"==t||!(!coos.isEmpty(e)&&"MANAGER_TEAM"==e)&&"DEVELOPER"==t},o.toSpace=function(e){var t=o.getSpacePath(e);coos.toURL(o.getURL(t))},o.toBranch=function(e){var t=o.getSpacePath(source.space);t+="/"+e,coos.toURL(o.getURL(t))},o.getSpaceUrl=function(e){var t=o.getSpacePath(e);return o.getURL(t)},o.getURL=function(e){return _ROOT_URL.endsWith("/")||e.startsWith("/")?_ROOT_URL+e:_ROOT_URL+"/"+e},o.getSpacePath=function(e){return e.servletpath},o.clipboardSelect=function(t){e("#coos-for-copy-area").remove();var o=document.createElement("textarea");o.id="coos-for-copy-area",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="2em",o.style.height="2em",o.style.padding="0",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.style.zIndex="-1",o.value=t,document.body.appendChild(o),o.select()},o.clipboardGet=function(t,o){if(t.clipboardData||t.originalEvent){var r=t.clipboardData||t.originalEvent.clipboardData;if(r.items){var s=r.items;s.length,t.preventDefault(),e(s).each(function(e,t){t.getAsString(function(e){o&&o(e)})})}}},o.autocomplete=function(e){var t=(e=e||{}).$input||e.input,o=e.datas||[];if(t){var r=window.jQuery;(t=r(t)).on("focus",function(e){r(this).autocomplete("instance")&&r(this).autocomplete("search")}),t.autocomplete(o,{source:o,minLength:0,focus:function(e,t){return!1},select:function(o,r){return e.onSelect?e.onSelect(r.item):(t.val(r.item.value),t.change()),!1}});var s=t.data("ui-autocomplete");s._renderItem_back=s._renderItem,s._renderItem=function(e,t){var o=t.text;t.html&&(o=t.html);var r=this._renderItem_back(e,t);return r.html(o),r};var n=t.autocomplete("widget");r(n).css("max-height",300),r(n).css("overflow-x","hidden"),r(n).css("overflow-y","auto"),r(n).addClass("coos-autocomplete")}},o.formDialog=function(t){t=t||{};var o=e('<el-form :model="form" ref="form" :rules="rules"/>');o.attr("label-width",t["label-width"]||"120px"),o.attr("size",t.size||"mini"),t.items=t.items||[];var r=t.data||{};t.items.forEach(function(t,s){var n=e("<el-form-item />");n.attr("label",t.label),n.attr("prop",t.name),n.attr("v-if",t["v-if"]);var a=e('<el-input type="text" autocomplete="off" />');if("textarea"==t.type)a=e('<el-input type="textarea" autocomplete="off" />');else if("switch"==t.type)a=e("<el-switch />"),r[t.name]=coos.isTrue(r[t.name]);else if("slider"==t.type)a=e('<el-slider autocomplete="off" />'),r[t.name]=coos.isTrue(r[t.name]);else if("select"==t.type){a=e('<el-select placeholder="请选择" ref="select" @visible-change="visibleChange" :filterable="true"/>');var i=e('<el-option :key="option.value" :value="option.value" :label="option.text" />');a.append(i),t.options=t.options||[],i.attr("v-for","option in items["+s+"].options")}else if("radio"==t.type){a=e("<el-radio-group />");var c=e('<el-radio :key="option.value" :label="option.value" >{{option.text}}</el-radio>');a.append(c),t.options=t.options||[],c.attr("v-for","option in items["+s+"].options")}else if("checkbox"==t.type){a=e("<el-checkbox-group />");var l=e('<el-checkbox :key="option.value" :label="option.value" >{{option.text}}</el-checkbox>');a.append(l),t.options=t.options||[],l.attr("v-for","option in items["+s+"].options")}a.attr("v-model","form."+t.name),a.attr("form-name",t.name),a.attr("v-on:change","change($event, '"+t.name+"')"),a.addClass(t["class-name"]),null==r[t.name]&&(r[t.name]=""),n.append(a),o.append(n)});var s=e('<div class=" " />');t["before-html"]&&s.append(t["before-html"]),s.append(o),t["after-html"]&&s.append(t["after-html"]),null==t.onClose&&(t.onClose=function(e){if(e&&!a.valid)return!1});var n=window.jQuery('<div class=" " />');n.append(s);var a=new Vue({el:s[0],data:function(){return{form:r,rules:t.rules||{},valid:!0,items:t.items}},methods:{change:function(e,t){this.validate()},validate:function(){var e=this;this.$refs.form.validate(function(t){e.valid=t})},visibleChange:function(t){var o=this;this.$refs.select&&this.$refs.select.$nextTick(function(){var t=o.$refs.select.popperElm;t&&e(t).css("z-index","100000")})}}});return n.find("textarea").css("max-height","150px").css("height","150px"),n.find("textarea").data("data",r),n.find("input").data("data",r),coos.confirm(n,t)},t.a=o}).call(t,o("7t+N"))},bzkO:function(e,t,o){"use strict";(function(e){var r=o("mvHQ"),s=o.n(r);t.a={components:{},props:["repository"],data:function(){return{defaultProps:{children:"files",label:"name"},searchText:null,toRename:!1,source:source}},beforeMount:function(){},watch:{searchText:function(e){this.searchRepository(e)}},methods:{reloadRepository:function(){source.loadRepository()},searchRepository:function(e){var t=this;if(this.$refs.tree.filter(e),coos.isEmpty(e)){var o=[];this.repository.open_folders.forEach(function(e){o.push(e)}),this.repository.open_folders.splice(0,this.repository.open_folders.length),o.forEach(function(e){t.repository.open_folders.push(e)})}},filterNode:function(e,t,o){return null==e||""==e?(o.expanded=!1,!0):(e=(""+e).toLowerCase(),-1!==o.data.name.toLowerCase().indexOf(e))},nodeContextmenu:function(e,t){var o=this;e=e||window.event;var r=[];if(t.isProject){r.push({header:"应用模型"});var s={text:"应用模型",menus:[]};r.push(s),s.menus.push({header:"应用模型"}),null!=t.app?(s.menus.push({text:"生成源码",onClick:function(){source.appGenerateSourceCode(t)}}),s.menus.push({text:"生成库表",onClick:function(){var e={};e.path=t.app.localpath,e.type="DATABASE",source.service.data.doTest(e).then(function(e){0==e.errcode?coos.success("库表创建成功！"):coos.error(e.errmsg)})}}),s.menus.push({text:"修改配置",onClick:function(){source.appOptionForm.show(t.path,t.app.option)}}),s.menus.push({text:"删除",onClick:function(){source.do("APP_DELETE_OPTION",{path:t.path})}})):s.menus.push({text:"配置",onClick:function(){source.appOptionForm.show(t.path)}}),r.push({header:"项目运行"});var n={text:"本地项目运行",menus:[]};r.push(n),n.menus.push({header:"本地项目运行"}),source.repository.starter_options.forEach(function(e){if(coos.isEmpty(e.path)&&coos.isEmpty(t.path)||e.path==t.path){var o={};coos.isEmpty(e.option)||(o=JSON.parse(e.option));var r={text:e.name,menus:[]};n.menus.push(r);var s=!1;source.repository.starters.forEach(function(t){t&&t.option&&t.option.name==e.name&&(s=!0)}),s?r.menus.push({text:"已运行，打开控制台",onClick:function(){source.openStarterBox()}}):r.menus.push({text:"运行",onClick:function(){source.starterStart(t.path,o)}}),r.menus.push({text:"修改配置",onClick:function(){source.starterForm.show(t.path,o)}}),r.menus.push({text:"删除配置",onClick:function(){source.do("DELETE_STARTER_OPTION",{path:t.path,option:o}).then(function(e){source.load("STARTER_OPTIONS")})}})}}),n.menus.push({text:"添加配置",onClick:function(){source.starterForm.show(t.path)}});var a={text:"部署服务器",menus:[]};if(r.push(a),a.menus.push({header:"项目部署"}),source.repository.runner_options.forEach(function(e){if(coos.isEmpty(e.path)&&coos.isEmpty(t.path)||e.path==t.path){var o={};coos.isEmpty(e.option)||(o=JSON.parse(e.option));var r={text:e.name,menus:[]};a.menus.push(r),r.menus.push({text:"运行",onClick:function(){}}),r.menus.push({text:"修改配置",onClick:function(){source.runnerForm.show(t.path,o)}}),r.menus.push({text:"删除配置",onClick:function(){source.do("DELETE_RUNNER_OPTION",{path:t.path,option:o}).then(function(e){source.load("RUNNER_OPTIONS")})}})}}),a.menus.push({text:"添加配置",onClick:function(){source.runnerForm.show(t.path)}}),t.isMaven){var i=[];r.push({text:"MAVEN",menus:i}),i.push({text:"clean",onClick:function(){source.mavenClean(t)}}),i.push({text:"compile",onClick:function(){source.mavenCompile(t)}}),i.push({text:"package",onClick:function(){source.mavenPackage(t)}}),i.push({text:"install",onClick:function(){source.mavenInstall(t)}}),i.push({text:"deploy",onClick:function(){source.mavenDeploy(t)}})}}r.push({header:"文件"}),(t.isProject||t.isDirectory)&&(r.push({text:"新建文件",onClick:function(){source.openFolder(t.path);var e={parentPath:t.path,path:t.path+"/"+coos.getNumber(),name:"",isNew:!0,toRename:!1,file:!0};source.formatFile(e,t),t.files.push(e),o.rename(e)}}),r.push({text:"新建文件夹",onClick:function(){source.openFolder(t.path);var e={parentPath:t.path,path:t.path+"/"+coos.getNumber(),name:"",isNew:!0,toRename:!1,directory:!0,files:[]};source.formatFile(e,t),t.files.push(e),o.rename(e)}})),t.isProject||(r.push({text:"重命名",onClick:function(){o.rename(t)}}),r.push({text:"删除",onClick:function(){o.remove(t)}})),t.isFile,(t.modified||t.untracked||t.conflicting)&&(r.push({header:"Git"}),r.push({text:"还原",onClick:function(){source.gitRevert([t.path])}})),t.isProject&&r.push({text:"刷新",onClick:function(){source.reloadProject(t)}}),this.repository.contextmenu.menus=r,this.repository.contextmenu.show=!0,this.repository.contextmenu.left=e.pageX+"px",this.repository.contextmenu.top=e.pageY+"px",e.preventDefault()},nodeExpand:function(e,t){source.openFolder(e.path)},nodeCollapse:function(e,t){source.closeFolder(e.path)},nodeDrop:function(e,t,o,r){if(t){var s=null;if("before"==o||"after"==o?s=t.data.parent:"inner"==o&&(s=t.data),null==s)return;if(e.data.parent==s)return;var n=e.data,a=n.path,i=s.path;source.fileMove(n,s),source.do("FILE_MOVE",{path:a,to:i}).then(function(e){0==e.errcode?coos.success("移动成功！"):coos.error(e.errmsg)})}},nodeClick:function(e,t){if(this.repository.contextmenu.show=!1,window.event)return window.event.preventDefault(),void window.event.stopPropagation();var o={type:"COPY_FILE"};o.file={name:e.name,path:e.path,isFile:e.isFile,length:e.length},app.clipboardSelect(s()(o))},reloadProject:function(e){source.reloadProject(e),window.event&&(window.event.preventDefault(),window.event.stopPropagation())},openFile:function(e){source.openFileByPath(e.path)},remove:function(e){null!=e&&null!=e.parent&&source.do("FILE_DELETE",{path:e.path}).then(function(t){if(0==t.errcode){coos.success("删除成功！");var o=e.parent.files.indexOf(e);e.parent.files.splice(o,1)}else coos.error(t.errmsg)})},rename:function(t){var o=this;null!=t&&(this.toRename=!0,t.toRename=!0,window.setTimeout(function(){e(o.$el).find("[id='input-"+t.path+"']").focus()},10))},clickInput:function(e){window.event&&(window.event.preventDefault(),window.event.stopPropagation())},doRename:function(e,t){},changeInput:function(e){},blurInput:function(t){var o=this,r=e(this.$el).find("[id='input-"+t.path+"']"),s=r.val();if(coos.isEmpty(s))return coos.error("文件名称不能为空！"),void r.focus();if(t.name==s)return t.toRename=!1,void(this.toRename=!1);if(t.parent){var n=!1;if(t.parent.files.forEach(function(e){e!=t&&e.name==s&&(n=!0)}),n)return coos.error("文件名称已存在！"),void r.focus()}if(t.toRename=!0,this.toRename=!0,t.isNew){var a=t.parentPath+"/"+s;coos.isEmpty(t.parentPath)&&(a=s),t.path=a;var i={parentPath:t.parentPath,name:s,isFile:t.isFile,isDirectory:t.isDirectory};source.updateFileName(t,s),source.do("FILE_CREATE",i).then(function(e){0==e.errcode?(delete t.isNew,t.toRename=!1,o.toRename=!1,t.parent&&source.sortFolderFiles(t.parent)):coos.error(e.errmsg)})}else{var c={path:t.path,name:s};source.updateFileName(t,s),source.do("FILE_RENAME",c).then(function(e){0==e.errcode?(t.toRename=!1,o.toRename=!1,t.parent&&source.sortFolderFiles(t.parent)):coos.error(e.errmsg)})}},renderContent:function(e,t){var o=this,r=(t.node,t.data);t.store;return r.isProject?e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;",class:{"rename-file":r.toRename}},[e("span",{class:"color-orange"},[e("i",{class:"coos-icon coos-icon-appstore mgr-5"}),r.modified||r.untracked||r.conflicting?e("i",{class:"coos-icon mgr-5 coos-icon-right ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),e("input",{directives:[{name:"show",value:r.toRename}],domProps:{value:r.name},attrs:{id:"input-"+r.path},on:{click:function(){return o.clickInput(r)},blur:function(){return o.blurInput(r)},change:function(){return o.changeInput(r)},keyup:function(){return o.keyup(r,event)}}}),e("span",{directives:[{name:"show",value:!r.toRename}]},[r.name]),null!=r.app?e("i",{class:"mgl-10 ft-12",style:"vertical-align: 1px;color: #bfbcbc;"},["[应用模型]"]):e("i"),e("span",[e("a",{class:"color-orange mgl-20 ",attrs:{title:"刷新"},on:{click:function(){return o.reloadProject(r)}},style:"vertical-align: -2px;"},[r.loading?e("i",{class:"coos-icon el-icon-loading "}):e("i",{class:"coos-icon coos-icon-reload "})])])])]):r.isDirectory?e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;",class:{"rename-file":r.toRename}},[e("span",{class:""},[e("i",{class:"coos-icon coos-icon-folder-fill mgr-5 color-orange"}),r.modified||r.untracked||r.conflicting?e("i",{class:"coos-icon mgr-5 coos-icon-right ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),e("input",{directives:[{name:"show",value:r.toRename}],domProps:{value:r.name},attrs:{id:"input-"+r.path},on:{click:function(){return o.clickInput(r)},blur:function(){return o.blurInput(r)},change:function(){return o.changeInput(r)},keyup:function(){return o.keyup(r,event)}}}),e("span",{directives:[{name:"show",value:!r.toRename}]},[r.name])]),e("span")]):e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;",class:{"rename-file":r.toRename},on:{dblclick:function(){return o.openFile(r)}}},[e("span",{class:""},[e("i",{class:"coos-icon coos-icon-file mgr-5 coos-icon-"+r.type}),r.modified||r.conflicting?e("i",{class:"coos-icon mgr-5 coos-icon-right ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),r.untracked?e("i",{class:"coos-icon mgr-5 coos-icon-plus ft-12",style:"vertical-align: 1px;color: #bfbcbc;"}):e("i"),e("input",{directives:[{name:"show",value:r.toRename}],domProps:{value:r.name},attrs:{id:"input-"+r.path},on:{click:function(){return o.clickInput(r)},blur:function(){return o.blurInput(r)},change:function(){return o.changeInput(r)},keyup:function(){return o.keyup(r,event)}}}),e("span",{directives:[{name:"show",value:!r.toRename}]},[r.name])]),e("span")])},keyup:function(e,t){"27"==(t=t||window.event).keyCode&&null!=e&&(this.toRename=!1,e.toRename=!1),"13"==t.keyCode&&null!=e&&this.blurInput(e)}},mounted:function(){var e=this;document.addEventListener("paste",function(t){t&&t.target&&"coos-for-copy-area"==t.target.id&&(app.clipboardGet(t,function(t){e.onPaste(t)}),t.preventDefault(),t.stopPropagation())}),document.addEventListener("keyup",function(t){if("113"==t.keyCode){var o=e.$refs.tree.getCurrentNode();null!=o&&e.rename(o)}})}}}).call(t,o("7t+N"))},cqsX:function(e,t,o){"use strict";(function(e){var t=o("mvHQ"),r=o.n(t),s=o("fZjL"),n=o.n(s),a=o("//Fk"),i=o.n(a);!function(){source.server={post:function(t,o){return new i.a(function(r,s){o=o||{};var n=_SERVER_URL+t;e.ajax({url:n,data:o,type:"post",beforeSend:function(){},success:function(e){r&&r(e)},complete:function(e,t){},error:function(e,t,o){s&&s()}})})},session:function(t){return new i.a(function(o,r){var s=window.location.href;s.indexOf("#")>0&&(s=s.split("#")[0]),s=s.substring(_ROOT_URL.length),source.server.post("/api/data/session",{SPACE_PATH:s}).then(function(r){var s=r.value||{};t&&source.installed&&delete s.installed,e(n()(s)).each(function(e,t){source[t]=s[t]}),source.CONFIGURE=s.CONFIGURE||{},t||(source.data={},s.ENUM_MAP&&s.ENUM_MAP.MODEL_TYPE&&e(s.ENUM_MAP.MODEL_TYPE).each(function(e,t){source.data[t.value]=null})),o&&o(r)})})},load:function(e,t){return new i.a(function(o,s){t=t||{};var n="/api/workspace/load/"+e+"/"+source.token;source.server.post(n,r()(t)).then(function(t){source.onData(e,t),o&&o(t)})})},do:function(e,t){t=t||{};var o="/api/workspace/do/"+e+"/"+source.token;return source.server.post(o,r()(t))},restart:function(){return new i.a(function(e,t){window.setTimeout(function(){source.screen.error("服务器重启中，请稍后..."),source.server.status().then(function(t){t?(source.screen.success("服务器启动成功，即将刷新页面！"),window.setTimeout(function(){source.screen.remove(),e&&e()},500)):window.setTimeout(function(){source.server.restart().then(e)},3e3)})},5e3)})},status:function(){return new i.a(function(t,o){e.ajax({url:_SERVER_URL+"/api/validate",data:{},type:"post",beforeSend:function(){},success:function(e){e.value&&!e.value.isLogin&&source.LOGIN_USER_TOKEN?source.server.session(!0).then(function(){source.do("AUTO_LOGIN",{token:source.LOGIN_USER_TOKEN}).then(function(e){t&&t(!0)})}):t&&t(!0)},complete:function(e,t){},error:function(e,o,r){t&&t(!1)}})})},wait:function(){return new i.a(function(e,o){source.server.status().then(function(o){if(o)t=0,window.setTimeout(function(){e&&e()},500);else{var r=3;if(++t>=3&&(r=5),t>=5&&(r=10),t>=10&&(r=30),t>=20)return;window.setTimeout(function(){source.server.wait().then(e)},1e3*r)}})})}};var t=0}();source}).call(t,o("7t+N"))},ewRd:function(e,t){},f3pQ:function(e,t){},fEVU:function(e,t){},g6zI:function(e,t){},jD92:function(e,t){},jks3:function(e,t,o){"use strict";(function(e){var t;(t=e('<div class="app-screen-message-box"></div>')).append('<div class="app-screen-message" />'),t.find(".app-screen-message").append('<div class="app-screen-message-img" ></div>'),t.find(".app-screen-message").append('<div class="app-screen-message-text" ></div>'),source.screen={show:function(){0==e(".app-screen-message-box").length&&(t.find(".app-screen-message-img").css({backgroundImage:"url("+_SERVER_URL+"/resources/images/loading.gif)"}),e("body").append(t),window.setTimeout(function(){t.addClass("app-screen-message-show")},10))},error:function(o){source.screen.show(),t.find(".app-screen-message-text").empty();var r=e("<div />");r.append(o),t.find(".app-screen-message-text").append(r)},success:function(o){source.screen.show(),t.find(".app-screen-message-text").empty();var r=e("<div />");r.append(o),t.find(".app-screen-message-text").append(r)},remove:function(){window.setTimeout(function(){t.removeClass("app-screen-message-show")},10)}};source}).call(t,o("7t+N"))},jryU:function(e,t){},k9gp:function(e,t,o){"use strict";(function(e){t.a={components:{},props:["repository"],data:function(){return{source:source}},beforeMount:function(){},watch:{"repository.activeTab":function(e){source.changeTab(e);var t=source.getTab(e);null!=t&&source.do("FILE_OPEN",{path:t.path})}},methods:{removeTab:function(e){source.closeTab(e)},clickTab:function(){},showContextmenu:function(e,t){var o=e||window.event;this.repository.contextmenu.menus=[{header:"基本"},{text:"关闭",onClick:function(){source.closeTab(t)}},{text:"关闭其它",onClick:function(){source.closeOtherTab(t)}},{text:"关闭左侧",onClick:function(){source.closeLeftTab(t)}},{text:"关闭右侧",onClick:function(){source.closeRightTab(t)}},{text:"全部关闭",onClick:function(){source.closeAllTab(t)}},{divider:!0},{text:"复制名称"},{text:"复制路径"}],this.repository.contextmenu.show=!0,this.repository.contextmenu.left=o.pageX+"px",this.repository.contextmenu.top=o.pageY+"px",o.preventDefault()}},mounted:function(){var t=this;e(document).on("contextmenu",".repository-file-tabs .el-tabs__item",function(o){var r=e(o.target).closest(".el-tabs__item").find("span:first");t.showContextmenu(o,r.attr("path"))}),e(document).on("mouseup",".repository-file-tabs .el-tabs__item",function(t){if(1==t.button){var o=e(t.target).closest(".el-tabs__item").find("span:first");source.closeTab(o.attr("path"))}})}}}).call(t,o("7t+N"))},l1oA:function(e,t){},l1xA:function(e,t){},nFUI:function(e,t){},oIDY:function(e,t){},oom9:function(e,t){},p9ol:function(e,t){},"q/Pj":function(e,t){},tcCa:function(e,t,o){"use strict";(function(e){var t,r,s=o("//Fk"),n=o.n(s);t=null,r=[],window.onbeforeunload=function(){t.close(3e3,"强制关闭")},source.websocket={opened:!1,opening:!1,sendText:function(e){t.send(e)},open:function(){return new n.a(function(o,s){if(source.websocket.opened)o&&o();else if(r.push(o),!source.websocket.opening){if(source.websocket.opening=!0,!("WebSocket"in window))return e(".app-loading-text").empty(),void e(".app-loading-text").html("您的浏览器不支持WebSocket，请使用高版本浏览器！");var n=window._SERVER_URL.replace("http","ws")+"/websocket/"+source.token;(t=new WebSocket(n)).onerror=function(e){console.error(e)},t.onopen=function(){source.websocket.opening=!1,source.websocket.opened=!0,r.forEach(function(e){e&&e()}),r=[]},t.onclose=function(e){source.websocket.opening=!1,source.websocket.opened=!1,source.server.status().then(function(e){e?source.websocket.open():source.server.wait().then(function(){source.websocket.open()})})},t.onmessage=function(e){e.data}}})}};source}).call(t,o("7t+N"))},tvR6:function(e,t){},twbZ:function(e,t){},uUOH:function(e,t,o){"use strict";var r={name:"Toolbar",data:function(){var e=[];null==source.space&&null!=source.SPACE_TYPE&&e.push({icon:"coos-icon-database",name:"/",text:"仓库"}),source.space&&("REPOSITORYS"==source.space.type?e.push({icon:"coos-icon-code",name:"/",text:"代码"}):e.push({icon:"coos-icon-database",name:"/",text:"仓库"}),e.push({icon:"coos-icon-linechart",name:"/event",text:"动态"}),"USERS"!=source.space.type?(e.push({icon:"coos-icon-team",name:"/team",text:"成员"}),e.push({icon:"coos-icon-setting",name:"/option",text:"设置"})):(e.push({icon:"coos-icon-deploymentunit",name:"/join",text:"参与"}),e.push({icon:"coos-icon-star",name:"/star",text:"星标"})));var t=this.$route.path,o=null;return e.forEach(function(e){e.name!=t&&0!=t.indexOf(e.name)||(o=e)}),e.length>0&&null==o&&(t=e[0].name),{source:source,activeName:t,tabs:e}},beforeMount:function(){},watch:{activeName:function(e){this.$router.push(e)}},methods:{toIndex:function(){location.href=_ROOT_URL},toSpace:function(e){app.toSpace(e)},toBranch:function(e){app.toBranch(e)},onTabClick:function(e,t){},toCreateBranch:function(){source.branchCreateForm.show()}},computed:{}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"toolbar"},[o("el-breadcrumb",{staticStyle:{padding:"10px 0px"},attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:""}}},[o("span",{on:{click:e.toIndex}},[e._v("首页")])]),e._v(" "),null!=e.source.data.PARENTS?[e._l(e.source.data.PARENTS,function(t){return[o("el-breadcrumb-item",{key:t.id,attrs:{to:{path:""}}},[null==t.levels||0==t.levels.length?[o("span",{on:{click:function(o){return e.toSpace(t)}}},[e._v(e._s(t.name))])]:[o("el-dropdown",{attrs:{size:"mini"},on:{command:e.toSpace}},[o("span",{staticClass:"el-dropdown-link",on:{click:function(o){return e.toSpace(t)}}},[e._v(e._s(t.name))]),e._v(" "),o("el-dropdown-menu",{staticClass:"toolbar-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(t.levels,function(t){return[o("el-dropdown-item",{key:t.id+"-level",attrs:{command:t}},[o("span",{},[e._v(e._s(t.name))])])]})],2)],1)]],2)]})]:e._e(),e._v(" "),null!=e.source.branch?[o("el-breadcrumb-item",{attrs:{to:{path:""}}},[o("el-dropdown",{attrs:{size:"mini"},on:{command:e.toBranch}},[o("span",{staticClass:"el-dropdown-link coos-pointer"},[e._v(e._s(e.source.branch))]),e._v(" "),o("el-dropdown-menu",{staticClass:"toolbar-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[null!=e.source.data.BRANCHS?e._l(e.source.data.BRANCHS,function(t){return o("el-dropdown-item",{key:t.id,attrs:{command:t.name}},[o("span",{staticClass:"coos-pointer"},[e._v(e._s(t.name))])])}):e._e(),e._v(" "),"MASTER"==e.source.space.permission?o("el-dropdown-item",[o("span",{on:{click:function(t){return e.toCreateBranch()}}},[e._v("新建版本")])]):e._e()],2)],1)],1)]:e._e()],2),e._v(" "),o("el-tabs",{on:{"tab-click":e.onTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabs,function(t){return[o("el-tab-pane",{key:t.name,attrs:{name:t.name}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"coos-icon",class:t.icon}),e._v("\n          "+e._s(t.text)+"\n        ")])])]})],2)],1)},staticRenderFns:[]};var n=o("VU/8")(r,s,!1,function(e){o("U9SE")},null,null);t.a=n.exports},xJD8:function(e,t,o){"use strict";(function(e){var r=o("BIJG"),s=o("GU9F"),n=o("KaJi"),a=o("I3Yi"),i=o("uUOH"),c=o("TsJo"),l=o("zS0H");t.a={name:"App",components:{Header:r.a,Toolbar:i.a,Login:s.a,Register:n.a,Install:a.a,Rpository:l.a,PreferenceForm:c.a},data:function(){return{source:source}},methods:{handleOpen:function(){},handleClose:function(){},hasAction:function(e){return!!source.isManager||((source.actions||[]).forEach(function(t){if(t.url&&t.url.startsWith(e))return!0}),!1)}},mounted:function(){source.preferenceForm=this.$refs["preference-form"],e(".app").css("min-height",e(window).height()),e(window).resize(function(){e(".app").css("min-height",e(window).height())})}}}).call(t,o("7t+N"))},yFho:function(e,t){},ylO9:function(e,t){},zS0H:function(e,t,o){"use strict";var r=o("bzkO"),s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-project-box",class:{"to-rename":e.toRename}},[o("div",{staticClass:"repository-project-header"},[o("div",{staticClass:"repository-project-nav-group"},[o("a",{attrs:{title:"刷新"},on:{click:e.reloadRepository}},[o("i",{staticClass:"coos-icon",class:{" el-icon-loading ":e.repository.loading," coos-icon-reload ":!e.repository.loading},staticStyle:{"font-size":"16px"}})]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),o("a",{staticClass:"repository-project-header-line"}),e._v(" "),e._l(e.repository.navs,function(e,t){return[o("a",{key:t,class:{"coos-disabled":e.disabled},on:{click:function(t){return e.onClick()}}},[o("el-badge",{attrs:{value:e.value>0?e.value:"",title:e.title,"is-dot":e.dot,type:e.type}},[o("a",{staticClass:"coos-icon",class:e.icon,style:e.icon_style})])],1)]})],2),e._v(" "),o("div",{staticClass:"repository-project-nav-group"},[o("a",{attrs:{title:"控制台，可查看启动项目日志"},on:{click:function(t){return e.source.openStarterBox()}}},[o("el-badge",{attrs:{"is-dot":e.repository.starters.length>1}},[o("a",{staticClass:"coos-icon coos-icon-terminal",class:e.repository.starter_show?"color-green":""})])],1),e._v(" "),o("a",{attrs:{title:"服务器，可远程部署项目"},on:{click:function(t){return e.source.openRunnerBox()}}},[o("el-badge",{attrs:{"is-dot":e.repository.runners.length>0}},[o("a",{staticClass:"coos-icon coos-icon-sever",class:e.repository.runner_show?"color-green":""})])],1)])]),e._v(" "),o("el-input",{attrs:{placeholder:"输入关键字进行过滤",size:"mini"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),o("div",{staticClass:"repository-project-tree-box"},[o("div",{staticClass:"repository-project-tree"},[o("el-tree",{ref:"tree",attrs:{draggable:"",data:e.repository.projects,props:e.defaultProps,"render-content":e.renderContent,"expand-on-click-node":!0,"node-key":"path","default-expanded-keys":e.repository.open_folders,"filter-node-method":e.filterNode,indent:16,"highlight-current":!0},on:{"node-click":e.nodeClick,"node-contextmenu":e.nodeContextmenu,"node-expand":e.nodeExpand,"node-collapse":e.nodeCollapse,"node-drop":e.nodeDrop}})],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{title:"上传"}},[t("i",{staticClass:"coos-icon coos-icon-cloud-upload"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{title:"下载"}},[t("i",{staticClass:"coos-icon coos-icon-cloud-download"})])}]};var n=function(e){o("CmU5")},a=o("VU/8")(r.a,s,!1,n,null,null).exports,i=o("k9gp"),c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-tab-box"},[o("div",{staticClass:"repository-file-tabs"},[o("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab,"tab-click":e.clickTab},model:{value:e.repository.activeTab,callback:function(t){e.$set(e.repository,"activeTab",t)},expression:"repository.activeTab"}},e._l(e.repository.tabs,function(t){return o("el-tab-pane",{key:t.name,attrs:{name:t.name}},[o("span",{attrs:{slot:"label",title:t.title,path:t.path},slot:"label"},[e._v("\n          "+e._s(t.text)+"\n          "),o("i",{directives:[{name:"show",rawName:"v-show",value:t.changed,expression:"item.changed"}],staticClass:"tab-need-save-icon color-red",staticStyle:{"font-size":"16px","vertical-align":"-5px"}},[e._v("*")])])])}),1)],1),e._v(" "),o("div",{staticClass:"repository-tab-editor-box"})])},staticRenderFns:[]};var l=function(e){o("3Skx")},u=o("VU/8")(i.a,c,!1,l,null,null).exports,f={components:{},props:["repository"],data:function(){return{source:source}},beforeMount:function(){},watch:{"repository.starterActive":function(e){}},methods:{clickTab:function(){}},mounted:function(){}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-starter-box",class:{show:e.repository.starter_show}},[o("div",{staticClass:"coos-row bdb-1 bdb-grey-2 mgb-0"},[e._m(0),e._v(" "),o("a",{staticClass:"coos-pointer color-grey",staticStyle:{position:"absolute",right:"10px",top:"10px"},on:{click:function(t){return e.source.closeStarterBox()}}},[o("i",{staticClass:"coos-icon coos-icon-close ft-25"})])]),e._v(" "),o("div",{staticClass:"repository-starter-tabs"},[o("el-tabs",{on:{"tab-click":e.clickTab},model:{value:e.repository.starterActive,callback:function(t){e.$set(e.repository,"starterActive",t)},expression:"repository.starterActive"}},e._l(e.repository.starters,function(t){return o("el-tab-pane",{key:t.token,attrs:{name:t.token}},[o("span",{attrs:{slot:"label",title:t.title},slot:"label"},[e._v(e._s(t.text))]),e._v(" "),o("div",{},[o("div",{staticClass:"coos-row text-right pdr-10 pdt-5 starter-btns"},[null!=t.option?["INSTALL_STARER"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("终端程序安装")])]:e._e(),e._v(" "),"STARTING_STARTER"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("终端启动中")])]:e._e(),e._v(" "),"STARTED_STARTER"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("终端启动完成")])]:e._e(),e._v(" "),"INSTALL_SERVER"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("复制服务")])]:e._e(),e._v(" "),"COMPILE"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("编译")])]:e._e(),e._v(" "),"INSTALL_SHELL"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("生成Shell")])]:e._e(),e._v(" "),"STARTING_TERMINAL"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("终端启动中...")])]:e._e(),e._v(" "),"STARTED_TERMINAL"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("终端启动成功")])]:e._e(),e._v(" "),"STARTING"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("启动中")])]:e._e(),e._v(" "),"STARTED"==t.status?[o("a",{staticClass:"color-green starter-status"},[e._v("已启动")])]:e._e(),e._v(" "),"STOPPING"==t.status?[o("a",{staticClass:"color-red starter-status"},[e._v("停止中")])]:e._e(),e._v(" "),"STOPPED"==t.status?[o("a",{staticClass:"color-red starter-status"},[e._v("已停止")])]:e._e(),e._v(" "),"DESTROYING"==t.status?[o("a",{staticClass:"color-red starter-status"},[e._v("终端销毁中...")])]:e._e(),e._v(" "),"DESTROYED"==t.status?[o("a",{staticClass:"color-red starter-status"},[e._v("终端销毁成功")])]:e._e(),e._v(" "),t.now_timestamp-t.starter_timestamp>5e3?[o("a",{staticClass:"color-red starter-status"},[e._v("终端已停止，请移除")])]:e._e(),e._v(" "),"STOPPED"==t.status||"DESTROYED"==t.status||"STARTED_TERMINAL"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-green",on:{click:function(o){return e.source.startStarter(t)}}},[e._v("启动")])]:e._e(),e._v(" "),"STARTED"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-red",class:{"coos-disabled":"STARTED"!=t.status},on:{click:function(o){return e.source.stopStarter(t)}}},[e._v("停止")])]:e._e(),e._v(" "),"STARTED"==t.status||"STOPPED"==t.status||"STARTED_TERMINAL"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",on:{click:function(o){return e.source.destroyStarter(t)}}},[e._v("销毁")])]:e._e(),e._v(" "),"DESTROYED"==t.status||t.now_timestamp-t.starter_timestamp>5e3?[o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",on:{click:function(o){return e.source.removeStarter(t)}}},[e._v("移除")])]:e._e()]:e._e(),e._v(" "),o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",on:{click:function(o){return e.source.cleanStarterLog(t)}}},[e._v("清理日志")]),e._v(" "),o("a",{staticClass:"coos-btn coos-btn-xs bg-blue",on:{click:function(o){return e.source.reloadStarterLog(t)}}},[e._v("重新加载日志")])],2),e._v(" "),o("div",{staticClass:"repository-starter-log-box coos-scrollbar"},e._l(t.logs,function(t){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"log.show"}],key:t.id,class:{"color-red":"ERROR"==t.level,"color-orange":"WARN"==t.level}},[o("span",{staticClass:"pdr-10 color-grey"},[e._v(e._s(t.index+1))]),e._v("\n              "+e._s(t.line)+"\n            ")])}),0)])])}),1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ft-20 pd-10 color-green"},[this._v("\n      控制台\n      "),t("small",{staticClass:"ft-12 color-grey"},[this._v("用于在本机部署、运行、停止项目，可以查看当前库日志和项目启动控制台日志")])])}]};var m=o("VU/8")(f,p,!1,function(e){o("ewRd")},null,null).exports,d={components:{},props:["repository"],data:function(){return{source:source}},beforeMount:function(){},watch:{"repository.runnerActive":function(e){}},methods:{clickTab:function(){}},mounted:function(){}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"repository-runner-box",class:{show:e.repository.runner_show}},[o("div",{staticClass:"coos-row bdb-1 bdb-grey-2 mgb-0"},[e._m(0),e._v(" "),o("a",{staticClass:"coos-pointer color-grey",staticStyle:{position:"absolute",right:"10px",top:"10px"},on:{click:function(t){return e.source.closeRunnerBox()}}},[o("i",{staticClass:"coos-icon coos-icon-close ft-25"})])]),e._v(" "),o("div",{staticClass:"repository-runner-tabs"},[o("el-tabs",{on:{"tab-click":e.clickTab},model:{value:e.repository.runnerActive,callback:function(t){e.$set(e.repository,"runnerActive",t)},expression:"repository.runnerActive"}},e._l(e.repository.runners,function(t){return o("el-tab-pane",{key:t.token,attrs:{name:t.token}},[o("span",{attrs:{slot:"label",title:t.title},slot:"label"},[e._v(e._s(t.text))]),e._v(" "),o("div",{},[o("div",{staticClass:"coos-row text-right pdr-10 pdt-5 runner-btns"},[null!=t.option?["INSTALL"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("终端程序安装")])]:e._e(),e._v(" "),"INSTALL_SERVER"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("复制服务")])]:e._e(),e._v(" "),"INSTALL_SOURCE"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("编译")])]:e._e(),e._v(" "),"INSTALL_SHELL"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("生成Shell")])]:e._e(),e._v(" "),"STARTING_RUNNER"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("终端启动中...")])]:e._e(),e._v(" "),"STARTED_RUNNER"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("终端启动成功")])]:e._e(),e._v(" "),"STARTING"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("启动中")])]:e._e(),e._v(" "),"STARTED"==t.status?[o("a",{staticClass:"color-green runner-status"},[e._v("已启动")])]:e._e(),e._v(" "),"STOPPING"==t.status?[o("a",{staticClass:"color-red runner-status"},[e._v("停止中")])]:e._e(),e._v(" "),"STOPPED"==t.status?[o("a",{staticClass:"color-red runner-status"},[e._v("已停止")])]:e._e(),e._v(" "),"DESTROYING"==t.status?[o("a",{staticClass:"color-red runner-status"},[e._v("终端销毁中...")])]:e._e(),e._v(" "),"DESTROYED"==t.status?[o("a",{staticClass:"color-red runner-status"},[e._v("终端销毁成功")])]:e._e(),e._v(" "),"STOPPED"==t.status||"DESTROYED"==t.status||"STARTED_RUNNER"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-green",on:{click:function(o){return e.source.startrunner(t)}}},[e._v("启动")])]:e._e(),e._v(" "),"STARTED"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-red",class:{"coos-disabled":"STARTED"!=t.status},on:{click:function(o){return e.source.stoprunner(t)}}},[e._v("停止")])]:e._e(),e._v(" "),"STARTED"==t.status||"STOPPED"==t.status||"STARTED_RUNNER"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",on:{click:function(o){return e.source.destroyrunner(t)}}},[e._v("销毁")])]:e._e(),e._v(" "),"DESTROYED"==t.status?[o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",on:{click:function(o){return e.source.removerunner(t)}}},[e._v("移除")])]:e._e()]:e._e(),e._v(" "),o("a",{staticClass:"coos-btn coos-btn-xs bg-orange",on:{click:function(o){return e.source.cleanrunnerLog(t)}}},[e._v("清理日志")])],2),e._v(" "),o("div",{staticClass:"repository-runner-log-box coos-scrollbar"},e._l(t.logs,function(t){return o("div",{key:t.id,class:{"color-red":"ERROR"==t.level,"color-orange":"WARN"==t.level}},[e._v(e._s(t.msg))])}),0)])])}),1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ft-20 pd-10 color-green"},[this._v("\n      服务器\n      "),t("small",{staticClass:"ft-12 color-grey"},[this._v("可以添加服务器配置，远程部署、运行、停止项目")])])}]};var h=o("VU/8")(d,v,!1,function(e){o("QC3c")},null,null).exports,_=o("6pu+"),g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contextmenu-box",class:{show:e.contextmenu.show},style:{top:e.contextmenu.top,left:e.contextmenu.left,"z-index":e.contextmenu.zIndex}},[null!=e.contextmenu.menus?[o("ContextmenuMenus",{attrs:{menus:e.contextmenu.menus,contextmenu:e.contextmenu}})]:e._e()],2)},staticRenderFns:[]};var b=function(e){o("jryU")},E=o("VU/8")(_.a,g,!1,b,"data-v-4fb17a82",null).exports,y=o("//Fk"),x=o.n(y),C={components:{},data:function(){return{title:"Git登录凭证",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{username:"",password:""},form_rules:{}}},methods:{show:function(){var e=source.repository.git.certificate||{};return this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];return new x.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},w={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var R=o("VU/8")(C,w,!1,function(e){o("VTR+")},"data-v-6bbe5289",null).exports,S={components:{},data:function(){return{title:"Git远程仓库设置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{gitRemoteName:"",url:"",gitRemoteBranch:""},form_rules:{gitRemoteName:[{required:!0,message:"请输入远程名称",trigger:"blur"}],url:[{required:!0,message:"请输入远程地址",trigger:"blur"}],gitRemoteBranch:[{required:!0,message:"请输入远程分支",trigger:"blur"}]}}},methods:{show:function(){var e=source.repository.git.option||{};this.showForm(e)},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];return coos.isEmpty(this.form.gitRemoteName)&&(this.form.gitRemoteName="origin"),coos.isEmpty(this.form.gitRemoteBranch)&&(this.form.gitRemoteBranch="master"),new x.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),source.gitCertificateForm.show().then(function(t){o.certificate=t,coos.confirm("远程仓库将切换至远程仓库["+o.gitRemoteName+"]下["+o.gitRemoteBranch+"]版本，是否切换？").then(function(t){source.do("GIT_REMOTE_ADD",o).then(function(e){0==e.errcode?source.loadGitWorkStatus():coos.error(e.errmsg)}),e.resolve&&e.resolve(o)},function(){})})})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",{attrs:{label:"设置远程名称",prop:"gitRemoteName"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.gitRemoteName,callback:function(t){e.$set(e.form,"gitRemoteName",t)},expression:"form.gitRemoteName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"仓库地址",prop:"url"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"检出远程分支",prop:"gitRemoteBranch"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.gitRemoteBranch,callback:function(t){e.$set(e.form,"gitRemoteBranch",t)},expression:"form.gitRemoteBranch"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var T=o("VU/8")(S,k,!1,function(e){o("IlIf")},"data-v-b8f8b498",null).exports,A={components:{},data:function(){return{title:"Git Add（暂存文件）",labelWidth:"120px",size:"mini",source:source,show_form:!1,staged:[],staged_checked:[],not_staged:[],not_staged_checked:[],form:{},form_rules:{}}},methods:{show:function(){var e=this;this.change_files=[],source.repository.change_files.forEach(function(t){e.change_files.push({path:t.key,value:t.path,text:t.label,status:t.status})}),this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];this.form;return this.refresh(),new x.a(function(e,o){t.resolve=e,t.reject=o})},stagedAll:function(){var e=this;this.not_staged.forEach(function(t){e.staged.push(t)}),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked)},stagedChecked:function(){var e=this;this.not_staged_checked.forEach(function(t){e.not_staged.forEach(function(o){o.path==t&&(e.staged.push(o),e.not_staged.splice(e.not_staged.indexOf(o),1))})}),coos.trimList(this.not_staged_checked)},cancelAll:function(){var e=this;this.staged.forEach(function(t){e.not_staged.push(t)}),coos.trimList(this.staged),coos.trimList(this.staged_checked)},cancelChecked:function(){var e=this;this.staged_checked.forEach(function(t){e.staged.forEach(function(o){o.path==t&&(e.not_staged.push(o),e.staged.splice(e.staged.indexOf(o),1))})}),coos.trimList(this.staged_checked)},refresh:function(){var e=this;coos.trimList(this.staged),coos.trimList(this.staged_checked),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked);var t=[];source.repository.git.status&&(t=source.repository.git.status.added||[]),t.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（新增）"})});var o=[];source.repository.git.status&&(o=source.repository.git.status.changed||[]),o.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（更改）"})});var r=[];source.repository.git.status&&(r=source.repository.git.status.removed||[]),r.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（移除）"})}),this.change_files.forEach(function(t){e.staged.indexOf(t)<0&&e.not_staged.push(t)})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var r=[];e.staged.forEach(function(e){r.push(e)}),o.paths=r,source.do("GIT_INDEX_ADD",o).then(function(e){0==e.errcode?(coos.success("提交成功，您可以推送到Git远程仓库！"),source.loadGitStatus()):coos.error(e.errmsg)}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},N={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px","append-to-body":"",zIndex:"100"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"未暂存文件",prop:"not_staged"}},[o("div",{staticClass:"coos-row text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.stagedAll()}}},[e._v("暂存所有")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.stagedChecked()}}},[e._v("暂存选定")])]),e._v(" "),o("div",{staticClass:"mgt-10 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.not_staged.length,expression:"not_staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.not_staged_checked,callback:function(t){e.not_staged_checked=t},expression:"not_staged_checked"}},e._l(e.not_staged,function(t){return o("el-checkbox",{key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",{attrs:{label:"已暂存文件",prop:"staged"}},[o("div",{staticClass:"coos-row text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.cancelAll()}}},[e._v("取消所有暂存")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.cancelChecked()}}},[e._v("取消选定暂存")])]),e._v(" "),o("div",{staticClass:"mgt-10 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.staged.length,expression:"staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.staged_checked,callback:function(t){e.staged_checked=t},expression:"staged_checked"}},e._l(e.staged,function(t){return o("el-checkbox",{key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var I=o("VU/8")(A,N,!1,function(e){o("g6zI")},"data-v-4cc55738",null).exports,O={components:{},data:function(){return{title:"Git Push (推送)",labelWidth:"120px",not_push_message:"暂无",size:"mini",source:source,show_form:!1,staged:[],staged_checked:[],not_staged:[],not_staged_checked:[],search_not_staged:"",search_staged:"",form:{gitRemoteName:"",gitRemoteBranch:"",branchName:"",message:"",paths:[],remoteList:[],branchList:[]},form_rules:{gitRemoteName:[{required:!0,message:"请选择远程名称",trigger:"blur"}],branchName:[{required:!0,message:"请选择本地分支",trigger:"blur"}],gitRemoteBranch:[{required:!0,message:"请选择远程分支",trigger:"blur"}],paths_:[{required:!0,message:"请选择需要提交的文件",trigger:"blur"}],message:[{required:!0,message:"请输入备注信息",trigger:"blur"}]}}},methods:{show:function(){var e=this;this.change_files=[],source.repository.change_files.forEach(function(t){e.change_files.push({path:t.key,value:t.path,text:t.label,status:t.status})}),this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];var r=this.form,s=source.repository.git;if(s){s.reflogs&&s.reflogs.length;var n=s.remoteList||[],a=s.branchList||[];coos.trimList(r.remoteList),n.forEach(function(e){r.remoteList.push(e)}),coos.trimList(r.branchList),a.forEach(function(e){r.branchList.push(e)}),n.forEach(function(e){s.option&&s.option.gitRemoteName==e.name&&(r.gitRemoteName=e.name,a.forEach(function(t){if(source.isRemoteBranchName(e.name,t)){var o=source.formatRemoteBranchName(e.name,t);s.option&&s.option.gitRemoteBranch==o&&(r.gitRemoteBranch=o)}}))}),a.forEach(function(e){var t=source.formatHeadBranchName(e);t==source.branch&&(r.branchName=t)})}return this.refresh(),new x.a(function(e,o){t.resolve=e,t.reject=o})},stagedAll:function(){var e=this;coos.confirm("此操作将暂存所有未提交的文件，确定暂存所有文件？").then(function(t){e.not_staged.forEach(function(t){e.staged.push(t)}),coos.trimList(e.not_staged),coos.trimList(e.not_staged_checked)})},stagedChecked:function(){var e=this;this.not_staged_checked.forEach(function(t){e.not_staged.forEach(function(o){o.path==t&&(e.staged.push(o),e.not_staged.splice(e.not_staged.indexOf(o),1))})}),coos.trimList(this.not_staged_checked)},cancelAll:function(){var e=this;coos.confirm("确定取消所有文件的暂存？").then(function(t){e.staged.forEach(function(t){e.not_staged.push(t)}),coos.trimList(e.staged),coos.trimList(e.staged_checked)})},cancelChecked:function(){var e=this;this.staged_checked.forEach(function(t){e.staged.forEach(function(o){o.path==t&&(e.not_staged.push(o),e.staged.splice(e.staged.indexOf(o),1))})}),coos.trimList(this.staged_checked)},refresh:function(){var e=this;coos.trimList(this.staged),coos.trimList(this.staged_checked),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked);var t=[];source.repository.git.status&&(t=source.repository.git.status.added||[]),t.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（新增）"})});var o=[];source.repository.git.status&&(o=source.repository.git.status.changed||[]),o.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（更改）"})});var r=[];source.repository.git.status&&(r=source.repository.git.status.removed||[]),r.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（移除）"})}),this.change_files.forEach(function(t){e.staged.indexOf(t)<0&&e.not_staged.push(t)})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var r=[];e.staged.forEach(function(e){r.push(e)}),o.paths=r,source.gitCertificateForm.show().then(function(e){o.certificate=e,source.do("GIT_PUSH",o).then(function(e){0==e.errcode?source.loadGitWorkStatus():coos.error(e.errmsg)})}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},L={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px",top:"50px","append-to-body":"",zIndex:"100"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"本地分支",prop:"branchName"}},e._l(e.form.branchList,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:e.source.isHeadBranchName(t),expression:"source.isHeadBranchName(branch)"}],key:t.name,attrs:{label:e.source.formatHeadBranchName(t)},model:{value:e.form.branchName,callback:function(t){e.$set(e.form,"branchName",t)},expression:"form.branchName"}},[e._v(e._s(e.source.formatHeadBranchName(t)))])}),1),e._v(" "),o("el-form-item",{attrs:{label:"远程仓库",prop:"gitRemote"}},e._l(e.form.remoteList,function(t){return o("el-radio",{key:t.name,attrs:{label:t.name,value:t.name},model:{value:e.form.gitRemoteName,callback:function(t){e.$set(e.form,"gitRemoteName",t)},expression:"form.gitRemoteName"}})}),1),e._v(" "),o("el-form-item",{attrs:{label:"远程分支",prop:"remoteBranchName"}},e._l(e.form.branchList,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:e.source.isRemoteBranchName(e.form.gitRemoteName,t),expression:"source.isRemoteBranchName(form.gitRemoteName, branch)"}],key:t.name,attrs:{label:e.source.formatRemoteBranchName(e.form.gitRemoteName,t)},model:{value:e.form.gitRemoteBranch,callback:function(t){e.$set(e.form,"gitRemoteBranch",t)},expression:"form.gitRemoteBranch"}},[e._v(e._s(e.source.formatRemoteBranchName(e.form.gitRemoteName,t)))])}),1),e._v(" "),o("el-form-item",{attrs:{label:"未暂存文件",prop:"not_staged"}},[o("div",{staticClass:"coos-row col-8"},[o("el-input",{attrs:{type:"input",placeholder:"输入搜索",autocomplete:"off"},model:{value:e.search_not_staged,callback:function(t){e.search_not_staged=t},expression:"search_not_staged"}})],1),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.stagedAll()}}},[e._v("暂存所有")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.stagedChecked()}}},[e._v("暂存选定")])]),e._v(" "),o("div",{staticClass:"col-12 mgt-5 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.not_staged.length,expression:"not_staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.not_staged_checked,callback:function(t){e.not_staged_checked=t},expression:"not_staged_checked"}},e._l(e.not_staged,function(t){return o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.coos.isEmpty(e.search_not_staged)||t.path.toLowerCase().indexOf(e.search_not_staged.toLowerCase())>=0,expression:"coos.isEmpty(search_not_staged) || one.path.toLowerCase().indexOf(search_not_staged.toLowerCase()) >= 0"}],key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",{attrs:{label:"已暂存文件",prop:"staged"}},[o("div",{staticClass:"coos-row col-8"},[o("el-input",{attrs:{type:"input",placeholder:"输入搜索",autocomplete:"off"},model:{value:e.search_staged,callback:function(t){e.search_staged=t},expression:"search_staged"}})],1),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"},[o("a",{staticClass:"coos-link color-grey ft-12 mgr-10",on:{click:function(t){return e.cancelAll()}}},[e._v("取消所有暂存")]),e._v(" "),o("a",{staticClass:"coos-link color-grey ft-12",on:{click:function(t){return e.cancelChecked()}}},[e._v("取消选定暂存")])]),e._v(" "),o("div",{staticClass:"col-12 mgt-5 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.staged.length,expression:"staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.staged_checked,callback:function(t){e.staged_checked=t},expression:"staged_checked"}},e._l(e.staged,function(t){return o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.coos.isEmpty(e.search_staged)||t.path.toLowerCase().indexOf(e.search_staged.toLowerCase())>=0,expression:"coos.isEmpty(search_staged) || one.path.toLowerCase().indexOf(search_staged.toLowerCase()) >= 0"}],key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",{attrs:{label:"未推送成功"}},[e._v(e._s(e.not_push_message))]),e._v(" "),o("el-form-item",{attrs:{label:"备注",prop:"message"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var P=o("VU/8")(O,L,!1,function(e){o("l1oA")},"data-v-8947253c",null).exports,F={components:{},data:function(){return{title:"Git Revert（还原文件）",labelWidth:"120px",size:"mini",source:source,show_form:!1,staged:[],staged_checked:[],not_staged:[],not_staged_checked:[],form:{},form_rules:{},search_not_staged:""}},methods:{show:function(){var e=this;this.change_files=[],source.repository.change_files.forEach(function(t){e.change_files.push({path:t.key,value:t.path,text:t.label,status:t.status})}),this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];this.form;return this.refresh(),new x.a(function(e,o){t.resolve=e,t.reject=o})},refresh:function(){var e=this;coos.trimList(this.staged),coos.trimList(this.staged_checked),coos.trimList(this.not_staged),coos.trimList(this.not_staged_checked);var t=[];source.repository.git.status&&(t=source.repository.git.status.added||[]),t.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（新增）"})});var o=[];source.repository.git.status&&(o=source.repository.git.status.changed||[]),o.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（更改）"})});var r=[];source.repository.git.status&&(r=source.repository.git.status.removed||[]),r.forEach(function(t){e.staged.push({path:t,value:t,text:t+"（移除）"})}),this.change_files.forEach(function(t){e.staged.indexOf(t)<0&&e.not_staged.push(t)})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm();var r=[];e.not_staged_checked.forEach(function(e){r.push(e)}),o.paths=r,r.length>0&&source.gitRevert(r),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"1000px","append-to-body":"",zIndex:"100"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size}},[o("el-form-item",{attrs:{label:"选择",prop:"not_staged"}},[o("div",{staticClass:"coos-row col-8"},[o("el-input",{attrs:{type:"input",placeholder:"输入搜索",autocomplete:"off"},model:{value:e.search_not_staged,callback:function(t){e.search_not_staged=t},expression:"search_not_staged"}})],1),e._v(" "),o("div",{staticClass:"coos-row col-4 text-right"}),e._v(" "),o("div",{staticClass:"col-12 mgt-5 coos-row file-box coos-scrollbar"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.not_staged.length,expression:"not_staged.length == 0"}],staticClass:"text-center"},[e._v("暂无数据")]),e._v(" "),o("el-checkbox-group",{model:{value:e.not_staged_checked,callback:function(t){e.not_staged_checked=t},expression:"not_staged_checked"}},e._l(e.not_staged,function(t){return o("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.coos.isEmpty(e.search_not_staged)||t.path.toLowerCase().indexOf(e.search_not_staged.toLowerCase())>=0,expression:"coos.isEmpty(search_not_staged) || one.path.toLowerCase().indexOf(search_not_staged.toLowerCase()) >= 0"}],key:t.path,attrs:{label:t.path}},[e._v(e._s(t.text))])}),1)],1)]),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var U=o("VU/8")(F,$,!1,function(e){o("CMZJ")},"data-v-c7934e4c",null).exports,M={components:{},data:function(){return{title:"运行配置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{name:"",language:"",mode:"",jar:"",main:"",environmentid:"",mavenenvp:"",javaenvp:"",javaenvironmentid:"",mavenenvironmentid:"",useinternal:!0,internaltomcat:"tomcat-8.0.53",port:8080,contextpath:"/",nodeenvironmentid:"",nodecommand:"",compilecommand:"",startcommand:"",stopcommand:"",pidfile:""},form_rules:{nodecommand:[{required:!0,message:"请输入启动命令",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],contextpath:[{required:!0,message:"请输入访问路径",trigger:"blur"}],language:[{required:!0,message:"请选择语言",trigger:"blur"}],mode:[{required:!0,message:"请选择运行模式",trigger:"blur"}],main:[{required:!0,message:"请输入MainClass",trigger:"blur"}],environmentid:[{required:!0,message:"请选择容器环境",trigger:"blur"}],internaltomcat:[{required:!0,message:"请选择内置Tomcat",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur",validator:function(e,t,o){t||o(new Error("请输入端口号")),"number"!=typeof(t=Number(t))||isNaN(t)?o(new Error("端口号必须为数字")):t<1||t>5e4?o(new Error("端口号在 1 至 50000 之间")):o()}}]}}},methods:{show:function(e,t){this.showForm(e,t)},showForm:function(e,t){var o=this;for(var r in this.path=e,t=t||{},this.show_form=!0,this.form)coos.isArray(this.form[r])?this.form[r]=[]:this.form[r]="";for(var r in t)this.form[r]=t[r];return new x.a(function(e,t){o.resolve=e,o.reject=t})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form,r={path:e.path,option:o};e.hideForm(),source.do("SET_STARTER_OPTION",r).then(function(e){source.load("STARTER_OPTIONS")}),e.resolve&&e.resolve(r)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},D={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",[o("small",{staticClass:"pdb-10 color-red",staticStyle:{"line-height":"14px"}},[e._v("\n          环境变量：\n          "),o("div",[e._v("$SOURCE_PATH：为代码源文件目录")]),e._v(" "),o("div",[e._v("$STARTER_LOG_PATH：为进程启动日志路径")]),e._v(" "),o("div",[e._v("$STARTER_PID_PATH：为进程启动PID路径")])])]),e._v(" "),o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"语言",prop:"language"}},[o("el-radio",{attrs:{label:"JAVA"},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}},[e._v("Java")]),e._v(" "),o("el-radio",{attrs:{label:"OTHER"},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}},[e._v("其它")])],1),e._v(" "),"JAVA"==e.form.language?[o("el-form-item",{attrs:{label:"Java环境"}},[o("el-radio",{attrs:{label:""},model:{value:e.form.javaenvironmentid,callback:function(t){e.$set(e.form,"javaenvironmentid",t)},expression:"form.javaenvironmentid"}},[e._v("读取系统")]),e._v(" "),e._l(e.source.data.ENVIRONMENTS,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"JAVA"==t.type,expression:"one.type == 'JAVA'"}],key:t.id,attrs:{label:t.id},model:{value:e.form.javaenvironmentid,callback:function(t){e.$set(e.form,"javaenvironmentid",t)},expression:"form.javaenvironmentid"}},[e._v(e._s(t.name)+"("+e._s(t.version)+")")])})],2),e._v(" "),o("el-form-item",{attrs:{label:"Maven环境"}},[o("el-radio",{attrs:{label:""},model:{value:e.form.mavenenvironmentid,callback:function(t){e.$set(e.form,"mavenenvironmentid",t)},expression:"form.mavenenvironmentid"}},[e._v("读取系统")]),e._v(" "),e._l(e.source.data.ENVIRONMENTS,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"MAVEN"==t.type,expression:"one.type == 'MAVEN'"}],key:t.id,attrs:{label:t.id},model:{value:e.form.mavenenvironmentid,callback:function(t){e.$set(e.form,"mavenenvironmentid",t)},expression:"form.mavenenvironmentid"}},[e._v(e._s(t.name)+"("+e._s(t.version)+")")])})],2),e._v(" "),o("el-form-item",{attrs:{label:"Maven运行变量"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.mavenenvp,callback:function(t){e.$set(e.form,"mavenenvp",t)},expression:"form.mavenenvp"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Java运行变量"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.javaenvp,callback:function(t){e.$set(e.form,"javaenvp",t)},expression:"form.javaenvp"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"运行模式",prop:"JAVA"==e.form.language?"mode":""}},[o("el-radio",{attrs:{label:"MAIN"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("Main")]),e._v(" "),o("el-radio",{attrs:{label:"TOMCAT"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("Tomcat")]),e._v(" "),o("el-radio",{attrs:{label:"JAR",disabled:"disabled"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}},[e._v("Jar")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"MAIN"==e.form.mode,expression:"form.mode == 'MAIN'"}],attrs:{label:"Main Class",prop:"MAIN"==e.form.mode?"main":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.main,callback:function(t){e.$set(e.form,"main",t)},expression:"form.main"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"JAR"==e.form.mode,expression:"form.mode == 'JAR'"}],attrs:{label:"Jar",prop:"JAR"==e.form.mode?"jar":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.jar,callback:function(t){e.$set(e.form,"jar",t)},expression:"form.jar"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"TOMCAT"==e.form.mode,expression:"form.mode == 'TOMCAT'"}],attrs:{label:"使用内置Tomcat"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.useinternal,callback:function(t){e.$set(e.form,"useinternal",t)},expression:"form.useinternal"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.coos.isTrue(e.form.useinternal)&&"TOMCAT"==e.form.mode,expression:"!coos.isTrue(form.useinternal) && (form.mode == 'TOMCAT')"}],attrs:{prop:e.coos.isTrue(e.form.useinternal)||"TOMCAT"!=e.form.mode?"":"environmentid",label:"服务"}},e._l(e.source.data.ENVIRONMENTS,function(t){return o("el-radio",{directives:[{name:"show",rawName:"v-show",value:"TOMCAT"==t.type,expression:"one.type == 'TOMCAT'"}],key:t.id,attrs:{label:t.id},model:{value:e.form.environmentid,callback:function(t){e.$set(e.form,"environmentid",t)},expression:"form.environmentid"}},[e._v(e._s(t.name)+"("+e._s(t.version)+")")])}),1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.coos.isTrue(e.form.useinternal)&&"TOMCAT"==e.form.mode,expression:"coos.isTrue(form.useinternal) && (form.mode == 'TOMCAT')"}],attrs:{prop:e.coos.isTrue(e.form.useinternal)&&"TOMCAT"==e.form.mode?"internaltomcat":"",label:"内置Tomcat"}},[o("el-radio",{attrs:{label:"tomcat-7.0.94"},model:{value:e.form.internaltomcat,callback:function(t){e.$set(e.form,"internaltomcat",t)},expression:"form.internaltomcat"}},[e._v("tomcat-7.0.94")]),e._v(" "),o("el-radio",{attrs:{label:"tomcat-8.0.53"},model:{value:e.form.internaltomcat,callback:function(t){e.$set(e.form,"internaltomcat",t)},expression:"form.internaltomcat"}},[e._v("tomcat-8.0.53")]),e._v(" "),o("el-radio",{attrs:{label:"tomcat-8.5.41"},model:{value:e.form.internaltomcat,callback:function(t){e.$set(e.form,"internaltomcat",t)},expression:"form.internaltomcat"}},[e._v("tomcat-8.5.41")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"TOMCAT"==e.form.mode&&e.coos.isTrue(e.form.useinternal),expression:"form.mode == 'TOMCAT' && coos.isTrue(form.useinternal)"}],attrs:{prop:e.coos.isTrue(e.form.useinternal)&&"TOMCAT"==e.form.mode?"port":"",label:"请输入端口"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",t)},expression:"form.port"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"TOMCAT"==e.form.mode,expression:"form.mode == 'TOMCAT'"}],attrs:{label:"访问路径",prop:"TOMCAT"==e.form.mode?"contextpath":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.contextpath,callback:function(t){e.$set(e.form,"contextpath",t)},expression:"form.contextpath"}})],1)]:e._e(),e._v(" "),"OTHER"==e.form.language?[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"编译命令",prop:"OTHER"==e.form.language?"compilecommand":""}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.compilecommand,callback:function(t){e.$set(e.form,"compilecommand",t)},expression:"form.compilecommand"}}),e._v(" "),o("div",[e._v("示例：go install，npm install")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"启动命令",prop:"OTHER"==e.form.language?"startcommand":""}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.startcommand,callback:function(t){e.$set(e.form,"startcommand",t)},expression:"form.startcommand"}}),e._v(" "),o("div",[e._v("示例：go run xxx.go，npm run dev")]),e._v(" "),o("div",[e._v("linux使用进程ID示例：")]),e._v(" "),o("div",{staticClass:"ft-12 color-red"},[e._v("nohup 启动命令 >> $STARTER_LOG_PATH 2>&1 &")]),e._v(" "),o("div",{staticClass:"ft-12 color-red"},[e._v("echo $! > $STARTER_PID_PATH")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"停止命令",prop:"OTHER"==e.form.language?"stopcommand":""}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:5},model:{value:e.form.stopcommand,callback:function(t){e.$set(e.form,"stopcommand",t)},expression:"form.stopcommand"}})],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"OTHER"==e.form.language,expression:"form.language == 'OTHER'"}],attrs:{label:"PID文件",prop:"OTHER"==e.form.language?"pidfile":""}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.pidfile,callback:function(t){e.$set(e.form,"pidfile",t)},expression:"form.pidfile"}})],1)]:e._e(),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],2)],1)],1)},staticRenderFns:[]};var G=o("VU/8")(M,D,!1,function(e){o("6phF")},"data-v-5cb3b144",null).exports,z={components:{},data:function(){return{title:"部署服务器配置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{name:"",server:"",token:""},form_rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],server:[{required:!0,message:"请输入服务器地址",trigger:"blur"}],token:[{required:!0,message:"请输入服务器配置的Token",trigger:"blur"}]}}},methods:{showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in e)this.form[o]=e[o];return new x.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},j={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"服务器连接",prop:"server"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.server,callback:function(t){e.$set(e.form,"server",t)},expression:"form.server"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"服务器Token",prop:"token"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.token,callback:function(t){e.$set(e.form,"token",t)},expression:"form.token"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var V={components:{RunnerServerForm:o("VU/8")(z,j,!1,function(e){o("3e5/")},"data-v-8ff9c1c6",null).exports},data:function(){return{runner_servers:[],title:"远程部署配置",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{name:"",serverid:"",compilescript:"",startscript:"",stopscript:"",pidpath:"",files:[]},form_rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],serverid:[{required:!0,message:"请选中远程服务器",trigger:"blur"}]}}},methods:{showForm:function(e){var t=this;for(var o in this.loadRunnerServers(),e=e||{},this.form.files.splice(0,this.form.files.length),this.form.files.push({sourcepath:"",targetpath:""}),this.show_form=!0,this.form)"files"==o||(coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="");for(var o in e)"files"==o?e.files.length>0&&(this.form.files.splice(0,this.form.files.length),e.files.forEach(function(e){t.form.files.push(e)})):this.form[o]=e[o];return new x.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()},addRunnerFormFile:function(){this.form.files.push({sourcepath:"",targetpath:""})},loadRunnerServers:function(e){var t=this;source.load("RUNNER_SERVERS",{}).then(function(o){o=o||[],t.runner_servers.splice(0,t.runner_servers.length),o.forEach(function(e){t.runner_servers.push(e)}),e&&e(o)})},toSetRunnerServer:function(e){var t=this,o={};if(e)for(var r in e)o[r]=e[r];this.$refs["runner-server-form"].showForm(o).then(function(e){var o=t;t.runnerServerSave(e,function(){o.loadRunnerServers()})})},runnerServerSave:function(e,t){var o=e||{};http.work("RUNNER_SERVER_SAVE",o).then(function(e){e.value;t&&t(e)})},toDeleteRunnerServerFromForm:function(e){var t=this;this.show_form=!1,this.toDeleteRunnerServer(e,function(){t.show_form=!0})},toDeleteRunnerServer:function(e,t){var o=this;coos.confirm("确定删除该配置？").then(function(){o.deleteRunnerServer(e,function(){o.loadRunnerServers(),t&&t()})}).catch(function(){t&&t()})},deleteRunnerServer:function(e,t){var o=e||{};http.work("RUNNER_SERVER_DELETE",o).then(function(e){e.value;t&&t(e)})}},mounted:function(){},beforeCreate:function(){}},B={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"serverid",label:"远程服务器"}},[e._l(e.runner_servers,function(t){return o("el-radio",{key:t.id,attrs:{label:t.id},model:{value:e.form.serverid,callback:function(t){e.$set(e.form,"serverid",t)},expression:"form.serverid"}},[e._v("\n          "+e._s(t.name)+"（"+e._s(t.server)+"）\n          "),o("a",{staticClass:"coos-btn-link coos-orange pdl-5",on:{click:function(o){return e.toSetRunnerServer(t)}}},[e._v("修改")]),e._v(" "),o("a",{staticClass:"coos-btn-link coos-red pdl-5",on:{click:function(o){return e.toDeleteRunnerServerFromForm(t)}}},[e._v("删除")])])}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.runner_servers.length,expression:"runner_servers.length==0"}],staticClass:"pd-0"},[e._v("暂无远程服务器")]),e._v(" "),o("div",[o("a",{staticClass:"coos-btn-link coos-green",on:{click:function(t){return e.toSetRunnerServer()}}},[e._v("添加远程服务器")])])],2),e._v(" "),o("el-form-item",{attrs:{label:"编译脚本",prop:"compilescript"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.compilescript,callback:function(t){e.$set(e.form,"compilescript",t)},expression:"form.compilescript"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"启动脚本",prop:"startscript"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.startscript,callback:function(t){e.$set(e.form,"startscript",t)},expression:"form.startscript"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"停止脚本",prop:"stopscript"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.stopscript,callback:function(t){e.$set(e.form,"stopscript",t)},expression:"form.stopscript"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"PID路径",prop:"pidpath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.pidpath,callback:function(t){e.$set(e.form,"pidpath",t)},expression:"form.pidpath"}})],1),e._v(" "),o("div",{staticClass:"pd-10"},[o("h4",{staticClass:"pdtb-5 coos-orange"},[e._v("\n          文件配置（以'/'结尾作为目录使用）\n          "),o("a",{staticClass:"coos-green coos-btn-link coos-btn-xs",on:{click:function(t){return e.addRunnerFormFile()}}},[e._v("添加")])]),e._v(" "),e._l(e.form.files,function(t,r){return[o("div",{key:"file-"+r,staticClass:"coos-row"},[o("div",{staticClass:"col-6"},[o("el-form-item",{key:"sourcepath-"+r,attrs:{label:"文件路径",prop:"sourcepath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.sourcepath,callback:function(o){e.$set(t,"sourcepath",o)},expression:"file.sourcepath"}})],1)],1),e._v(" "),o("div",{staticClass:"col-6"},[o("el-form-item",{key:"targetpath-"+r,attrs:{label:"部署路径",prop:"targetpath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.targetpath,callback:function(o){e.$set(t,"targetpath",o)},expression:"file.targetpath"}})],1)],1)])]})],2),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1),e._v(" "),o("RunnerServerForm",{ref:"runner-server-form"})],1)},staticRenderFns:[]};var q={components:{},data:function(){return{title:"新建版本",labelWidth:"120px",size:"mini",source:source,show_form:!1,form:{branch:"",frombranch:""},form_rules:{branch:[{required:!0,message:"请输入版本名称",trigger:"blur"}],frombranch:[{required:!0,message:"请填写拷贝版本",trigger:"blur"}]}}},methods:{show:function(){this.showForm({})},showForm:function(e){var t=this;for(var o in e=e||{},this.show_form=!0,this.form)coos.isArray(this.form[o])?this.form[o]=[]:this.form[o]="";for(var o in this.form.frombranch="master",e)this.form[o]=e[o];return new x.a(function(e,o){t.resolve=e,t.reject=o})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form;e.hideForm(),source.do("BRANCH_CREATE",o).then(function(e){0==e.errcode?(coos.success("版本创建成功！"),app.toBranch(o.branch)):coos.error(e.errmsg)}),e.resolve&&e.resolve(o)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},W={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",{attrs:{label:"版本名称",prop:"branch"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.branch,callback:function(t){e.$set(e.form,"branch",t)},expression:"form.branch"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"拷贝版本",prop:"frombranch"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.frombranch,callback:function(t){e.$set(e.form,"frombranch",t)},expression:"form.frombranch"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var H={components:{},data:function(){return{title:"应用配置",labelWidth:"160px",size:"mini",source:source,show_form:!1,form:{modelpath:"",javapath:"",resourcepath:"",codepackage:"",controllerpackage:"",basepackage:"",daopackage:"",servicepackage:"",factorypackage:"",jdbcpath:"",jdbcdirectorypath:"",apppath:"",usespringannotation:!1},form_rules:{modelpath:[{required:!0,message:"请输入模型路径",trigger:"blur"}],javapath:[{required:!0,message:"请输入代码路径",trigger:"blur"}],resourcepath:[{required:!0,message:"请输入配置文件路径",trigger:"blur"}],basepackage:[{required:!0,message:"请输入基础包名",trigger:"blur"}]}}},methods:{show:function(e,t){this.showForm(e,t)},showForm:function(e,t){var o=this;for(var r in this.path=e,t=t||{modelpath:"src/main/resources/app",javapath:"src/main/java",resourcepath:"src/main/resources",usespringannotation:!1},this.show_form=!0,this.form)coos.isArray(this.form[r])?this.form[r]=[]:this.form[r]="";for(var r in this.form.usespringannotation=!1,t)this.form[r]=t[r];return new x.a(function(e,t){o.resolve=e,o.reject=t})},hideForm:function(){this.show_form=!1},formSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;var o=e.form,r={path:e.path,option:o};e.hideForm(),source.do("APP_SET_OPTION",r),e.resolve&&e.resolve(r)})},formCancel:function(){this.hideForm()}},mounted:function(){},beforeCreate:function(){}},J={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("el-dialog",{attrs:{title:e.title,visible:e.show_form,"close-on-click-modal":!1,width:"900px"},on:{"update:visible":function(t){e.show_form=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.form_rules,"label-width":e.labelWidth,size:e.size,"append-to-body":"",zIndex:"100"}},[o("el-form-item",[o("strong",{staticClass:"pdb-10 color-red"},[e._v("\n          注意：项目需要依赖\n          "),o("a",{staticClass:"coos-link color-green",attrs:{href:"https://gitee.com/teamide/base",target:"_blank"}},[e._v("https://gitee.com/teamide/base")]),e._v("，请自行下载引入。\n        ")])]),e._v(" "),o("el-form-item",{attrs:{label:"模型路径",prop:"modelpath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.modelpath,callback:function(t){e.$set(e.form,"modelpath",t)},expression:"form.modelpath"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Java代码路径",prop:"javapath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.javapath,callback:function(t){e.$set(e.form,"javapath",t)},expression:"form.javapath"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"基础包名",prop:"basepackage"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"示例：com.teamide.web"},model:{value:e.form.basepackage,callback:function(t){e.$set(e.form,"basepackage",t)},expression:"form.basepackage"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Factory包名",prop:"factorypackage"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：基础包名.factory"},model:{value:e.form.factorypackage,callback:function(t){e.$set(e.form,"factorypackage",t)},expression:"form.factorypackage"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Controller包名",prop:"controllerpackage"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：基础包名.controller"},model:{value:e.form.controllerpackage,callback:function(t){e.$set(e.form,"controllerpackage",t)},expression:"form.controllerpackage"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Service包名",prop:"servicepackage"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：基础包名.service"},model:{value:e.form.servicepackage,callback:function(t){e.$set(e.form,"servicepackage",t)},expression:"form.servicepackage"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Dao包名",prop:"daopackage"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：基础包名.dao"},model:{value:e.form.daopackage,callback:function(t){e.$set(e.form,"daopackage",t)},expression:"form.daopackage"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"配置文件路径",prop:"resourcepath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.form.resourcepath,callback:function(t){e.$set(e.form,"resourcepath",t)},expression:"form.resourcepath"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"应用配置文件路径",prop:"apppath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：配置文件路径/app.properties"},model:{value:e.form.apppath,callback:function(t){e.$set(e.form,"apppath",t)},expression:"form.apppath"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"默认JDBC路径",prop:"jdbcpath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：配置文件路径/jdbc.properties"},model:{value:e.form.jdbcpath,callback:function(t){e.$set(e.form,"jdbcpath",t)},expression:"form.jdbcpath"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"JDBC目录",prop:"jdbcdirectorypath"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"默认：配置文件路径/jdbcs/"},model:{value:e.form.jdbcdirectorypath,callback:function(t){e.$set(e.form,"jdbcdirectorypath",t)},expression:"form.jdbcdirectorypath"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"使用Spring注解",prop:"usespringannotation"}},[o("el-switch",{model:{value:e.form.usespringannotation,callback:function(t){e.$set(e.form,"usespringannotation",t)},expression:"form.usespringannotation"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:e.size},on:{click:function(t){return e.formSave()}}},[e._v("确定")]),e._v(" "),o("el-button",{attrs:{size:e.size},on:{click:function(t){return e.formCancel()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Y={props:["repository"],components:{Project:a,Tabs:u,Starter:m,Runner:h,Contextmenu:E,GitCertificate:R,GitRemote:T,GitPlus:I,GitPush:P,GitRevert:U,StarterForm:G,RunnerForm:o("VU/8")(V,B,!1,function(e){o("f3pQ")},"data-v-f06eaa7e",null).exports,BranchCreate:o("VU/8")(q,W,!1,function(e){o("4u5q")},"data-v-9468ef1a",null).exports,AppOptionForm:o("VU/8")(H,J,!1,function(e){o("p9ol")},"data-v-a264edfe",null).exports},data:function(){return{source:source}},beforeMount:function(){},watch:{},methods:{},mounted:function(){source.gitRemoteForm=this.$refs["git-remote"],source.gitCertificateForm=this.$refs["git-certificate"],source.gitPlusForm=this.$refs["git-plus"],source.gitPushForm=this.$refs["git-push"],source.gitRevertForm=this.$refs["git-revert"],source.starterForm=this.$refs["starter-form"],source.runnerForm=this.$refs["runner-form"],source.branchCreateForm=this.$refs["branch-create"],source.appOptionForm=this.$refs["app-option-form"]}},K={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-repository",class:{show:"/"==e.$route.path,"repository-fullscreen":e.repository.fullscreen}},[o("div",{staticClass:"repository-screen-control-toolbar"},[e.repository.fullscreen?e._e():o("a",{staticClass:"repository-screen-control coos-icon coos-icon-fullscreen",attrs:{title:"撑满屏幕"},on:{click:function(t){return e.source.fullScreen()}}}),e._v(" "),e.repository.fullscreen?o("a",{staticClass:"repository-screen-control coos-icon coos-icon-fullscreen-exit",attrs:{title:"还原屏幕"},on:{click:function(t){return e.source.fullScreenExit()}}}):e._e()]),e._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.repository.loading,expression:"repository.loading"}],staticClass:"repository-box",attrs:{"element-loading-text":e.repository.loading_msg}},[o("div",{staticClass:"repository-top"}),e._v(" "),o("div",{staticClass:"repository-left"},[o("Project",{attrs:{repository:e.repository}})],1),e._v(" "),o("div",{staticClass:"repository-center"},[o("Tabs",{attrs:{repository:e.repository}})],1),e._v(" "),o("div",{staticClass:"repository-contextmenu"},[o("Contextmenu",{attrs:{contextmenu:e.repository.contextmenu}})],1),e._v(" "),o("Starter",{attrs:{repository:e.repository}}),e._v(" "),o("Runner",{attrs:{repository:e.repository}}),e._v(" "),o("GitCertificate",{ref:"git-certificate"}),e._v(" "),o("GitRemote",{ref:"git-remote"}),e._v(" "),o("GitPlus",{ref:"git-plus"}),e._v(" "),o("GitPush",{ref:"git-push"}),e._v(" "),o("GitRevert",{ref:"git-revert"}),e._v(" "),o("StarterForm",{ref:"starter-form"}),e._v(" "),o("RunnerForm",{ref:"runner-form"}),e._v(" "),o("BranchCreate",{ref:"branch-create"}),e._v(" "),o("AppOptionForm",{ref:"app-option-form"})],1)])},staticRenderFns:[]};var Z=o("VU/8")(Y,K,!1,function(e){o("0Ib2")},null,null);t.a=Z.exports},"zxm+":function(e,t){}},["NHnr"]);